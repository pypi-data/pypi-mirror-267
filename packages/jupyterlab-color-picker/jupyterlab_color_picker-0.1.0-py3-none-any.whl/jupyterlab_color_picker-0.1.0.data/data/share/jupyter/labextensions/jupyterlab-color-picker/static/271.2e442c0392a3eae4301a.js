"use strict";(self.webpackChunkjupyterlab_color_picker=self.webpackChunkjupyterlab_color_picker||[]).push([[271,652],{652:(e,r,t)=>{t.r(r),t.d(r,{colorPicker:()=>v,wrapperClassName:()=>y});var a=t(24),o=t(708),n=t(84);const f=new Map([["aliceblue","#f0f8ff"],["antiquewhite","#faebd7"],["aqua","#00ffff"],["aquamarine","#7fffd4"],["azure","#f0ffff"],["beige","#f5f5dc"],["bisque","#ffe4c4"],["black","#000000"],["blanchedalmond","#ffebcd"],["blue","#0000ff"],["blueviolet","#8a2be2"],["brown","#a52a2a"],["burlywood","#deb887"],["cadetblue","#5f9ea0"],["chartreuse","#7fff00"],["chocolate","#d2691e"],["coral","#ff7f50"],["cornflowerblue","#6495ed"],["cornsilk","#fff8dc"],["crimson","#dc143c"],["cyan","#00ffff"],["darkblue","#00008b"],["darkcyan","#008b8b"],["darkgoldenrod","#b8860b"],["darkgray","#a9a9a9"],["darkgreen","#006400"],["darkgrey","#a9a9a9"],["darkkhaki","#bdb76b"],["darkmagenta","#8b008b"],["darkolivegreen","#556b2f"],["darkorange","#ff8c00"],["darkorchid","#9932cc"],["darkred","#8b0000"],["darksalmon","#e9967a"],["darkseagreen","#8fbc8f"],["darkslateblue","#483d8b"],["darkslategray","#2f4f4f"],["darkslategrey","#2f4f4f"],["darkturquoise","#00ced1"],["darkviolet","#9400d3"],["deeppink","#ff1493"],["deepskyblue","#00bfff"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1e90ff"],["firebrick","#b22222"],["floralwhite","#fffaf0"],["forestgreen","#228b22"],["fuchsia","#ff00ff"],["gainsboro","#dcdcdc"],["ghostwhite","#f8f8ff"],["goldenrod","#daa520"],["gold","#ffd700"],["gray","#808080"],["green","#008000"],["greenyellow","#adff2f"],["grey","#808080"],["honeydew","#f0fff0"],["hotpink","#ff69b4"],["indianred","#cd5c5c"],["indigo","#4b0082"],["ivory","#fffff0"],["khaki","#f0e68c"],["lavenderblush","#fff0f5"],["lavender","#e6e6fa"],["lawngreen","#7cfc00"],["lemonchiffon","#fffacd"],["lightblue","#add8e6"],["lightcoral","#f08080"],["lightcyan","#e0ffff"],["lightgoldenrodyellow","#fafad2"],["lightgray","#d3d3d3"],["lightgreen","#90ee90"],["lightgrey","#d3d3d3"],["lightpink","#ffb6c1"],["lightsalmon","#ffa07a"],["lightseagreen","#20b2aa"],["lightskyblue","#87cefa"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#b0c4de"],["lightyellow","#ffffe0"],["lime","#00ff00"],["limegreen","#32cd32"],["linen","#faf0e6"],["magenta","#ff00ff"],["maroon","#800000"],["mediumaquamarine","#66cdaa"],["mediumblue","#0000cd"],["mediumorchid","#ba55d3"],["mediumpurple","#9370db"],["mediumseagreen","#3cb371"],["mediumslateblue","#7b68ee"],["mediumspringgreen","#00fa9a"],["mediumturquoise","#48d1cc"],["mediumvioletred","#c71585"],["midnightblue","#191970"],["mintcream","#f5fffa"],["mistyrose","#ffe4e1"],["moccasin","#ffe4b5"],["navajowhite","#ffdead"],["navy","#000080"],["oldlace","#fdf5e6"],["olive","#808000"],["olivedrab","#6b8e23"],["orange","#ffa500"],["orangered","#ff4500"],["orchid","#da70d6"],["palegoldenrod","#eee8aa"],["palegreen","#98fb98"],["paleturquoise","#afeeee"],["palevioletred","#db7093"],["papayawhip","#ffefd5"],["peachpuff","#ffdab9"],["peru","#cd853f"],["pink","#ffc0cb"],["plum","#dda0dd"],["powderblue","#b0e0e6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#ff0000"],["rosybrown","#bc8f8f"],["royalblue","#4169e1"],["saddlebrown","#8b4513"],["salmon","#fa8072"],["sandybrown","#f4a460"],["seagreen","#2e8b57"],["seashell","#fff5ee"],["sienna","#a0522d"],["silver","#c0c0c0"],["skyblue","#87ceeb"],["slateblue","#6a5acd"],["slategray","#708090"],["slategrey","#708090"],["snow","#fffafa"],["springgreen","#00ff7f"],["steelblue","#4682b4"],["tan","#d2b48c"],["teal","#008080"],["thistle","#d8bfd8"],["tomato","#ff6347"],["turquoise","#40e0d0"],["violet","#ee82ee"],["wheat","#f5deb3"],["white","#ffffff"],["whitesmoke","#f5f5f5"],["yellow","#ffff00"],["yellowgreen","#9acd32"]]);const l=new WeakMap;var s=function(e){return e.rgb="RGB",e.hex="HEX",e.named="NAMED",e.hsl="HSL",e}(s||(s={}));const c=/rgb(?:a)?\(\s*(\d{1,3}%?)\s*,?\s*(\d{1,3}%?)\s*,?\s*(\d{1,3}%?)\s*(,\s*0?\.\d+)?\)/,i=/hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(,\s*0?\.\d+)?\)/;function d(e,r,t,a,n){var l;switch(a){case"AttributeValue":{const t=e.resolveInner(r,0).tree;if(!t)return null;const a=null===(l=t.prop(o.NodeProp.mounted))||void 0===l?void 0:l.tree;if("Styles"!==(null==a?void 0:a.type.name))return null;const f=[];return a.iterate({from:0,to:a.length,enter:({type:t,from:a,to:o})=>{const l=d(e,r+1+a,r+1+o,t.name,n);if(l){if(Array.isArray(l))throw new Error("Unexpected nested overlays");f.push(l)}}}),f}case"CallExpression":{const e=n.sliceString(r,t);switch(e.slice(0,3)){case"rgb":{const a=c.exec(e);if(!a)return null;const[o,n,f,l,i]=a,d=function(e,r,t){return`#${h(e)}${h(r)}${h(t)}`}(n,f,l);return{colorType:s.rgb,color:d,from:r,to:t,alpha:i||""}}case"hsl":{const a=i.exec(e);if(!a)return null;const[o,n,f,l,c]=a,d=function(e,r,t){const a=Number(r)/100,o=Number(t)/100,[n,f,l]=function(e,r,t){if(0===r){const e=Math.round(255*t);return[e,e,e]}let a;a=t<.5?t*(1+r):t+r-t*r;const o=2*t-a,n=g(.333+(e/=360)),f=e,l=g(e-.333),s=m(a,o,n),c=m(a,o,f),i=m(a,o,l);return[Math.round(255*s),Math.round(255*c),Math.round(255*i)]}(Number(e),a,o);return`#${p(n)}${p(f)}${p(l)}`}(n,f,l);return{colorType:s.hsl,color:d,from:r,to:t,alpha:c||""}}default:return null}}case"ColorLiteral":{const[e,a]=function(e){return 4===e.length?[`#${e[1].repeat(2)}${e[2].repeat(2)}${e[3].repeat(2)}`,""]:5===e.length?[`#${e[1].repeat(2)}${e[2].repeat(2)}${e[3].repeat(2)}`,e[4].repeat(2)]:9===e.length?[`#${e.slice(1,-2)}`,e.slice(-2)]:[e,""]}(n.sliceString(r,t));return{colorType:s.hex,color:e,from:r,to:t,alpha:a}}case"ValueName":{const e=n.sliceString(r,t),a=f.get(e);return a?{colorType:s.named,color:a,from:r,to:t,alpha:""}:null}default:return null}}function u(e){const r=[],t=(0,n.syntaxTree)(e.state);for(const o of e.visibleRanges)t.iterate({from:o.from,to:o.to,enter:({type:o,from:n,to:f})=>{const l=d(t,n,f,o.name,e.state.doc);if(l)if(Array.isArray(l))for(const e of l)r.push(a.Decoration.widget({widget:new w(e),side:1}).range(e.from));else r.push(a.Decoration.widget({widget:new w(l),side:1}).range(l.from))}});return a.Decoration.set(r)}function h(e){let r;if(e.endsWith("%")){const t=Number(e.slice(0,-1));r=Math.round(t/100*255)}else r=Number(e);return p(r)}function p(e){const r=e.toString(16);return 1==r.length?"0"+r:r}function b(e){const r=e.slice(1,3),t=e.slice(3,5),a=e.slice(5,7);return[parseInt(r,16),parseInt(t,16),parseInt(a,16)]}function g(e){return e<0?e+1:e>1?e-1:e}function m(e,r,t){return 6*t<1?r+6*(e-r)*t:2*t<1?e:3*t<2?r+(e-r)*(.666-t)*6:r}const y="cm-css-color-picker-wrapper";class w extends a.WidgetType{constructor(e){var{color:r}=e,t=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t}(e,["color"]);super(),this.state=t,this.color=r}eq(e){return e.state.colorType===this.state.colorType&&e.color===this.color&&e.state.from===this.state.from&&e.state.to===this.state.to&&e.state.alpha===this.state.alpha}toDOM(){const e=document.createElement("input");l.set(e,this.state),e.type="color",e.value=this.color;const r=document.createElement("span");return r.appendChild(e),r.className=y,r}ignoreEvent(){return!1}}const k=a.EditorView.baseTheme({[`.${y}`]:{display:"inline-block",outline:"1px solid #eee",marginRight:"0.6ch",height:"1em",width:"1em",transform:"translateY(1px)"},[`.${y} input[type="color"]`]:{cursor:"pointer",height:"100%",width:"100%",padding:0,border:"none","&::-webkit-color-swatch-wrapper":{padding:0},"&::-webkit-color-swatch":{border:"none"},"&::-moz-color-swatch":{border:"none"}}}),v=[a.ViewPlugin.fromClass(class{constructor(e){this.decorations=u(e)}update(e){(e.docChanged||e.viewportChanged)&&(this.decorations=u(e.view))}},{decorations:e=>e.decorations,eventHandlers:{change:(e,r)=>{const t=e.target;if("INPUT"!==t.nodeName||!t.parentElement||!t.parentElement.classList.contains(y))return!1;const a=l.get(t);let o=t.value+a.alpha;if(a.colorType===s.rgb)o=`rgb(${b(t.value).join(", ")}${a.alpha})`;else if(a.colorType===s.named)for(const[e,r]of f.entries())r===t.value&&(o=e);else if(a.colorType===s.hsl){const[e,r,n]=b(t.value),[f,l,s]=function(e,r,t){const a=e/255,o=r/255,n=t/255,f=Math.min(a,o,n),l=Math.max(a,o,n),s=(l+f)/2;if(l===f)return[0,0,s];let c,i;for(c=s<=.5?(l-f)/(l+f):(l-f)/(2-l-f),i=l===a?(o-n)/(l-f):o===l?2+(n-a)/(l-f):4+(a-o)/(l-f),i=Math.round(60*i);i<0;)i+=360;return[i,c,s]}(e,r,n);o=`hsl(${f}, ${Math.round(100*l)}%, ${Math.round(100*s)}%${a.alpha})`}return r.dispatch({changes:{from:a.from,to:a.to,insert:o}}),!0}}}),k]}}]);