{% macro flash_messages() %}
    {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            <ul>
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show"
                         role="alert">
                        <button type="button" class="btn btn-transparent p-1"
                                data-bs-dismiss="alert"
                                aria-label="Close">
                            <span class="fas fa-times fs--1"></span>
                        </button>
                        <strong>{{ message }}</strong>
                    </div>
                    <script>
                        // Close the alert after 5 seconds using vanilla JavaScript
                        window.setTimeout(function () {
                            var alert = document.querySelector('.alert-{{ category }}');
                            alert.classList.remove('show');
                            window.setTimeout(function () {
                                alert.parentNode.removeChild(alert);
                            }, 1000); // delay removal for fade-out transition
                        }, 5000);
                    </script>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
{% endmacro %}