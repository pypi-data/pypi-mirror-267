import streamlit as st
from __init__ import horizontal_plot

st.set_page_config(layout="wide")

# data = [
#     {
#       "index": 0,
#       "label": "test",
#       "valueLabel": "Total Skill Damage",
#       "value": .45,
#       "valueString": "4000",
#       "frequencyLabel": "Total Number of Heroes",
#       "frequency": 10,
#       "freqPer": .5,
#       "moreD": [
#         { "id": 0, "label": "test", "value": 100, "perc": .5, "imgUrl":"" },
#         { "id": 1, "label": "test", "value": 100, "perc": .25 },
#         { "id": 2, "label": "test", "value": 100, "perc": .25 },
#       ],
#     },
#     {
#       "index": 0,
#       "label": "test",
#       "valueLabel": "Total Skill Damage",
#       "value": .25,
#       "valueString": "4000",
#       "frequencyLabel": "Total Number of Heroes",
#       "frequency": 10,
#       "freqPer": .1,
#       "moreD": [
#         { "id": 0, "label": "test", "value": 100, "perc": .5 },
#         { "id": 1, "label": "test", "value": 100, "perc": .25 },
#         { "id": 2, "label": "test", "value": 100, "perc": .25 },
#       ],
#     },
#     {
#       "index": 0,
#       "label": "test",
#       "valueLabel": "Total Skill Damage",
#       "value": .15,
#       "valueString": "4000",
#       "frequencyLabel": "Total Number of Heroes",
#       "frequency": 10,
#       "freqPer": .1,
#       "moreD": [
#         { "id": 0, "label": "test", "value": 100, "perc": .5 },
#         { "id": 1, "label": "test", "value": 100, "perc": .25 },
#         { "id": 2, "label": "test", "value": 100, "perc": .25 },
#       ],
#     },
#     {
#       "index": 0,
#       "label": "test",
#       "valueLabel": "Total Skill Damage",
#       "value": .15,
#       "valueString": "4000",
#       "frequencyLabel": "Total Number of Heroes",
#       "frequency": 10,
#       "freqPer": .3,
#       "moreD": [
#         { "id": 0, "label": "test", "value": 100, "perc": .5 },
#         { "id": 1, "label": "test", "value": 120, "perc": .25 },
#         { "id": 2, "label": "test", "value": 150, "perc": .25 },
#       ],
#     },
#   ]


data = [{'index': 1,
        'label': 'Mobility',
        'valueLabel': 'Total Skill Damage',
        'value': 0.03974152473468126,
        'valueString': 298621.9,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 9,
        'freqPer': 0.14754098360655737,
        'moreD': [{'label': 'Bruno', 'value': 26910.6, 'perc': 9.01159626939618},
        {'label': 'Claude', 'value': 14355.0, 'perc': 4.807082132958098},
        {'label': 'Clint', 'value': 22945.5, 'perc': 7.683796801239293},
        {'label': 'Granger', 'value': 67185.0, 'perc': 22.498349920082887},
        {'label': 'Irithel', 'value': 88300.8, 'perc': 29.569432114657364},
        {'label': 'Karrie', 'value': 31977.0, 'perc': 10.708189854796316},
        {'label': 'Kimmy', 'value': 46728.0, 'perc': 15.647881150042913},
        {'label': 'Lesley', 'value': 220.0, 'perc': 0.07367175682694403},
        {'label': 'Melissa', 'value': 0.0, 'perc': 0.0}]},
        {'index': 2,
        'label': 'CC',
        'valueLabel': 'Total Skill Damage',
        'value': 0.0670114393235554,
        'valueString': 503530.83999999997,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 7,
        'freqPer': 0.11475409836065574,
        'moreD': [{'label': 'Bruno', 'value': 47369.04, 'perc': 9.40737612019951},
        {'label': 'Clint', 'value': 22945.5, 'perc': 4.55692048574423},
        {'label': 'Edith', 'value': 196552.8, 'perc': 39.034907971078795},
        {'label': 'Hanabi', 'value': 35028.0, 'perc': 6.956475595417354},
        {'label': 'Lesley', 'value': 220.0, 'perc': 0.04369146485645249},
        {'label': 'Miya', 'value': 83853.0, 'perc': 16.653001830036867},
        {'label': 'Moskov', 'value': 117562.5, 'perc': 23.347626532666798}]},
        {'index': 3,
        'label': 'Teleport',
        'valueLabel': 'Total Skill Damage',
        'value': 0.003120133009014416,
        'valueString': 23445.0,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 1,
        'freqPer': 0.01639344262295082,
        'moreD': [{'label': 'Moskov', 'value': 23445.0, 'perc': 100.0}]},
        {'index': 4,
        'label': 'AOE',
        'valueLabel': 'Total Skill Damage',
        'value': 0.2392307537043236,
        'valueString': 1797604.4625,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 10,
        'freqPer': 0.16393442622950818,
        'moreD': [{'label': 'Claude', 'value': 25281.0, 'perc': 1.40637167560436},
        {'label': 'Clint', 'value': 87244.7625, 'perc': 4.853390404842745},
        {'label': 'Edith', 'value': 549066.0, 'perc': 30.544316697811936},
        {'label': 'Hanabi', 'value': 61110.0, 'perc': 3.399524271040799},
        {'label': 'Irithel', 'value': 82620.0, 'perc': 4.596116761142053},
        {'label': 'Karrie', 'value': 130509.0, 'perc': 7.260162217137353},
        {'label': 'Kimmy', 'value': 185975.7, 'perc': 10.345752020517141},
        {'label': 'Layla', 'value': 227246.25, 'perc': 12.64161581374579},
        {'label': 'Melissa', 'value': 180348.75, 'perc': 10.03272709665962},
        {'label': 'Miya', 'value': 268203.0, 'perc': 14.92002304149821}]},
        {'index': 5,
        'label': 'Camouflage',
        'valueLabel': 'Total Skill Damage',
        'value': 0.0106606208013265,
        'valueString': 80105.0,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 1,
        'freqPer': 0.01639344262295082,
        'moreD': [{'label': 'Lesley', 'value': 80105.0, 'perc': 100.0}]},
        {'index': 6,
        'label': 'Slow',
        'valueLabel': 'Total Skill Damage',
        'value': 0.0671774218823173,
        'valueString': 504778.05,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 7,
        'freqPer': 0.11475409836065574,
        'moreD': [{'label': 'Bruno', 'value': 36339.0, 'perc': 7.199005582750677},
        {'label': 'Clint', 'value': 20817.0, 'perc': 4.123990732164364},
        {'label': 'Granger', 'value': 32086.8, 'perc': 6.356615546179158},
        {'label': 'Irithel', 'value': 34335.0, 'perc': 6.8019994134055555},
        {'label': 'Karrie', 'value': 130509.0, 'perc': 25.854729618294613},
        {'label': 'Layla', 'value': 227246.25, 'perc': 45.01904351823539},
        {'label': 'Moskov', 'value': 23445.0, 'perc': 4.644615588970242}]},
        {'index': 7,
        'label': 'Debuff',
        'valueLabel': 'Total Skill Damage',
        'value': 0.03042728557687139,
        'valueString': 228633.75,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 2,
        'freqPer': 0.03278688524590164,
        'moreD': [{'label': 'Irithel', 'value': 48285.0, 'perc': 21.118929291935245},
        {'label': 'Melissa', 'value': 180348.75, 'perc': 78.88107070806475}]},
        {'index': 8,
        'label': 'Burst',
        'valueLabel': 'Total Skill Damage',
        'value': 0.1983229523295276,
        'valueString': 1490219.04,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 8,
        'freqPer': 0.13114754098360656,
        'moreD': [{'label': 'Bruno', 'value': 20458.44, 'perc': 1.3728478465823386},
        {'label': 'Claude', 'value': 97090.2, 'perc': 6.515163032677397},
        {'label': 'Edith', 'value': 482520.0, 'perc': 32.379132667637904},
        {'label': 'Granger', 'value': 201052.8, 'perc': 13.491493170024185},
        {'label': 'Karrie', 'value': 95371.2, 'perc': 6.399810862703781},
        {'label': 'Kimmy', 'value': 36918.9, 'perc': 2.4774143269569286},
        {'label': 'Layla', 'value': 513607.5, 'perc': 34.46523539250981},
        {'label': 'Lesley', 'value': 43200.0, 'perc': 2.8989027009076462}]},
        {'index': 9,
        'label': 'Shield',
        'valueLabel': 'Total Skill Damage',
        'value': 0.0129210636754878,
        'valueString': 97090.2,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 2,
        'freqPer': 0.03278688524590164,
        'moreD': [{'label': 'Claude', 'value': 97090.2, 'perc': 100.0},
        {'label': 'Hanabi', 'value': 0.0, 'perc': 0.0}]},
        {'index': 10,
        'label': 'Damage',
        'valueLabel': 'Total Skill Damage',
        'value': 0.02473728485886484,
        'valueString': 185878.5,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 3,
        'freqPer': 0.04918032786885246,
        'moreD': [{'label': 'Bruno', 'value': 36339.0, 'perc': 19.549867251995252},
        {'label': 'Karrie', 'value': 31977.0, 'perc': 17.203173040453844},
        {'label': 'Moskov', 'value': 117562.5, 'perc': 63.2469597075509}]},
        {'index': 11,
        'label': 'Summon',
        'valueLabel': 'Total Skill Damage',
        'value': 0.00995927292512663,
        'valueString': 74835.0,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 2,
        'freqPer': 0.03278688524590164,
        'moreD': [{'label': 'Claude', 'value': 14355.0, 'perc': 19.182200841852072},
        {'label': 'Melissa', 'value': 60480.0, 'perc': 80.81779915814793}]},
        {'index': 12,
        'label': 'Buff',
        'valueLabel': 'Total Skill Damage',
        'value': 0.2966902471789033,
        'valueString': 2229361.0,
        'frequencyLabel': 'Total Number of Heroes',
        'frequency': 9,
        'freqPer': 0.14754098360655737,
        'moreD': [{'label': 'Claude', 'value': 50562.0, 'perc': 2.268004150068114},
        {'label': 'Granger', 'value': 134370.0, 'perc': 6.027287639821456},
        {'label': 'Hanabi', 'value': 0.0, 'perc': 0.0},
        {'label': 'Irithel', 'value': 176601.6, 'perc': 7.921624178408074},
        {'label': 'Karrie', 'value': 190742.4, 'perc': 8.555922526679169},
        {'label': 'Layla', 'value': 1027215.0, 'perc': 46.076656046284114},
        {'label': 'Lesley', 'value': 160210.0, 'perc': 7.1863641644399445},
        {'label': 'Melissa', 'value': 120960.0, 'perc': 5.425769985211009},
        {'label': 'Miya', 'value': 368700.0, 'perc': 16.53837130908812}]}]



titlesForChart = [
    { "index": 0, "label": "Total Damage" },
    { "index": 1, "label": "Hero Groups" }
  ]
with st.columns([1,8,1])[1]:
    horizontal_plot(data=data, titlesForChart=titlesForChart, verticalWidthScale=300, horizontalPlot=True)

# with st.container(border=True):
#     st.write("hi")