function rr(N,z){for(var b=0;b<z.length;b++){const O=z[b];if(typeof O!="string"&&!Array.isArray(O)){for(const S in O)if(S!=="default"&&!(S in N)){const P=Object.getOwnPropertyDescriptor(O,S);P&&Object.defineProperty(N,S,P.get?P:{enumerable:!0,get:()=>O[S]})}}}return Object.freeze(Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}))}var $={exports:{}};(function(N){var z=function(){function b(n){var a=K(n.length);return I(n,q(B(a,n),1/n.length))}function O(n){var a=B(T(n),n);return a}function S(n,a){var o;return a?o=q(n,1/(n.length-1)):o=q(n,1/n.length),o}function P(n){var a=k(n);console.log(a);var o=a.U,u=a.S,i=u.map(function(c,r){var e={};return e.eigenvalue=c,e.vector=o.map(function(t,g){return-1*t[r]}),e});return i}function F(n,...a){var o=a.map(function(t){return t.vector}),u=b(n),i=B(o,T(u)),c=K(n.length),r=q(B(c,n),-1/n.length),e=H(i,2);return{adjustedData:i,formattedAdjustedData:e,avgData:r,selectedVectors:o}}function Y(n,a,o){var u=T(B(T(a),n)),i=I(u,o),c=H(i,2);return{originalData:i,formattedOriginalData:c}}function Z(n,...a){var o=n.map(function(i){return i.eigenvalue}).reduce(function(i,c){return i+c}),u=a.map(function(i){return i.eigenvalue}).reduce(function(i,c){return i+c});return u/o}function G(n){return P(S(O(b(n)),!1))}function j(n){var a=G(n),o=a.sort(function(i,c){return c.eigenvalue-i.eigenvalue});console.log("Sorted Vectors",o);var u=o[0].vector;return F(n,u)}function H(n,a){var o=Math.pow(10,a||2);return n.map(function(u,i){return u.map(function(c){return Math.round(c*o)/o})})}function B(n,a){if(!n[0]||!a[0]||!n.length||!a.length)throw new Error("Both A and B should be matrices");if(a.length!==n[0].length)throw new Error("Columns in A should be the same as the number of rows in B");for(var o=[],u=0;u<n.length;u++){o[u]=[];for(var i=0;i<a[0].length;i++)for(var c=0;c<n[0].length;c++)o[u][i]=o[u][i]?o[u][i]+n[u][c]*a[c][i]:n[u][c]*a[c][i]}return o}function I(n,a){if(!(n.length===a.length&&n[0].length===a[0].length))throw new Error("Both A and B should have the same dimensions");for(var o=[],u=0;u<n.length;u++){o[u]=[];for(var i=0;i<a[0].length;i++)o[u][i]=n[u][i]-a[u][i]}return o}function q(n,a){for(var o=[],u=0;u<n.length;u++){o[u]=[];for(var i=0;i<n[0].length;i++)o[u][i]=n[u][i]*a}return o}function K(n){for(var a=[],o=0;o<n;o++){a[o]=[];for(var u=0;u<n;u++)a[o][u]=1}return a}function T(n){var a=R(n);return a[0].map(function(o,u){return n.map(function(i){return i[u]})})}function R(n){var a=JSON.stringify(n),o=JSON.parse(a);return o}function k(n){var a,o=Math.pow(2,-52),u=1e-64/o,i=50,c=0,r=0,e=0,t=0,g=0,f=R(n),E=f.length,m=f[0].length;if(E<m)throw"Need more rows than columns";var w=new Array(m),d=new Array(m);for(r=0;r<m;r++)w[r]=d[r]=0;var D=L([m,m],0);function J(V,A){return V=Math.abs(V),A=Math.abs(A),V>A?V*Math.sqrt(1+A*A/V/V):A==0?V:A*Math.sqrt(1+V*V/A/A)}function L(V,A,_){typeof _>"u"&&(_=0);var W=V[_],C=Array(W),x;if(_===V.length-1){for(x=W-2;x>=0;x-=2)C[x+1]=A,C[x]=A;return x===-1&&(C[0]=A),C}for(x=W-1;x>=0;x--)C[x]=L(V,A,_+1);return C}var v=0,s=0,h=0,y=0,M=0,p=0,l=0;for(r=0;r<m;r++){for(w[r]=s,l=0,g=r+1,e=r;e<E;e++)l+=f[e][r]*f[e][r];if(l<=u)s=0;else for(v=f[r][r],s=Math.sqrt(l),v>=0&&(s=-s),h=v*s-l,f[r][r]=v-s,e=g;e<m;e++){for(l=0,t=r;t<E;t++)l+=f[t][r]*f[t][e];for(v=l/h,t=r;t<E;t++)f[t][e]+=v*f[t][r]}for(d[r]=s,l=0,e=g;e<m;e++)l=l+f[r][e]*f[r][e];if(l<=u)s=0;else{for(v=f[r][r+1],s=Math.sqrt(l),v>=0&&(s=-s),h=v*s-l,f[r][r+1]=v-s,e=g;e<m;e++)w[e]=f[r][e]/h;for(e=g;e<E;e++){for(l=0,t=g;t<m;t++)l+=f[e][t]*f[r][t];for(t=g;t<m;t++)f[e][t]+=l*w[t]}}M=Math.abs(d[r])+Math.abs(w[r]),M>y&&(y=M)}for(r=m-1;r!=-1;r+=-1){if(s!=0){for(h=s*f[r][r+1],e=g;e<m;e++)D[e][r]=f[r][e]/h;for(e=g;e<m;e++){for(l=0,t=g;t<m;t++)l+=f[r][t]*D[t][e];for(t=g;t<m;t++)D[t][e]+=l*D[t][r]}}for(e=g;e<m;e++)D[r][e]=0,D[e][r]=0;D[r][r]=1,s=w[r],g=r}for(r=m-1;r!=-1;r+=-1){for(g=r+1,s=d[r],e=g;e<m;e++)f[r][e]=0;if(s!=0){for(h=f[r][r]*s,e=g;e<m;e++){for(l=0,t=g;t<E;t++)l+=f[t][r]*f[t][e];for(v=l/h,t=r;t<E;t++)f[t][e]+=v*f[t][r]}for(e=r;e<E;e++)f[e][r]=f[e][r]/s}else for(e=r;e<E;e++)f[e][r]=0;f[r][r]+=1}for(o=o*y,t=m-1;t!=-1;t+=-1)for(var U=0;U<i;U++){var Q=!1;for(g=t;g!=-1;g+=-1){if(Math.abs(w[g])<=o){Q=!0;break}if(Math.abs(d[g-1])<=o)break}if(!Q){c=0,l=1;var X=g-1;for(r=g;r<t+1&&(v=l*w[r],w[r]=c*w[r],!(Math.abs(v)<=o));r++)for(s=d[r],h=J(v,s),d[r]=h,c=s/h,l=-v/h,e=0;e<E;e++)M=f[e][X],p=f[e][r],f[e][X]=M*c+p*l,f[e][r]=-M*l+p*c}if(p=d[t],g==t){if(p<0)for(d[t]=-p,e=0;e<m;e++)D[e][t]=-D[e][t];break}if(U>=i-1)throw"Error: no convergence.";for(y=d[g],M=d[t-1],s=w[t-1],h=w[t],v=((M-p)*(M+p)+(s-h)*(s+h))/(2*h*M),s=J(v,1),v<0?v=((y-p)*(y+p)+h*(M/(v-s)-h))/y:v=((y-p)*(y+p)+h*(M/(v+s)-h))/y,c=1,l=1,r=g+1;r<t+1;r++){for(s=w[r],M=d[r],h=l*s,s=c*s,p=J(v,h),w[r-1]=p,c=v/p,l=h/p,v=y*c+s*l,s=-y*l+s*c,h=M*l,M=M*c,e=0;e<m;e++)y=D[e][r-1],p=D[e][r],D[e][r-1]=y*c+p*l,D[e][r]=-y*l+p*c;for(p=J(v,h),d[r-1]=p,c=v/p,l=h/p,v=c*s+l*M,y=-l*s+c*M,e=0;e<E;e++)M=f[e][r-1],p=f[e][r],f[e][r-1]=M*c+p*l,f[e][r]=-M*l+p*c}w[g]=0,w[t]=v,d[t]=y}for(r=0;r<d.length;r++)d[r]<o&&(d[r]=0);for(r=0;r<m;r++)for(e=r-1;e>=0;e--)if(d[e]<d[r]){for(c=d[e],d[e]=d[r],d[r]=c,t=0;t<f.length;t++)a=f[t][r],f[t][r]=f[t][e],f[t][e]=a;for(t=0;t<D.length;t++)a=D[t][r],D[t][r]=D[t][e],D[t][e]=a;r=e}return{U:f,S:d,V:D}}return{computeDeviationScores:O,computeDeviationMatrix:b,computeSVD:P,computePercentageExplained:Z,computeOriginalData:Y,computeVarianceCovariance:S,computeAdjustedData:F,getEigenVectors:G,analyseTopResult:j,transpose:T,multiply:B,clone:R,scale:q}}();N.exports=z})($);const er=$.exports,tr=rr({__proto__:null,default:er},[$.exports]);export{tr as p};
//# sourceMappingURL=pca.b229dd6b.js.map
