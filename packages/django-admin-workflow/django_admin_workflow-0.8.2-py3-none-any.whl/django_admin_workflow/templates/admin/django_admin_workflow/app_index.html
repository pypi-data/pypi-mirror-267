{% extends "admin/index.html" %}
{% load i18n %}

{% block bodyclass %}{{ block.super }} app-{{ app_label }}{% endblock %}

{% block content-desc %}
<div class="module">
  <h3>Partitionnement des données</h3>
  <p>Créer des <a href="space">espaces</a> qui ne sont autres que des groupes spécifiques
  d'utilisateurs permettant de cloisonner les données dans le contexte des objets de workflow.</p>


  <h3>Paramétrage d'un workflow</h3>
  <p>Créer un workflow par import d'un fichier au format .toml. Les commandes
    django-admin suivantes sont utilisées ainsi (elles sont auto-documentées et assistent l'opération):

    <pre>add_sample : </pre> crée des données Espace, utilisateurs facilitant les tests
    <pre>gen_workflow_template : </pre> génère un fichier patron au format .toml qui spécifie
    entièrement le workflow. Ce patron sera d'autant plus précis que vous aurez auparavant créé et/ou
    mentionné le modèle django de votre workflow (basé sur BaseStateModel au lieu de models.Model)
    <pre>import_workflow : </pre> Cette commande analyse votre fichier workflow et créé les objets
    en base Status, configurations de rôle, permissions, qui pourront être personnalisées depuis
    l'interface admin (voir ci-dessous) comme les couleurs et labels des statuts et des boutons action

  </p>
  <p>Modifier le <a href="status">statut</a> de chaque état dans lequel peut se trouver vos modèles. Les statuts
  sont communs à tous les worflows, ils sont automatiquement créés lors de l'import du workflow</p>
  <p>Modifier la <a href="rolepermission">configuration de rôle</a> pour chaque rôle du workflow, ces rôles sont  automatiquement créés lors
    de l'import du workflow.</p>

  <p><a href="{% url 'workflow' %}">Workflow definition</a></p>
  <h1>Accès direct au paramétrage de workflows</h1>

</div>

{% endblock %}


{% if not is_popup %}
{% block nav-breadcrumbs %}
  <nav aria-label="{% translate 'Breadcrumbs' %}">
    <div class="breadcrumbs">
      <a href="{% url 'admin:index' %}">{% translate 'Home' %}</a>
      &rsaquo;
      {% for app in app_list %}
        {{ app.name }}
      {% endfor %}
    </div>
  </nav>
{% endblock %}
{% endif %}

