/*! For license information please see 60196.RJ9pMYDOGNI.js.LICENSE.txt */
export const id=60196;export const ids=[60196,23141];export const modules={48075:(e,t,i)=>{i.d(t,{O:()=>o});i(70342);var a=i(62155),n=i(46254);const o=[a.a,n.x,{hostAttributes:{role:"option",tabindex:"0"}}]},90649:(e,t,i)=>{i(70342),i(56238),i(77976);var a=i(79758),n=i(24692);(0,a.b)({_template:n.q` <style>:host{overflow:hidden;@apply --layout-vertical;@apply --layout-center-justified;@apply --layout-flex;}:host([two-line]){min-height:var(--paper-item-body-two-line-min-height,72px)}:host([three-line]){min-height:var(--paper-item-body-three-line-min-height,88px)}:host>::slotted(*){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host>::slotted([secondary]){@apply --paper-font-body1;color:var(--paper-item-body-secondary-color,var(--secondary-text-color));@apply --paper-item-body-secondary;}</style> <slot></slot> `,is:"paper-item-body"})},70351:(e,t,i)=>{i(56238),i(77976);const a=document.createElement("template");a.setAttribute("style","display: none;"),a.innerHTML="<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(a.content)},53640:(e,t,i)=>{i(70342),i(56238),i(70351);var a=i(79758),n=i(24692),o=i(48075);(0,a.b)({_template:n.q` <style include="paper-item-shared-styles">:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style> <slot></slot> `,is:"paper-item",behaviors:[o.O]})},77976:(e,t,i)=>{i(70342);const a=i(24692).q`<custom-style> <style is="custom-style">html{--paper-font-common-base:{font-family:Roboto,Noto,sans-serif;-webkit-font-smoothing:antialiased};--paper-font-common-code:{font-family:'Roboto Mono',Consolas,Menlo,monospace;-webkit-font-smoothing:antialiased};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:.011em;line-height:20px};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:.018em;line-height:24px;text-transform:uppercase};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px};}</style> </custom-style>`;a.setAttribute("style","display: none;"),document.head.appendChild(a.content)},76502:(e,t,i)=>{i.d(t,{Vy:()=>o,fI:()=>s});var a=i(92849);const n=["#44739e","#984ea3","#00d2d5","#ff7f00","#af8d00","#7f80cd","#b3e900","#c42e60","#a65628","#f781bf","#8dd3c7","#bebada","#fb8072","#80b1d3","#fdb462","#fccde5","#bc80bd","#ffed6f","#c4eaff","#cf8c00","#1b9e77","#d95f02","#e7298a","#e6ab02","#a6761d","#0097ff","#00d067","#f43600","#4ba93b","#5779bb","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#d9d9d9","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function o(e){return n[e%n.length]}function s(e,t){const i=t.getPropertyValue(`--graph-color-${e+1}`)||o(e);return(0,a.RQ)(i)}},76475:(e,t,i)=>{i.d(t,{f:()=>o});var a=i(68286),n=i(6699);const o=(e,t)=>(r(t)||s(e,t))&&!d(e,t)&&l(e,t),s=(e,t)=>!t.component||(0,a.e)(t.component).some((t=>(0,n.x)(e,t))),l=(e,t)=>!t.not_component||!(0,a.e)(t.not_component).some((t=>(0,n.x)(e,t))),r=e=>e.core,d=(e,t)=>(e=>e.advancedOnly)(t)&&!(e=>{var t;return null===(t=e.userData)||void 0===t?void 0:t.showAdvanced})(e)},35163:(e,t,i)=>{i.d(t,{w:()=>c});var a,n,o,s,l,r=i(25786);const d=null!==(a=null===(n=(o=Intl).DateTimeFormat)||void 0===n||null===(s=(l=n.call(o)).resolvedOptions)||void 0===s?void 0:s.call(l).timeZone)&&void 0!==a?a:"UTC",c=(e,t)=>e===r.Wj.local&&"UTC"!==d?d:t},33315:(e,t,i)=>{i.d(t,{a:()=>n});const a=(0,i(81053).n)((e=>{history.replaceState({scrollPosition:e},"")}),300),n=e=>t=>({kind:"method",placement:"prototype",key:t.key,descriptor:{set(e){a(e),this[`__${String(t.key)}`]=e},get(){var e;return this[`__${String(t.key)}`]||(null===(e=history.state)||void 0===e?void 0:e.scrollPosition)},enumerable:!0,configurable:!0},finisher(i){const a=i.prototype.connectedCallback;i.prototype.connectedCallback=function(){a.call(this);const i=this[t.key];i&&this.updateComplete.then((()=>{const t=this.renderRoot.querySelector(e);t&&setTimeout((()=>{t.scrollTop=i}),0)}))}}})},28514:(e,t,i)=>{i.d(t,{p:()=>n});const a=[" ",": "],n=(e,t)=>{const i=e.toLowerCase();for(const n of a){const a=`${t}${n}`;if(i.startsWith(a)){const t=e.substring(a.length);if(t.length)return o(t.substr(0,t.indexOf(" ")))?t:t[0].toUpperCase()+t.slice(1)}}},o=e=>e.toLowerCase()!==e},89248:(e,t,i)=>{i.d(t,{P:()=>m,x:()=>v});var a=i(40924),n=i(60280),o=i(58587),s=i(52762),l=i(9452),r=i(98876),d=i(56285),c=i(40223),h=i(92483),u=i(6699),p=i(28825);const v=["zha","zwave_js","matter"],m=async(e,t,i,v)=>{if(null!=v&&v.domain){const e=await t.loadBackendTranslation("title",v.domain);v.domain=(0,o.p$)(e,v.domain)}if(null!=v&&v.brand){var m;const e=await(0,s.O)(t);v.brand=(null===(m=e.core.integration[v.brand])||void 0===m?void 0:m.name)||v.brand}if("zwave_js"===i){const o=null!=v&&v.config_entry?void 0:await(0,n.VN)(t,{domain:i});if(!((0,u.x)(t,"zwave_js")&&(null!=v&&v.config_entry||null!=o&&o.length)))return void(0,r.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Z-Wave"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Z-Wave",brand:(null==v?void 0:v.brand)||(null==v?void 0:v.domain)||"Z-Wave",supported_hardware_link:a.qy`<a href="${(0,h.o)(t,"/docs/z-wave/controllers")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,l.W)(e,{startFlowHandler:"zwave_js"})}});(0,c.X)(e,{entry_id:(null==v?void 0:v.config_entry)||o[0].entry_id})}else if("zha"===i){const o=null!=v&&v.config_entry?void 0:await(0,n.VN)(t,{domain:i});if(!((0,u.x)(t,"zha")&&(null!=v&&v.config_entry||null!=o&&o.length)))return void(0,r.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Zigbee"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Zigbee",brand:(null==v?void 0:v.brand)||(null==v?void 0:v.domain)||"Zigbee",supported_hardware_link:a.qy`<a href="${(0,h.o)(t,"/integrations/zha/#known-working-zigbee-radio-modules")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,l.W)(e,{startFlowHandler:"zha"})}});(0,p.o)("/config/zha/add")}else if("matter"===i){const o=null!=v&&v.config_entry?void 0:await(0,n.VN)(t,{domain:i});if(!((0,u.x)(t,i)&&(null!=v&&v.config_entry||null!=o&&o.length)))return void(0,r.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Matter"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_matter",{integration:"Matter",brand:(null==v?void 0:v.brand)||(null==v?void 0:v.domain)||"Matter",supported_hardware_link:a.qy`<a href="${(0,h.o)(t,"/integrations/matter")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,l.W)(e,{startFlowHandler:"matter"})}});(0,d.g)(e)}}},18311:(e,t,i)=>{i.d(t,{n:()=>a});const a=e=>e.replace(/^_*(.)|_+(.)/g,((e,t,i)=>t?t.toUpperCase():" "+i.toUpperCase()))},47186:(e,t,i)=>{i.d(t,{$:()=>a});const a=(e,t)=>{const i={};for(const a of e){const e=t(a);e in i?i[e].push(a):i[e]=[a]}return i}},95899:(e,t,i)=>{var a=i(62659),n=i(76504),o=i(80792),s=(i(8600),i(19394)),l=i(40924),r=i(18791);(0,a.A)([(0,r.EM)("ha-assist-chip")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0})],key:"filled",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"active",value:()=>!1},{kind:"field",static:!0,key:"styles",value(){return[...(0,n.A)((0,o.A)(i),"styles",this),l.AH`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailingIcon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px)}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:Roboto,sans-serif}`]}},{kind:"method",key:"renderOutline",value:function(){return this.filled?l.qy`<span class="filled"></span>`:(0,n.A)((0,o.A)(i.prototype),"renderOutline",this).call(this)}},{kind:"method",key:"getContainerClasses",value:function(){return{...(0,n.A)((0,o.A)(i.prototype),"getContainerClasses",this).call(this),active:this.active}}},{kind:"method",key:"renderPrimaryContent",value:function(){return l.qy` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${this.renderTrailingIcon()} </span> `}},{kind:"method",key:"renderTrailingIcon",value:function(){return l.qy`<slot name="trailing-icon"></slot>`}}]}}),s.z)},99048:(e,t,i)=>{var a=i(62659),n=i(76504),o=i(80792),s=(i(8600),i(22481)),l=i(40924),r=i(18791);(0,a.A)([(0,r.EM)("ha-filter-chip")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0,attribute:"no-leading-icon"})],key:"noLeadingIcon",value:()=>!1},{kind:"field",static:!0,key:"styles",value(){return[...(0,n.A)((0,o.A)(i),"styles",this),l.AH`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color);--md-filter-chip-container-shape:16px;--md-filter-chip-outline-color:var(--outline-color);--md-filter-chip-selected-container-color:rgba(
          var(--rgb-primary-text-color),
          0.15
        )}`]}},{kind:"method",key:"renderLeadingIcon",value:function(){return this.noLeadingIcon?l.qy``:(0,n.A)((0,o.A)(i.prototype),"renderLeadingIcon",this).call(this)}}]}}),s.E)},10957:(e,t,i)=>{var a=i(62659),n=i(76504),o=i(80792),s=i(92518),l=i(40924),r=i(18791),d=i(69760),c=i(79278),h=i(80204),u=i(45081),p=i(33315),v=i(77664),m=i(47394),f=i(34800),g=i(14126),y=i(40189),b=(i(61674),i(1683),i(95492),i(84292));let _;const k=()=>(_||(_=(0,b.LV)(new Worker(new URL(i.p+i.u(52321),i.b),{type:"module"}))),_);var w=i(47186),x=i(95507);const $="zzzzz_undefined";(0,a.A)([(0,r.EM)("ha-data-table")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Object})],key:"columns",value:()=>({})},{kind:"field",decorators:[(0,r.MZ)({type:Array})],key:"data",value:()=>[]},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"selectable",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"clickable",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"hasFab",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"appendRow",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,attribute:"auto-height"})],key:"autoHeight",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:String})],key:"id",value:()=>"id"},{kind:"field",decorators:[(0,r.MZ)({type:String})],key:"noDataText",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:String})],key:"searchLabel",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,attribute:"no-label-float"})],key:"noLabelFloat",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:String})],key:"filter",value:()=>""},{kind:"field",decorators:[(0,r.MZ)()],key:"groupColumn",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"sortColumn",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"sortDirection",value:()=>null},{kind:"field",decorators:[(0,r.wk)()],key:"_filterable",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,r.wk)()],key:"_filteredData",value:()=>[]},{kind:"field",decorators:[(0,r.wk)()],key:"_headerHeight",value:()=>0},{kind:"field",decorators:[(0,r.P)("slot[name='header']")],key:"_header",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_items",value:()=>[]},{kind:"field",key:"_checkableRowsCount",value:void 0},{kind:"field",key:"_checkedRows",value:()=>[]},{kind:"field",key:"_sortColumns",value:()=>({})},{kind:"field",key:"curRequest",value:()=>0},{kind:"field",decorators:[(0,p.a)(".scroller")],key:"_savedScrollPos",value:void 0},{kind:"field",key:"_debounceSearch",value(){return(0,m.s)((e=>{this._filter=e}),100,!1)}},{kind:"method",key:"clearSelection",value:function(){this._checkedRows=[],this._checkedRowsChanged()}},{kind:"method",key:"selectAll",value:function(){this._checkedRows=this._filteredData.filter((e=>!1!==e.selectable)).map((e=>e[this.id])),this._checkedRowsChanged()}},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)((0,o.A)(i.prototype),"connectedCallback",this).call(this),this._items.length&&(this._items=[...this._items])}},{kind:"method",key:"firstUpdated",value:function(){this.updateComplete.then((()=>this._calcTableHeight()))}},{kind:"method",key:"willUpdate",value:function(e){if((0,n.A)((0,o.A)(i.prototype),"willUpdate",this).call(this,e),this.hasUpdated||(0,y.i)(),e.has("columns")){this._filterable=Object.values(this.columns).some((e=>e.filterable));for(const e in this.columns)if(this.columns[e].direction){this.sortDirection=this.columns[e].direction,this.sortColumn=e,(0,v.r)(this,"sorting-changed",{column:e,direction:this.sortDirection});break}const e=(0,s.A)(this.columns);Object.values(e).forEach((e=>{delete e.title,delete e.template})),this._sortColumns=e}e.has("filter")&&this._debounceSearch(this.filter),e.has("data")&&(this._checkableRowsCount=this.data.filter((e=>!1!==e.selectable)).length),(e.has("data")||e.has("columns")||e.has("_filter")||e.has("sortColumn")||e.has("sortDirection")||e.has("groupColumn"))&&this._sortFilterData(),e.has("selectable")&&(this._items=[...this._items])}},{kind:"method",key:"render",value:function(){return l.qy` <div class="mdc-data-table"> <slot name="header" @slotchange="${this._calcTableHeight}"> ${this._filterable?l.qy` <div class="table-header"> <search-input .hass="${this.hass}" @value-changed="${this._handleSearchChange}" .label="${this.searchLabel}" .noLabelFloat="${this.noLabelFloat}"></search-input> </div> `:""} </slot> <div class="mdc-data-table__table ${(0,d.H)({"auto-height":this.autoHeight})}" role="table" aria-rowcount="${this._filteredData.length+1}" style="${(0,h.W)({height:this.autoHeight?53*(this._filteredData.length||1)+53+"px":`calc(100% - ${this._headerHeight}px)`})}"> <div class="mdc-data-table__header-row" role="row" aria-rowindex="1"> <slot name="header-row"> ${this.selectable?l.qy` <div class="mdc-data-table__header-cell mdc-data-table__header-cell--checkbox" role="columnheader"> <ha-checkbox class="mdc-data-table__row-checkbox" @change="${this._handleHeaderRowCheckboxClick}" .indeterminate="${this._checkedRows.length&&this._checkedRows.length!==this._checkableRowsCount}" .checked="${this._checkedRows.length&&this._checkedRows.length===this._checkableRowsCount}"> </ha-checkbox> </div> `:""} ${Object.entries(this.columns).map((([e,t])=>{if(t.hidden)return"";const i=e===this.sortColumn,a={"mdc-data-table__header-cell--numeric":"numeric"===t.type,"mdc-data-table__header-cell--icon":"icon"===t.type,"mdc-data-table__header-cell--icon-button":"icon-button"===t.type,"mdc-data-table__header-cell--overflow-menu":"overflow-menu"===t.type,"mdc-data-table__header-cell--overflow":"overflow"===t.type,sortable:Boolean(t.sortable),"not-sorted":Boolean(t.sortable&&!i),grows:Boolean(t.grows)};return l.qy` <div aria-label="${(0,c.J)(t.label)}" class="mdc-data-table__header-cell ${(0,d.H)(a)}" style="${t.width?(0,h.W)({[t.grows?"minWidth":"width"]:t.width,maxWidth:t.maxWidth||""}):""}" role="columnheader" aria-sort="${(0,c.J)(i?"desc"===this.sortDirection?"descending":"ascending":void 0)}" @click="${this._handleHeaderClick}" .columnId="${e}"> ${t.sortable?l.qy` <ha-svg-icon .path="${i&&"desc"===this.sortDirection?"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z":"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"}"></ha-svg-icon> `:""} <span>${t.title}</span> </div> `}))} </slot> </div> ${this._filteredData.length?l.qy` <lit-virtualizer scroller class="mdc-data-table__content scroller ha-scrollbar" @scroll="${this._saveScrollPos}" .items="${this._items}" .keyFunction="${this._keyFunction}" .renderItem="${this._renderRow}"></lit-virtualizer> `:l.qy` <div class="mdc-data-table__content"> <div class="mdc-data-table__row" role="row"> <div class="mdc-data-table__cell grows center" role="cell"> ${this.noDataText||this.hass.localize("ui.components.data-table.no-data")} </div> </div> </div> `} </div> </div> `}},{kind:"field",key:"_keyFunction",value(){return e=>(null==e?void 0:e[this.id])||e}},{kind:"field",key:"_renderRow",value(){return(e,t)=>e?e.append?l.qy`<div class="mdc-data-table__row">${e.content}</div>`:e.empty?l.qy`<div class="mdc-data-table__row"></div>`:l.qy` <div aria-rowindex="${t+2}" role="row" .rowId="${e[this.id]}" @click="${this._handleRowClick}" class="mdc-data-table__row ${(0,d.H)({"mdc-data-table__row--selected":this._checkedRows.includes(String(e[this.id])),clickable:this.clickable})}" aria-selected="${(0,c.J)(!!this._checkedRows.includes(String(e[this.id]))||void 0)}" .selectable="${!1!==e.selectable}"> ${this.selectable?l.qy` <div class="mdc-data-table__cell mdc-data-table__cell--checkbox" role="cell"> <ha-checkbox class="mdc-data-table__row-checkbox" @change="${this._handleRowCheckboxClick}" .rowId="${e[this.id]}" .disabled="${!1===e.selectable}" .checked="${this._checkedRows.includes(String(e[this.id]))}"> </ha-checkbox> </div> `:""} ${Object.entries(this.columns).map((([t,i])=>i.hidden?l.s6:l.qy` <div role="${i.main?"rowheader":"cell"}" class="mdc-data-table__cell ${(0,d.H)({"mdc-data-table__cell--flex":"flex"===i.type,"mdc-data-table__cell--numeric":"numeric"===i.type,"mdc-data-table__cell--icon":"icon"===i.type,"mdc-data-table__cell--icon-button":"icon-button"===i.type,"mdc-data-table__cell--overflow-menu":"overflow-menu"===i.type,"mdc-data-table__cell--overflow":"overflow"===i.type,grows:Boolean(i.grows),forceLTR:Boolean(i.forceLTR)})}" style="${i.width?(0,h.W)({[i.grows?"minWidth":"width"]:i.width,maxWidth:i.maxWidth?i.maxWidth:""}):""}"> ${i.template?i.template(e):e[t]} </div> `))} </div> `:l.s6}},{kind:"method",key:"_sortFilterData",value:async function(){const e=(new Date).getTime();this.curRequest++;const t=this.curRequest;let i=this.data;this._filter&&(i=await this._memFilterData(this.data,this._sortColumns,this._filter));const a=this.sortColumn?((e,t,i,a,n)=>k().sortData(e,t,i,a,n))(i,this._sortColumns[this.sortColumn],this.sortDirection,this.sortColumn,this.hass.locale.language):i,[n]=await Promise.all([a,f.E]),o=(new Date).getTime()-e;if(o<100&&await new Promise((e=>{setTimeout(e,100-o)})),this.curRequest===t){if(this.appendRow||this.hasFab||this.groupColumn){const e=[...n];if(this.appendRow&&e.push({append:!0,content:this.appendRow}),this.groupColumn){const t=(0,w.$)(e,(e=>e[this.groupColumn]));t.undefined&&(t[$]=t.undefined,delete t.undefined);const i=Object.keys(t).sort(((e,t)=>(0,x.x)(["","-","—"].includes(e)?"zzz":e,["","-","—"].includes(t)?"zzz":t,this.hass.locale.language))).reduce(((e,i)=>(e[i]=t[i],e)),{}),a=[];Object.entries(i).forEach((([e,t])=>{(e!==$||Object.keys(i).length>1)&&a.push({append:!0,content:l.qy`<div class="mdc-data-table__cell group-header" role="cell"> ${e===$?"":e||""} </div>`}),a.push(...t)})),this._items=a}else this._items=e;this.hasFab&&(this._items=[...this._items,{empty:!0}])}else this._items=n;this._filteredData=n}}},{kind:"field",key:"_memFilterData",value:()=>(0,u.A)(((e,t,i)=>((e,t,i)=>k().filterData(e,t,i))(e,t,i)))},{kind:"method",key:"_handleHeaderClick",value:function(e){const t=e.currentTarget.columnId;this.columns[t].sortable&&(this.sortDirection&&this.sortColumn===t?"asc"===this.sortDirection?this.sortDirection="desc":this.sortDirection=null:this.sortDirection="asc",this.sortColumn=null===this.sortDirection?void 0:t,(0,v.r)(this,"sorting-changed",{column:t,direction:this.sortDirection}))}},{kind:"method",key:"_handleHeaderRowCheckboxClick",value:function(e){e.target.checked?this.selectAll():(this._checkedRows=[],this._checkedRowsChanged())}},{kind:"field",key:"_handleRowCheckboxClick",value(){return e=>{const t=e.currentTarget,i=t.rowId;if(t.checked){if(this._checkedRows.includes(i))return;this._checkedRows=[...this._checkedRows,i]}else this._checkedRows=this._checkedRows.filter((e=>e!==i));this._checkedRowsChanged()}}},{kind:"field",key:"_handleRowClick",value(){return e=>{if(e.composedPath().find((e=>["ha-checkbox","mwc-button","ha-button","ha-icon-button","ha-assist-chip"].includes(e.localName))))return;const t=e.currentTarget.rowId;(0,v.r)(this,"row-click",{id:t},{bubbles:!1})}}},{kind:"method",key:"_checkedRowsChanged",value:function(){this._items.length&&(this._items=[...this._items]),(0,v.r)(this,"selection-changed",{value:this._checkedRows})}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter||this._debounceSearch(e.detail.value)}},{kind:"method",key:"_calcTableHeight",value:async function(){this.autoHeight||(await this.updateComplete,this._headerHeight=this._header.clientHeight)}},{kind:"method",decorators:[(0,r.Ls)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"get",static:!0,key:"styles",value:function(){return[g.dp,l.AH`:host{height:100%}.mdc-data-table__content{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit}.mdc-data-table{background-color:var(--data-table-background-color);border-radius:4px;border-width:1px;border-style:solid;border-color:var(--divider-color);display:inline-flex;flex-direction:column;box-sizing:border-box;overflow:hidden}.mdc-data-table__row--selected{background-color:rgba(var(--rgb-primary-color),.04)}.mdc-data-table__row{display:flex;width:100%;height:var(--data-table-row-height,52px)}.mdc-data-table__row~.mdc-data-table__row{border-top:1px solid var(--divider-color)}.mdc-data-table__row.clickable:not(
.mdc-data-table__row--selected
):hover{background-color:rgba(var(--rgb-primary-text-color),.04)}.mdc-data-table__header-cell{color:var(--primary-text-color)}.mdc-data-table__cell{color:var(--primary-text-color)}.mdc-data-table__header-row{height:56px;display:flex;width:100%;border-bottom:1px solid var(--divider-color)}.mdc-data-table__header-row::-webkit-scrollbar{display:none}.mdc-data-table__cell,.mdc-data-table__header-cell{padding-right:16px;padding-left:16px;align-self:center;overflow:hidden;text-overflow:ellipsis;flex-shrink:0;box-sizing:border-box}.mdc-data-table__cell.mdc-data-table__cell--flex{display:flex;overflow:initial}.mdc-data-table__cell.mdc-data-table__cell--icon{overflow:initial}.mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox{padding-left:16px;padding-right:0;padding-inline-start:16px;padding-inline-end:initial;width:60px}.mdc-data-table__table{height:100%;width:100%;border:0;white-space:nowrap}.mdc-data-table__cell{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit}.mdc-data-table__cell a{color:inherit;text-decoration:none}.mdc-data-table__cell--numeric{text-align:var(--float-end)}.mdc-data-table__cell--icon{color:var(--secondary-text-color);text-align:center}.mdc-data-table__cell--icon,.mdc-data-table__header-cell--icon{width:54px}.mdc-data-table__cell--icon img{width:24px;height:24px}.mdc-data-table__header-cell.mdc-data-table__header-cell--icon{text-align:center}.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:hover,.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:not(
.not-sorted
){text-align:var(--float-start)}.mdc-data-table__cell--icon:first-child ha-domain-icon,.mdc-data-table__cell--icon:first-child ha-icon,.mdc-data-table__cell--icon:first-child ha-service-icon,.mdc-data-table__cell--icon:first-child ha-state-icon,.mdc-data-table__cell--icon:first-child ha-svg-icon,.mdc-data-table__cell--icon:first-child img{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.mdc-data-table__cell--icon:first-child state-badge{margin-right:-8px;margin-inline-end:-8px;margin-inline-start:initial}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--icon-button,.mdc-data-table__header-cell--overflow-menu{padding:8px}.mdc-data-table__cell--icon-button,.mdc-data-table__header-cell--icon-button{width:56px}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu{color:var(--secondary-text-color);text-overflow:clip}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--icon-button:last-child{width:64px}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--overflow-menu:first-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--overflow-menu:first-child{padding-left:16px;padding-inline-start:16px;padding-inline-end:initial}.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__cell--overflow-menu:last-child,.mdc-data-table__header-cell--icon-button:last-child,.mdc-data-table__header-cell--overflow-menu:last-child{padding-right:16px;padding-inline-end:16px;padding-inline-start:initial}.mdc-data-table__cell--overflow,.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--overflow,.mdc-data-table__header-cell--overflow-menu{overflow:initial}.mdc-data-table__cell--icon-button a{color:var(--secondary-text-color)}.mdc-data-table__header-cell{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.375rem;font-weight:500;letter-spacing:.0071428571em;text-decoration:inherit;text-transform:inherit;text-align:var(--float-start)}.mdc-data-table__header-cell--numeric{text-align:var(--float-end)}.mdc-data-table__header-cell--numeric.sortable:hover,.mdc-data-table__header-cell--numeric.sortable:not(.not-sorted){text-align:var(--float-start)}.group-header{padding-top:12px;width:100%;font-weight:500}:host{display:block}.mdc-data-table{display:block;border-width:var(--data-table-border-width,1px);height:100%}.mdc-data-table__header-cell{overflow:hidden;position:relative}.mdc-data-table__header-cell span{position:relative;left:0px;inset-inline-start:0px;inset-inline-end:initial}.mdc-data-table__header-cell.sortable{cursor:pointer}.mdc-data-table__header-cell>*{transition:var(--float-start) .2s ease}.mdc-data-table__header-cell ha-svg-icon{top:-3px;position:absolute}.mdc-data-table__header-cell.not-sorted ha-svg-icon{left:-20px;inset-inline-start:-20px;inset-inline-end:initial}.mdc-data-table__header-cell.sortable.not-sorted:hover span,.mdc-data-table__header-cell.sortable:not(.not-sorted) span{left:24px;inset-inline-start:24px;inset-inline-end:initial}.mdc-data-table__header-cell.sortable:hover.not-sorted ha-svg-icon,.mdc-data-table__header-cell.sortable:not(.not-sorted) ha-svg-icon{left:12px;inset-inline-start:12px;inset-inline-end:initial}.table-header{border-bottom:1px solid var(--divider-color)}search-input{display:block;flex:1;--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:transparent}slot[name=header]{display:block}.center{text-align:center}.secondary{color:var(--secondary-text-color)}.scroller{height:calc(100% - 57px);overflow:overlay!important}.mdc-data-table__table.auto-height .scroller{overflow-y:hidden!important}.grows{flex-grow:1;flex-shrink:1}.forceLTR{direction:ltr}.clickable{cursor:pointer}lit-virtualizer{contain:size layout!important;overscroll-behavior:contain}`]}}]}}),l.WF)},43878:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(55279);i(57780);(0,a.A)([(0,o.EM)("ha-battery-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"batteryStateObj",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"batteryChargingStateObj",value:void 0},{kind:"method",key:"render",value:function(){var e;return this.batteryStateObj?n.qy` <ha-icon .icon="${(0,s.L)(this.batteryStateObj.state,"on"===(null===(e=this.batteryChargingStateObj)||void 0===e?void 0:e.state))}"></ha-icon> `:n.s6}}]}}),n.WF)},61674:(e,t,i)=>{var a=i(62659),n=i(51497),o=i(48678),s=i(40924),l=i(18791);(0,a.A)([(0,l.EM)("ha-checkbox")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[o.R,s.AH`:host{--mdc-theme-secondary:var(--primary-color)}`]}]}}),n.L)},29842:(e,t,i)=>{var a=i(62659),n=i(76504),o=i(80792),s=i(40924),l=i(18791),r=i(39335);(0,a.A)([(0,l.EM)("ha-clickable-list-item")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)()],key:"href",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"disableHref",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean,reflect:!0})],key:"openNewTab",value:()=>!1},{kind:"field",decorators:[(0,l.P)("a")],key:"_anchor",value:void 0},{kind:"method",key:"render",value:function(){const e=(0,n.A)((0,o.A)(i.prototype),"render",this).call(this),t=this.href||"";return s.qy`${this.disableHref?s.qy`<a>${e}</a>`:s.qy`<a target="${this.openNewTab?"_blank":""}" href="${t}">${e}</a>`}`}},{kind:"method",key:"firstUpdated",value:function(){(0,n.A)((0,o.A)(i.prototype),"firstUpdated",this).call(this),this.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||this._anchor.click()}))}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,n.A)((0,o.A)(i),"styles",this),s.AH`a{width:100%;height:100%;display:flex;align-items:center;overflow:hidden}`]}}]}}),r.$)},91745:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(86625),l=i(7383),r=i(37382),d=i(5203);i(57780);(0,a.A)([(0,o.EM)("ha-domain-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"deviceClass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"brandFallback",value:void 0},{kind:"method",key:"render",value:function(){if(this.icon)return n.qy`<ha-icon .icon="${this.icon}"></ha-icon>`;if(!this.domain)return n.s6;if(!this.hass)return this._renderFallback();const e=(0,r._4)(this.hass,this.domain,this.deviceClass).then((e=>e?n.qy`<ha-icon .icon="${e}"></ha-icon>`:this._renderFallback()));return n.qy`${(0,s.T)(e)}`}},{kind:"method",key:"_renderFallback",value:function(){if(this.domain in l.n_)return n.qy` <ha-svg-icon .path="${l.n_[this.domain]}"></ha-svg-icon> `;if(this.brandFallback){var e;const t=(0,d.MR)({domain:this.domain,type:"icon",darkOptimized:null===(e=this.hass.themes)||void 0===e?void 0:e.darkMode});return n.qy` <img alt="" src="${t}" crossorigin="anonymous" referrerpolicy="no-referrer"> `}return n.qy`<ha-svg-icon .path="${l.lW}"></ha-svg-icon>`}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`img{width:var(--mdc-icon-size,24px)}`}}]}}),n.WF)},26205:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(66580),l=i(45081),r=i(77664),d=i(95507),c=i(58587),h=i(14126);i(91745),i(70781);(0,a.A)([(0,o.EM)("ha-filter-integrations")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"expanded",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_manifests",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_shouldRender",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_filter",value:void 0},{kind:"method",key:"render",value:function(){var e,t;return n.qy` <ha-expansion-panel leftChevron .expanded="${this.expanded}" @expanded-will-change="${this._expandedWillChange}" @expanded-changed="${this._expandedChanged}"> <div slot="header" class="header"> ${this.hass.localize("ui.panel.config.integrations.caption")} ${null!==(e=this.value)&&void 0!==e&&e.length?n.qy`<div class="badge">${null===(t=this.value)||void 0===t?void 0:t.length}</div> <ha-icon-button .path="${"M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z"}" @click="${this._clearFilter}"></ha-icon-button>`:n.s6} </div> ${this._manifests&&this._shouldRender?n.qy`<search-input-outlined .hass="${this.hass}" .filter="${this._filter}" @value-changed="${this._handleSearchChange}"> </search-input-outlined> <mwc-list class="ha-scrollbar" @click="${this._handleItemClick}"> ${(0,s.u)(this._integrations(this._manifests,this._filter,this.value),(e=>e.domain),(e=>n.qy`<ha-check-list-item .value="${e.domain}" .selected="${(this.value||[]).includes(e.domain)}" graphic="icon"> <ha-domain-icon slot="graphic" .hass="${this.hass}" .domain="${e.domain}" brandFallback></ha-domain-icon> ${e.name||e.domain} </ha-check-list-item>`))} </mwc-list> `:n.s6} </ha-expansion-panel> `}},{kind:"method",key:"updated",value:function(e){e.has("expanded")&&this.expanded&&setTimeout((()=>{this.expanded&&(this.renderRoot.querySelector("mwc-list").style.height=this.clientHeight-49-32+"px")}),300)}},{kind:"method",key:"_expandedWillChange",value:function(e){this._shouldRender=e.detail.expanded}},{kind:"method",key:"_expandedChanged",value:function(e){this.expanded=e.detail.expanded}},{kind:"method",key:"firstUpdated",value:async function(){this._manifests=await(0,c.fK)(this.hass)}},{kind:"field",key:"_integrations",value(){return(0,l.A)(((e,t,i)=>e.filter((e=>(!e.integration_type||!["entity","system","hardware"].includes(e.integration_type))&&(!t||e.name.toLowerCase().includes(t)||e.domain.toLowerCase().includes(t)))).sort(((e,t)=>(0,d.x)(e.name||e.domain,t.name||t.domain,this.hass.locale.language)))))}},{kind:"method",key:"_handleItemClick",value:function(e){var t,i;const a=e.target.closest("ha-check-list-item"),n=null==a?void 0:a.value;if(n){var o;if(null!==(t=this.value)&&void 0!==t&&t.includes(n))this.value=null===(o=this.value)||void 0===o?void 0:o.filter((e=>e!==n));else this.value=[...this.value||[],n];a.selected=null===(i=this.value)||void 0===i?void 0:i.includes(n),(0,r.r)(this,"data-table-filter-changed",{value:this.value,items:void 0})}}},{kind:"method",key:"_clearFilter",value:function(e){e.preventDefault(),this.value=void 0,(0,r.r)(this,"data-table-filter-changed",{value:void 0,items:void 0})}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value.toLowerCase()}},{kind:"get",static:!0,key:"styles",value:function(){return[h.dp,n.AH`:host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:0;--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:50%;font-weight:400;font-size:11px;background-color:var(--primary-color);line-height:16px;text-align:center;padding:0px 2px;color:var(--text-primary-color)}search-input-outlined{display:block;padding:0 8px}`]}}]}}),n.WF)},56264:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(77664),l=i(14126);i(24630),i(14109),i(57780);(0,a.A)([(0,o.EM)("ha-filter-states")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"states",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"expanded",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_shouldRender",value:()=>!1},{kind:"method",key:"render",value:function(){var e,t;if(!this.states)return n.s6;const i=this.states.find((e=>e.icon));return n.qy` <ha-expansion-panel leftChevron .expanded="${this.expanded}" @expanded-will-change="${this._expandedWillChange}" @expanded-changed="${this._expandedChanged}"> <div slot="header" class="header"> ${this.label} ${null!==(e=this.value)&&void 0!==e&&e.length?n.qy`<div class="badge">${null===(t=this.value)||void 0===t?void 0:t.length}</div> <ha-icon-button .path="${"M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z"}" @click="${this._clearFilter}"></ha-icon-button>`:n.s6} </div> ${this._shouldRender?n.qy` <mwc-list @selected="${this._statesSelected}" multi class="ha-scrollbar"> ${this.states.map((e=>{var t;return n.qy`<ha-check-list-item .value="${e.value}" .selected="${null===(t=this.value)||void 0===t?void 0:t.includes(e.value)}" .graphic="${i?"icon":void 0}"> ${e.icon?n.qy`<ha-icon slot="graphic" .icon="${e.icon}"></ha-icon>`:n.s6} ${e.label} </ha-check-list-item>`}))} </mwc-list> `:n.s6} </ha-expansion-panel> `}},{kind:"method",key:"updated",value:function(e){e.has("expanded")&&this.expanded&&setTimeout((()=>{this.expanded&&(this.renderRoot.querySelector("mwc-list").style.height=this.clientHeight-49+"px")}),300)}},{kind:"method",key:"_expandedWillChange",value:function(e){this._shouldRender=e.detail.expanded}},{kind:"method",key:"_expandedChanged",value:function(e){this.expanded=e.detail.expanded}},{kind:"method",key:"_statesSelected",value:async function(e){if(!e.detail.index.size)return(0,s.r)(this,"data-table-filter-changed",{value:[],items:void 0}),void(this.value=[]);const t=[];for(const i of e.detail.index){const e=this.states[i].value;t.push(e)}this.value=t,(0,s.r)(this,"data-table-filter-changed",{value:t,items:void 0})}},{kind:"method",key:"_clearFilter",value:function(e){e.preventDefault(),this.value=void 0,(0,s.r)(this,"data-table-filter-changed",{value:void 0,items:void 0})}},{kind:"get",static:!0,key:"styles",value:function(){return[l.dp,n.AH`:host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:0;--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:50%;font-weight:400;font-size:11px;background-color:var(--primary-color);line-height:16px;text-align:center;padding:0px 2px;color:var(--text-primary-color)}`]}}]}}),n.WF)},23141:(e,t,i)=>{i.r(t),i.d(t,{HaIconButtonArrowPrev:()=>l});var a=i(62659),n=i(40924),o=i(18791),s=i(51150);i(12731);let l=(0,a.A)([(0,o.EM)("ha-icon-button-arrow-prev")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_icon",value:()=>"rtl"===s.G.document.dir?"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z":"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"},{kind:"method",key:"render",value:function(){var e;return n.qy` <ha-icon-button .disabled="${this.disabled}" .label="${this.label||(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.back"))||"Back"}" .path="${this._icon}"></ha-icon-button> `}}]}}),n.WF)},78361:(e,t,i)=>{var a=i(62659),n=i(76504),o=i(80792),s=i(40924),l=i(18791),r=i(77664),d=i(82188);i(12731);(0,a.A)([(0,l.EM)("ha-menu-button")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"hassio",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_hasNotifications",value:()=>!1},{kind:"field",decorators:[(0,l.wk)()],key:"_show",value:()=>!1},{kind:"field",key:"_alwaysVisible",value:()=>!1},{kind:"field",key:"_attachNotifOnConnect",value:()=>!1},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)((0,o.A)(i.prototype),"connectedCallback",this).call(this),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.A)((0,o.A)(i.prototype),"disconnectedCallback",this).call(this),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}},{kind:"method",key:"render",value:function(){if(!this._show)return s.s6;const e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return s.qy` <ha-icon-button .label="${this.hass.localize("ui.sidebar.sidebar_toggle")}" .path="${"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}" @click="${this._toggleMenu}"></ha-icon-button> ${e?s.qy`<div class="dot"></div>`:""} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.A)((0,o.A)(i.prototype),"firstUpdated",this).call(this,e),this.hassio&&(this._alwaysVisible=(Number(window.parent.frontendVersion)||0)<20190710)}},{kind:"method",key:"willUpdate",value:function(e){if((0,n.A)((0,o.A)(i.prototype),"willUpdate",this).call(this,e),!e.has("narrow")&&!e.has("hass"))return;const t=e.has("hass")?e.get("hass"):this.hass,a=(e.has("narrow")?e.get("narrow"):this.narrow)||"always_hidden"===(null==t?void 0:t.dockedSidebar),s=this.narrow||"always_hidden"===this.hass.dockedSidebar;this.hasUpdated&&a===s||(this._show=s||this._alwaysVisible,s?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}},{kind:"method",key:"_subscribeNotifications",value:function(){if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,d.V)(this.hass.connection,(e=>{this._hasNotifications=e.length>0}))}},{kind:"method",key:"_toggleMenu",value:function(){(0,r.r)(this,"hass-toggle-menu")}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;inset-inline-end:7px;inset-inline-start:initial;border-radius:50%;border:2px solid var(--app-header-background-color)}`}}]}}),s.WF)},23658:(e,t,i)=>{var a=i(62659),n=i(99674),o=(i(8600),i(40924)),s=i(18791);(0,a.A)([(0,s.EM)("ha-menu-item")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[...n.c.styles,o.AH`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-sys-color-secondary-container:rgba(
          var(--rgb-primary-color),
          0.15
        );--md-sys-color-on-secondary-container:var(--text-primary-color);--mdc-icon-size:16px;--md-sys-color-on-primary-container:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color)}:host(.warning){--md-menu-item-label-text-color:var(--error-color);--md-menu-item-leading-icon-color:var(--error-color)}::slotted([slot=headline]){text-wrap:nowrap}`]}]}}),n.c)},79840:(e,t,i)=>{var a=i(62659),n=i(18791),o=(i(8600),i(40924)),s=i(71742);(0,a.A)([(0,n.EM)("ha-menu")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[...s.vI.styles,o.AH`:host{--md-sys-color-surface-container:var(--card-background-color)}`]}]}}),s.vI)},23069:(e,t,i)=>{var a=i(62659),n=i(76504),o=i(80792),s=i(18791),l=(i(8600),i(40924)),r=i(92745);(0,a.A)([(0,s.EM)("ha-sub-menu")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"method",key:"show",value:async function(){(0,n.A)((0,o.A)(i.prototype),"show",this).call(this),this.menu.hasOverflow=!1}},{kind:"field",static:!0,key:"styles",value:()=>[r.b.styles,l.AH`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-sys-color-secondary-container:rgba(
          var(--rgb-primary-color),
          0.15
        );--md-sys-color-on-secondary-container:var(--text-primary-color);--mdc-icon-size:16px;--md-sys-color-on-primary-container:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color)}`]}]}}),r.b)},70781:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(77664),l=(i(12731),i(76504)),r=i(80792),d=i(8650),c=(i(8600),i(24505)),h=i(80767);(0,a.A)([(0,o.EM)("ha-outlined-field")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:"fieldTag",value:()=>c.eu`ha-outlined-field`},{kind:"field",static:!0,key:"styles",value(){return[...(0,l.A)((0,r.A)(i),"styles",this),n.AH`.container::before{display:block;content:"";position:absolute;inset:0;background-color:var(--ha-outlined-field-container-color,transparent);opacity:var(--ha-outlined-field-container-opacity, 1);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.with-start .start{margin-inline-end:var(--ha-outlined-field-start-margin,4px)}.with-end .end{margin-inline-start:var(--ha-outlined-field-end-margin,4px)}`]}}]}}),h.G),(0,a.A)([(0,o.EM)("ha-outlined-text-field")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:"fieldTag",value:()=>c.eu`ha-outlined-field`},{kind:"field",static:!0,key:"styles",value(){return[...(0,l.A)((0,r.A)(i),"styles",this),n.AH`:host{--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-primary:var(--primary-text-color);--md-outlined-text-field-input-text-color:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-outlined-field-outline-color:var(--outline-color);--md-outlined-field-focus-outline-color:var(--primary-color);--md-outlined-field-hover-outline-color:var(--outline-hover-color)}:host([dense]){--md-outlined-field-top-space:5.5px;--md-outlined-field-bottom-space:5.5px;--md-outlined-field-container-shape-start-start:10px;--md-outlined-field-container-shape-start-end:10px;--md-outlined-field-container-shape-end-end:10px;--md-outlined-field-container-shape-end-start:10px;--md-outlined-field-focus-outline-width:1px;--ha-outlined-field-start-margin:-4px;--ha-outlined-field-end-margin:-4px;--mdc-icon-size:var(--md-input-chip-icon-size, 18px)}.input{font-family:Roboto,sans-serif}`]}}]}}),d.F);i(1683);(0,a.A)([(0,o.EM)("search-input-outlined")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"filter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"suffix",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"placeholder",value:void 0},{kind:"method",key:"focus",value:function(){var e;null===(e=this._input)||void 0===e||e.focus()}},{kind:"field",decorators:[(0,o.P)("ha-outlined-text-field",!0)],key:"_input",value:void 0},{kind:"method",key:"render",value:function(){const e=this.placeholder||this.hass.localize("ui.common.search");return n.qy` <ha-outlined-text-field .autofocus="${this.autofocus}" .aria-label="${this.label||this.hass.localize("ui.common.search")}" .placeholder="${e}" .value="${this.filter||""}" icon .iconTrailing="${this.filter||this.suffix}" @input="${this._filterInputChanged}" dense> <slot name="prefix" slot="leading-icon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}"></ha-svg-icon> </slot> ${this.filter?n.qy`<ha-icon-button aria-label="Clear input" slot="trailing-icon" @click="${this._clearSearch}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"> </ha-icon-button>`:n.s6} </ha-outlined-text-field> `}},{kind:"method",key:"_filterChanged",value:async function(e){(0,s.r)(this,"value-changed",{value:String(e)})}},{kind:"method",key:"_filterInputChanged",value:async function(e){this._filterChanged(e.target.value)}},{kind:"method",key:"_clearSearch",value:async function(){this._filterChanged("")}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{display:inline-flex;z-index:0;--mdc-icon-button-size:24px}ha-outlined-text-field{display:block;width:100%;--ha-outlined-field-container-color:var(--card-background-color)}ha-icon-button,ha-svg-icon{display:flex;color:var(--primary-text-color)}ha-svg-icon{outline:0}`}}]}}),n.WF)},95492:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=(i(12731),i(1683),i(42398),i(77664));(0,a.A)([(0,o.EM)("search-input")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"filter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"suffix",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"label",value:void 0},{kind:"method",key:"focus",value:function(){var e;null===(e=this._input)||void 0===e||e.focus()}},{kind:"field",decorators:[(0,o.P)("ha-textfield",!0)],key:"_input",value:void 0},{kind:"method",key:"render",value:function(){return n.qy` <ha-textfield .autofocus="${this.autofocus}" .label="${this.label||this.hass.localize("ui.common.search")}" .value="${this.filter||""}" icon .iconTrailing="${this.filter||this.suffix}" @input="${this._filterInputChanged}"> <slot name="prefix" slot="leadingIcon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}"></ha-svg-icon> </slot> <div class="trailing" slot="trailingIcon"> ${this.filter&&n.qy` <ha-icon-button @click="${this._clearSearch}" .label="${this.hass.localize("ui.common.clear")}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" class="clear-button"></ha-icon-button> `} <slot name="suffix"></slot> </div> </ha-textfield> `}},{kind:"method",key:"_filterChanged",value:async function(e){(0,s.r)(this,"value-changed",{value:String(e)})}},{kind:"method",key:"_filterInputChanged",value:async function(e){this._filterChanged(e.target.value)}},{kind:"method",key:"_clearSearch",value:async function(){this._filterChanged("")}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{display:inline-flex}ha-icon-button,ha-svg-icon{color:var(--primary-text-color)}ha-svg-icon{outline:0}.clear-button{--mdc-icon-size:20px}ha-textfield{display:inherit}.trailing{display:flex;align-items:center}`}}]}}),n.WF)},8983:(e,t,i)=>{i.d(t,{Fy:()=>o,Hg:()=>a,Y_:()=>r,ds:()=>l,e0:()=>n,ec:()=>s});const a=e=>e.map((e=>{if("string"!==e.type)return e;switch(e.name){case"username":return{...e,autocomplete:"username"};case"password":return{...e,autocomplete:"current-password"};case"code":return{...e,autocomplete:"one-time-code"};default:return e}})),n=(e,t)=>e.callWS({type:"auth/sign_path",path:t}),o=async(e,t,i,a)=>e.callWS({type:"config/auth_provider/homeassistant/create",user_id:t,username:i,password:a}),s=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i}),l=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i}),r=(e,t,i)=>e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:i})},31285:(e,t,i)=>{i.d(t,{Dh:()=>a,It:()=>s,WV:()=>o,g9:()=>n});const a=e=>e.callWS({type:"diagnostics/list"}),n=(e,t)=>e.callWS({type:"diagnostics/get",domain:t}),o=e=>`/api/diagnostics/config_entry/${e}`,s=(e,t)=>`/api/diagnostics/config_entry/${e}/device/${t}`},52762:(e,t,i)=>{i.d(t,{O:()=>a,s:()=>n});const a=e=>e.callWS({type:"integration/descriptions"}),n=(e,t)=>{if(e){if(t in e){const i=e[t];if("integration_type"in i)return i}for(const i of Object.values(e))if("integrations"in i&&i.integrations&&t in i.integrations)return i.integrations[t]}}},79861:(e,t,i)=>{function a(e){return"strategy"in e}i.d(t,{Dz:()=>n,Wu:()=>a,io:()=>s,ql:()=>o});const n=(e,t,i)=>e.sendMessagePromise({type:"lovelace/config",url_path:t,force:i}),o=(e,t,i)=>e.callWS({type:"lovelace/config/save",url_path:t,config:i}),s=(e,t)=>e.callWS({type:"lovelace/config/delete",url_path:t})},53001:(e,t,i)=>{i.d(t,{A_:()=>s,SJ:()=>a,mQ:()=>o,n6:()=>n});const a=e=>e.callWS({type:"lovelace/dashboards/list"}),n=(e,t)=>e.callWS({type:"lovelace/dashboards/create",...t}),o=(e,t,i)=>e.callWS({type:"lovelace/dashboards/update",dashboard_id:t,...i}),s=(e,t)=>e.callWS({type:"lovelace/dashboards/delete",dashboard_id:t})},32990:(e,t,i)=>{i.d(t,{IP:()=>a,Iu:()=>d,J_:()=>o,bH:()=>s,c8:()=>r,wi:()=>l});const a="custom:",n=window;"customCards"in n||(n.customCards=[]),"customCardFeatures"in n||(n.customCardFeatures=[]),"customTileFeatures"in n||(n.customTileFeatures=[]);const o=n.customCards,s=()=>[...n.customCardFeatures,...n.customTileFeatures],l=e=>o.find((t=>t.type===e)),r=e=>e.startsWith(a),d=e=>e.slice(a.length)},82188:(e,t,i)=>{i.d(t,{V:()=>a});const a=(e,t)=>{const i=new n,a=e.subscribeMessage((e=>t(i.processMessage(e))),{type:"persistent_notification/subscribe"});return()=>{a.then((e=>null==e?void 0:e()))}};class n{constructor(){this.notifications=void 0,this.notifications={}}processMessage(e){if("removed"===e.type)for(const t of Object.keys(e.notifications))delete this.notifications[t];else this.notifications={...this.notifications,...e.notifications};return Object.values(this.notifications)}}},9452:(e,t,i)=>{i.d(t,{W:()=>l});var a=i(40924),n=i(31142),o=i(58587),s=i(86289);const l=(e,t)=>(0,s.g)(e,t,{flowType:"config_flow",loadDevicesAndAreas:!0,createFlow:async(e,i)=>{const[a]=await Promise.all([(0,n.t1)(e,i,t.entryId),e.loadFragmentTranslation("config"),e.loadBackendTranslation("config",i),e.loadBackendTranslation("selector",i),e.loadBackendTranslation("title",i)]);return a},fetchFlow:async(e,t)=>{const i=await(0,n.PN)(e,t);return await e.loadFragmentTranslation("config"),await e.loadBackendTranslation("config",i.handler),await e.loadBackendTranslation("selector",i.handler),i},handleFlowStep:n.jm,deleteFlow:n.sR,renderAbortDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.abort.${t.reason}`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderShowFormStepHeader:(e,t)=>e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.title`,t.description_placeholders)||e.localize(`component.${t.handler}.title`),renderShowFormStepDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderShowFormStepFieldLabel:(e,t,i)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.data.${i.name}`),renderShowFormStepFieldHelper(e,t,i){const n=e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.data_description.${i.name}`,t.description_placeholders);return n?a.qy`<ha-markdown breaks .content="${n}"></ha-markdown>`:""},renderShowFormStepFieldError:(e,t,i)=>e.localize(`component.${t.translation_domain||t.translation_domain||t.handler}.config.error.${i}`,t.description_placeholders)||i,renderShowFormStepFieldLocalizeValue:(e,t,i)=>e.localize(`component.${t.handler}.selector.${i}`),renderShowFormStepSubmitButton:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.submit`)||e.localize("ui.panel.config.integrations.config_flow."+(!1===t.last_step?"next":"submit")),renderExternalStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize("ui.panel.config.integrations.config_flow.external_step.open_site"),renderExternalStepDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.${t.step_id}.description`,t.description_placeholders);return a.qy` <p> ${e.localize("ui.panel.config.integrations.config_flow.external_step.description")} </p> ${i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} `},renderCreateEntryDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.create_entry.${t.description||"default"}`,t.description_placeholders);return a.qy` ${i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} <p> ${e.localize("ui.panel.config.integrations.config_flow.created_config",{name:t.title})} </p> `},renderShowFormProgressHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderShowFormProgressDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.progress.${t.progress_action}`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderMenuDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuOption:(e,t,i)=>e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.menu_options.${i}`,t.description_placeholders),renderLoadingDescription(e,t,i,a){if("loading_flow"!==t&&"loading_step"!==t)return"";const n=(null==a?void 0:a.handler)||i;return e.localize(`ui.panel.config.integrations.config_flow.loading.${t}`,{integration:n?(0,o.p$)(e.localize,n):e.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}})},59617:(e,t,i)=>{i.r(t);var a=i(62659),n=(i(58068),i(40924)),o=i(18791);i(23141),i(78361),i(12261);(0,a.A)([(0,o.EM)("hass-error-screen")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"toolbar",value:()=>!0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"rootnav",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)()],key:"error",value:void 0},{kind:"method",key:"render",value:function(){var e,t;return n.qy` ${this.toolbar?n.qy`<div class="toolbar"> ${this.rootnav||null!==(e=history.state)&&void 0!==e&&e.root?n.qy` <ha-menu-button .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:n.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._handleBack}"></ha-icon-button-arrow-prev> `} </div>`:""} <div class="content"> <ha-alert alert-type="error">${this.error}</ha-alert> <slot> <mwc-button @click="${this._handleBack}"> ${null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.back")} </mwc-button> </slot> </div> `}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[n.AH`:host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev{pointer-events:auto}.content{color:var(--primary-text-color);height:calc(100% - var(--header-height));display:flex;padding:16px;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}a{color:var(--primary-color)}ha-alert{margin-bottom:16px}`]}}]}}),n.WF)},52287:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(33315),l=(i(23141),i(78361),i(14126));(0,a.A)([(0,o.EM)("hass-subpage")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,s.a)(".content")],key:"_savedScrollPos",value:void 0},{kind:"method",key:"render",value:function(){var e;return n.qy` <div class="toolbar"> ${this.mainPage||null!==(e=history.state)&&void 0!==e&&e.root?n.qy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?n.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:n.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} <div class="main-title"><slot name="header">${this.header}</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="${this._saveScrollPos}"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,o.Ls)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[l.dp,n.AH`:host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:20px;flex-grow:1}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}`]}}]}}),n.WF)},72085:(e,t,i)=>{var a=i(62659),n=i(95265),o=(i(87777),i(58068),i(68471),i(40924)),s=i(18791),l=i(69760),r=i(77664),d=(i(95899),i(99048),i(10957),i(25465));i(79840);(0,a.A)([(0,s.EM)("ha-button-menu-new")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",key:d.Xr,value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)()],key:"positioning",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,attribute:"has-overflow"})],key:"hasOverflow",value:()=>!1},{kind:"field",decorators:[(0,s.P)("ha-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){return this._menu.items}},{kind:"method",key:"focus",value:function(){var e;this._menu.open?this._menu.focus():null===(e=this._triggerButton)||void 0===e||e.focus()}},{kind:"method",key:"render",value:function(){return o.qy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <ha-menu .positioning="${this.positioning}" .hasOverflow="${this.hasOverflow}"> <slot></slot> </ha-menu> `}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchorElement=this,this._menu.open?this._menu.close():this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"], ha-assist-chip[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),o.WF);i(95439),i(23658),i(70781),i(28021);const c="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",h="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",u="M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z",p="M3,5H9V11H3V5M5,7V9H7V7H5M11,7H21V9H11V7M11,15H21V17H11V15M5,20L1.5,16.5L2.91,15.09L5,17.17L9.59,12.59L11,14L5,20Z",v="M7,10L12,15L17,10H7Z";(0,a.A)([(0,s.EM)("hass-tabs-subpage-data-table")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"localizeFunc",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Object})],key:"columns",value:()=>({})},{kind:"field",decorators:[(0,s.MZ)({type:Array})],key:"data",value:()=>[]},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"selectable",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"clickable",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"hasFab",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"appendRow",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:String})],key:"id",value:()=>"id"},{kind:"field",decorators:[(0,s.MZ)({type:String})],key:"filter",value:()=>""},{kind:"field",decorators:[(0,s.MZ)()],key:"searchLabel",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Number})],key:"filters",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Number})],key:"selected",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:String})],key:"noDataText",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"empty",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"tabs",value:()=>[]},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"hasFilters",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"showFilters",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)()],key:"initialGroupColumn",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_sortColumn",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_sortDirection",value:()=>null},{kind:"field",decorators:[(0,s.wk)()],key:"_groupColumn",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_selectMode",value:()=>!1},{kind:"field",decorators:[(0,s.P)("ha-data-table",!0)],key:"_dataTable",value:void 0},{kind:"field",decorators:[(0,s.P)("#group-by-menu")],key:"_groupByMenu",value:void 0},{kind:"field",decorators:[(0,s.P)("#sort-by-menu")],key:"_sortByMenu",value:void 0},{kind:"field",key:"_showPaneController",value(){return new n.P(this,{callback:e=>{var t;return(null===(t=e[0])||void 0===t?void 0:t.contentRect.width)>750}})}},{kind:"method",key:"clearSelection",value:function(){this._dataTable.clearSelection()}},{kind:"method",key:"firstUpdated",value:function(){this.initialGroupColumn&&(this._groupColumn=this.initialGroupColumn)}},{kind:"method",key:"_toggleGroupBy",value:function(){this._groupByMenu.open=!this._groupByMenu.open}},{kind:"method",key:"_toggleSortBy",value:function(){this._sortByMenu.open=!this._sortByMenu.open}},{kind:"method",key:"render",value:function(){var e;const t=this.localizeFunc||this.hass.localize,i=null!==(e=this._showPaneController.value)&&void 0!==e?e:!this.narrow,a=this.hasFilters?o.qy`<div class="relative"> <ha-assist-chip .label="${t("ui.components.subpage-data-table.filters")}" .active="${this.filters}" @click="${this._toggleFilters}"> <ha-svg-icon slot="icon" .path="${h}"></ha-svg-icon> </ha-assist-chip> ${this.filters?o.qy`<div class="badge">${this.filters}</div>`:o.s6} </div>`:o.s6,n=this.selectable&&!this._selectMode?o.qy`<ha-assist-chip class="has-dropdown select-mode-chip" .active="${this._selectMode}" @click="${this._enableSelectMode}" .title="${t("ui.components.subpage-data-table.enter_selection_mode")}"> <ha-svg-icon slot="icon" .path="${p}"></ha-svg-icon> </ha-assist-chip>`:o.s6,s=o.qy`<search-input-outlined .hass="${this.hass}" .filter="${this.filter}" @value-changed="${this._handleSearchChange}" .label="${this.searchLabel}" .placeholder="${this.searchLabel}"> </search-input-outlined>`,r=Object.values(this.columns).find((e=>e.sortable))?o.qy` <ha-assist-chip .label="${t("ui.components.subpage-data-table.sort_by",{sortColumn:this._sortColumn?` ${this.columns[this._sortColumn].title||this.columns[this._sortColumn].label}`:""})}" id="sort-by-anchor" @click="${this._toggleSortBy}"> <ha-svg-icon slot="trailing-icon" .path="${v}"></ha-svg-icon> </ha-assist-chip> `:o.s6,d=Object.values(this.columns).find((e=>e.groupable))?o.qy` <ha-assist-chip .label="${t("ui.components.subpage-data-table.group_by",{groupColumn:this._groupColumn?` ${this.columns[this._groupColumn].title||this.columns[this._groupColumn].label}`:""})}" id="group-by-anchor" @click="${this._toggleGroupBy}"> <ha-svg-icon slot="trailing-icon" .path="${v}"></ha-svg-icon></ha-assist-chip> `:o.s6;return o.qy` <hass-tabs-subpage .hass="${this.hass}" .localizeFunc="${this.localizeFunc}" .narrow="${this.narrow}" .isWide="${this.isWide}" .backPath="${this.backPath}" .backCallback="${this.backCallback}" .route="${this.route}" .tabs="${this.tabs}" .mainPage="${this.mainPage}" .supervisor="${this.supervisor}" .pane="${i&&this.showFilters}" @sorting-changed="${this._sortingChanged}"> ${this._selectMode?o.qy`<div class="selection-bar" slot="toolbar"> <div class="selection-controls"> <ha-icon-button .path="${c}" @click="${this._disableSelectMode}" .label="${t("ui.components.subpage-data-table.exit_selection_mode")}"></ha-icon-button> <ha-button-menu-new positioning="absolute"> <ha-assist-chip .label="${t("ui.components.subpage-data-table.select")}" slot="trigger"> <ha-svg-icon slot="icon" .path="${p}"></ha-svg-icon> <ha-svg-icon slot="trailing-icon" .path="${v}"></ha-svg-icon></ha-assist-chip> <ha-menu-item .value="${void 0}" @click="${this._selectAll}"> <div slot="headline"> ${t("ui.components.subpage-data-table.select_all")} </div> </ha-menu-item> <ha-menu-item .value="${void 0}" @click="${this._selectNone}"> <div slot="headline"> ${t("ui.components.subpage-data-table.select_none")} </div> </ha-menu-item> <md-divider role="separator" tabindex="-1"></md-divider> <ha-menu-item .value="${void 0}" @click="${this._disableSelectMode}"> <div slot="headline"> ${t("ui.components.subpage-data-table.close_select_mode")} </div> </ha-menu-item> </ha-button-menu-new> <p> ${t("ui.components.subpage-data-table.selected",{selected:this.selected||"0"})} </p> </div> <div class="center-vertical"> <slot name="selection-bar"></slot> </div> </div>`:o.s6} ${this.showFilters&&i?o.qy`<div class="pane" slot="pane"> <div class="table-header"> <ha-assist-chip .label="${t("ui.components.subpage-data-table.filters")}" active @click="${this._toggleFilters}"> <ha-svg-icon slot="icon" .path="${h}"></ha-svg-icon> </ha-assist-chip> ${this.filters?o.qy`<ha-icon-button .path="${u}" @click="${this._clearFilters}" .label="${t("ui.components.subpage-data-table.clear_filter")}"></ha-icon-button>`:o.s6} </div> <div class="pane-content"> <slot name="filter-pane"></slot> </div> </div>`:o.s6} ${this.empty?o.qy`<div class="center"> <slot name="empty">${this.noDataText}</slot> </div>`:o.qy`<div slot="toolbar-icon"> <slot name="toolbar-icon"></slot> </div> ${this.narrow?o.qy` <div slot="header"> <slot name="header"> <div class="search-toolbar">${s}</div> </slot> </div> `:""} <ha-data-table .hass="${this.hass}" .columns="${this.columns}" .data="${this.data}" .noDataText="${this.noDataText}" .filter="${this.filter}" .selectable="${this._selectMode}" .hasFab="${this.hasFab}" .id="${this.id}" .clickable="${this.clickable}" .appendRow="${this.appendRow}" .sortColumn="${this._sortColumn}" .sortDirection="${this._sortDirection}" .groupColumn="${this._groupColumn}"> ${this.narrow?o.qy`<div slot="header"></div> <div slot="header-row" class="narrow-header-row"> ${this.hasFilters&&!this.showFilters?o.qy`${a}`:o.s6} ${n}${d}${r} </div>`:o.qy` <div slot="header"> <slot name="header"> <div class="table-header"> ${this.hasFilters&&!this.showFilters?o.qy`${a}`:o.s6}${n}${s}${d}${r} </div> </slot> </div> `} </ha-data-table>`} <div slot="fab"><slot name="fab"></slot></div> </hass-tabs-subpage> <ha-menu anchor="group-by-anchor" id="group-by-menu" positioning="fixed"> ${Object.entries(this.columns).map((([e,t])=>t.groupable?o.qy` <ha-menu-item .value="${e}" @click="${this._handleGroupBy}" .selected="${e===this._groupColumn}" class="${(0,l.H)({selected:e===this._groupColumn})}"> ${t.title||t.label} </ha-menu-item> `:o.s6))} <md-divider role="separator" tabindex="-1"></md-divider> <ha-menu-item .value="${void 0}" @click="${this._handleGroupBy}" .selected="${void 0===this._groupColumn}" class="${(0,l.H)({selected:void 0===this._groupColumn})}"> ${t("ui.components.subpage-data-table.dont_group_by")} </ha-menu-item> </ha-menu> <ha-menu anchor="sort-by-anchor" id="sort-by-menu" positioning="fixed"> ${Object.entries(this.columns).map((([e,t])=>t.sortable?o.qy` <ha-menu-item .value="${e}" @click="${this._handleSortBy}" keep-open .selected="${e===this._sortColumn}" class="${(0,l.H)({selected:e===this._sortColumn})}"> ${this._sortColumn===e?o.qy` <ha-svg-icon slot="end" .path="${"desc"===this._sortDirection?"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z":"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"}"></ha-svg-icon> `:o.s6} ${t.title||t.label} </ha-menu-item> `:o.s6))} </ha-menu> ${this.showFilters&&!i?o.qy`<ha-dialog open .heading="${t("ui.components.subpage-data-table.filters",{number:this.data.length})}"> <ha-dialog-header slot="heading"> <ha-icon-button slot="navigationIcon" .path="${c}" @click="${this._toggleFilters}" .label="${t("ui.components.subpage-data-table.close_filter")}"></ha-icon-button> <span slot="title">${t("ui.components.subpage-data-table.filters",{number:this.data.length})}</span> ${this.filters?o.qy`<ha-icon-button slot="actionItems" @click="${this._clearFilters}" .path="${u}" .label="${t("ui.components.subpage-data-table.clear_filter")}"></ha-icon-button>`:o.s6} </ha-dialog-header> <div class="filter-dialog-content"> <slot name="filter-pane"></slot> </div> <div slot="primaryAction"> <ha-button @click="${this._toggleFilters}"> ${this.hass.localize("ui.components.subpage-data-table.show_results",{number:this.data.length})} </ha-button> </div> </ha-dialog>`:o.s6} `}},{kind:"method",key:"_clearFilters",value:function(){(0,r.r)(this,"clear-filter")}},{kind:"method",key:"_toggleFilters",value:function(){this.showFilters=!this.showFilters}},{kind:"method",key:"_sortingChanged",value:function(e){this._sortDirection=e.detail.direction,this._sortColumn=this._sortDirection?e.detail.column:void 0}},{kind:"method",key:"_handleSortBy",value:function(e){const t=e.currentTarget.value;this._sortDirection&&this._sortColumn===t?"asc"===this._sortDirection?this._sortDirection="desc":this._sortDirection=null:this._sortDirection="asc",this._sortColumn=null===this._sortDirection?void 0:t}},{kind:"method",key:"_handleGroupBy",value:function(e){this._groupColumn=e.currentTarget.value}},{kind:"method",key:"_enableSelectMode",value:function(){this._selectMode=!0}},{kind:"method",key:"_disableSelectMode",value:function(){this._selectMode=!1,this._dataTable.clearSelection()}},{kind:"method",key:"_selectAll",value:function(){this._dataTable.selectAll()}},{kind:"method",key:"_selectNone",value:function(){this._dataTable.clearSelection()}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter!==e.detail.value&&(this.filter=e.detail.value,(0,r.r)(this,"search-changed",{value:this.filter}))}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:block;height:100%}ha-data-table{width:100%;height:100%;--data-table-border-width:0}.pane,:host(:not([narrow])) ha-data-table{height:calc(100vh - 1px - var(--header-height));display:block}.pane-content{height:calc(100vh - 1px - var(--header-height) - var(--header-height));display:flex;flex-direction:column}:host([narrow]) hass-tabs-subpage{--main-title-margin:0}:host([narrow]){--expansion-panel-summary-padding:0 16px}.table-header{display:flex;align-items:center;--mdc-shape-small:0;height:56px;width:100%;justify-content:space-between;padding:0 16px;gap:16px;box-sizing:border-box;background:var(--primary-background-color);border-bottom:1px solid var(--divider-color)}search-input-outlined{flex:1}.search-toolbar{display:flex;align-items:center;color:var(--secondary-text-color)}.filters{--mdc-text-field-fill-color:var(--input-fill-color);--mdc-text-field-idle-line-color:var(--input-idle-line-color);--mdc-shape-small:4px;--text-field-overflow:initial;display:flex;justify-content:flex-end;color:var(--primary-text-color)}.active-filters{color:var(--primary-text-color);position:relative;display:flex;align-items:center;padding:2px 2px 2px 8px;margin-left:4px;margin-inline-start:4px;margin-inline-end:initial;font-size:14px;width:max-content;cursor:initial;direction:var(--direction)}.active-filters ha-svg-icon{color:var(--primary-color)}.active-filters mwc-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}.active-filters::before{background-color:var(--primary-color);opacity:.12;border-radius:4px;position:absolute;top:0;right:0;bottom:0;left:0;content:""}.badge{min-width:20px;box-sizing:border-box;border-radius:50%;font-weight:400;background-color:var(--primary-color);line-height:20px;text-align:center;padding:0px 4px;color:var(--text-primary-color);position:absolute;right:0;inset-inline-end:0;inset-inline-start:initial;top:4px;font-size:.65em}.center{display:flex;align-items:center;justify-content:center;text-align:center;box-sizing:border-box;height:100%;width:100%;padding:16px}.badge{position:absolute;top:-4px;right:-4px;inset-inline-end:-4px;inset-inline-start:initial;min-width:16px;box-sizing:border-box;border-radius:50%;font-weight:400;font-size:11px;background-color:var(--primary-color);line-height:16px;text-align:center;padding:0px 2px;color:var(--text-primary-color)}.narrow-header-row{display:flex;align-items:center;gap:16px;padding:0 16px;overflow-x:scroll;-ms-overflow-style:none;scrollbar-width:none}.selection-bar{background:rgba(var(--rgb-primary-color),.1);width:100%;height:100%;display:flex;align-items:center;justify-content:space-between;padding:8px 12px;box-sizing:border-box;font-size:14px;--ha-assist-chip-container-color:var(--card-background-color)}.selection-controls{display:flex;align-items:center;gap:8px}.selection-controls p{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.center-vertical{display:flex;align-items:center;gap:8px}.relative{position:relative}ha-assist-chip{--ha-assist-chip-container-shape:10px;--ha-assist-chip-container-color:var(--card-background-color)}.select-mode-chip{--md-assist-chip-icon-label-space:0;--md-assist-chip-trailing-space:8px}ha-dialog{--mdc-dialog-min-width:calc(
          100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
        );--mdc-dialog-max-width:calc(
          100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
        );--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:0;--dialog-content-padding:0}.filter-dialog-content{height:calc(100vh - 1px - 61px - var(--header-height));display:flex;flex-direction:column}#group-by-anchor,#sort-by-anchor,ha-button-menu-new ha-assist-chip{--md-assist-chip-trailing-space:8px}`}}]}}),o.WF)},28021:(e,t,i)=>{var a=i(62659),n=i(76504),o=i(80792),s=(i(86395),i(40924)),l=i(18791),r=i(69760),d=i(45081),c=i(33315),h=(i(23141),i(78361),i(1683),i(90523)),u=i(79278);(0,a.A)([(0,l.EM)("ha-tab")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,l.MZ)({type:Boolean,reflect:!0})],key:"active",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)()],key:"name",value:void 0},{kind:"field",decorators:[(0,l.nJ)("mwc-ripple")],key:"_ripple",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_shouldRenderRipple",value:()=>!1},{kind:"method",key:"render",value:function(){return s.qy` <div tabindex="0" role="tab" aria-selected="${this.active}" aria-label="${(0,u.J)(this.name)}" @focus="${this.handleRippleFocus}" @blur="${this.handleRippleBlur}" @mousedown="${this.handleRippleActivate}" @mouseup="${this.handleRippleDeactivate}" @mouseenter="${this.handleRippleMouseEnter}" @mouseleave="${this.handleRippleMouseLeave}" @touchstart="${this.handleRippleActivate}" @touchend="${this.handleRippleDeactivate}" @touchcancel="${this.handleRippleDeactivate}" @keydown="${this._handleKeyDown}"> ${this.narrow?s.qy`<slot name="icon"></slot>`:""} <span class="name">${this.name}</span> ${this._shouldRenderRipple?s.qy`<mwc-ripple></mwc-ripple>`:""} </div> `}},{kind:"field",key:"_rippleHandlers",value(){return new h.I((()=>(this._shouldRenderRipple=!0,this._ripple)))}},{kind:"method",key:"_handleKeyDown",value:function(e){"Enter"===e.key&&e.target.click()}},{kind:"method",decorators:[(0,l.Ls)({passive:!0})],key:"handleRippleActivate",value:function(e){this._rippleHandlers.startPress(e)}},{kind:"method",key:"handleRippleDeactivate",value:function(){this._rippleHandlers.endPress()}},{kind:"method",key:"handleRippleMouseEnter",value:function(){this._rippleHandlers.startHover()}},{kind:"method",key:"handleRippleMouseLeave",value:function(){this._rippleHandlers.endHover()}},{kind:"method",key:"handleRippleFocus",value:function(){this._rippleHandlers.startFocus()}},{kind:"method",key:"handleRippleBlur",value:function(){this._rippleHandlers.endFocus()}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`div{padding:0 32px;display:flex;flex-direction:column;text-align:center;box-sizing:border-box;align-items:center;justify-content:center;width:100%;height:var(--header-height);cursor:pointer;position:relative;outline:0}.name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}:host([active]){color:var(--primary-color)}:host(:not([narrow])[active]) div{border-bottom:2px solid var(--primary-color)}:host([narrow]){min-width:0;display:flex;justify-content:center;overflow:hidden}:host([narrow]) div{padding:0 4px}`}}]}}),s.WF);var p=i(14126),v=i(76475);(0,a.A)([(0,l.EM)("hass-tabs-subpage")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"localizeFunc",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"tabs",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean,reflect:!0,attribute:"is-wide"})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"pane",value:()=>!1},{kind:"field",decorators:[(0,l.wk)()],key:"_activeTab",value:void 0},{kind:"field",decorators:[(0,c.a)(".content")],key:"_savedScrollPos",value:void 0},{kind:"field",key:"_getTabs",value(){return(0,d.A)(((e,t,i,a,n,o)=>{const l=e.filter((e=>(0,v.f)(this.hass,e)));if(l.length<2){if(1===l.length){const e=l[0];return[e.translationKey?o(e.translationKey):e.name]}return[""]}return l.map((e=>s.qy` <a href="${e.path}"> <ha-tab .hass="${this.hass}" .active="${e.path===(null==t?void 0:t.path)}" .narrow="${this.narrow}" .name="${e.translationKey?o(e.translationKey):e.name}"> ${e.iconPath?s.qy`<ha-svg-icon slot="icon" .path="${e.iconPath}"></ha-svg-icon>`:""} </ha-tab> </a> `))}))}},{kind:"method",key:"willUpdate",value:function(e){e.has("route")&&(this._activeTab=this.tabs.find((e=>`${this.route.prefix}${this.route.path}`.includes(e.path)))),(0,n.A)((0,o.A)(i.prototype),"willUpdate",this).call(this,e)}},{kind:"method",key:"render",value:function(){var e;const t=this._getTabs(this.tabs,this._activeTab,this.hass.config.components,this.hass.language,this.narrow,this.localizeFunc||this.hass.localize),i=t.length>1;return s.qy` <div class="toolbar"> <slot name="toolbar"> <div class="toolbar-content"> ${this.mainPage||!this.backPath&&null!==(e=history.state)&&void 0!==e&&e.root?s.qy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?s.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:s.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} ${this.narrow||!i?s.qy`<div class="main-title"> <slot name="header">${i?"":t[0]}</slot> </div>`:""} ${i&&!this.narrow?s.qy`<div id="tabbar">${t}</div>`:""} <div id="toolbar-icon"> <slot name="toolbar-icon"></slot> </div> </div> </slot> ${i&&this.narrow?s.qy`<div id="tabbar" class="bottom-bar">${t}</div>`:""} </div> <div class="container"> ${this.pane?s.qy`<div class="pane"> <div class="shadow-container"></div> <div class="ha-scrollbar"> <slot name="pane"></slot> </div> </div>`:s.s6} <div class="content ha-scrollbar ${(0,r.H)({tabs:i})}" @scroll="${this._saveScrollPos}"> <slot></slot> </div> </div> <div id="fab" class="${(0,r.H)({tabs:i})}"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,l.Ls)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[p.dp,s.AH`:host{display:block;height:100%;background-color:var(--primary-background-color)}:host([narrow]){width:100%;position:fixed}.container{display:flex;height:calc(100% - var(--header-height))}:host([narrow]) .container{height:100%}ha-menu-button{margin-right:24px;margin-inline-end:24px;margin-inline-start:initial}.toolbar{font-size:20px;height:var(--header-height);background-color:var(--sidebar-background-color);font-weight:400;border-bottom:1px solid var(--divider-color);box-sizing:border-box}.toolbar-content{padding:8px 12px;display:flex;align-items:center;height:100%;box-sizing:border-box}@media (max-width:599px){.toolbar-content{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}.bottom-bar a{width:25%}#tabbar{display:flex;font-size:14px;overflow:hidden}#tabbar>a{overflow:hidden;max-width:45%}#tabbar.bottom-bar{position:absolute;bottom:0;left:0;padding:0 16px;box-sizing:border-box;background-color:var(--sidebar-background-color);border-top:1px solid var(--divider-color);justify-content:space-around;z-index:2;font-size:12px;width:100%;padding-bottom:env(safe-area-inset-bottom)}#tabbar:not(.bottom-bar){flex:1;justify-content:center}:host(:not([narrow])) #toolbar-icon{min-width:40px}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{display:flex;flex-shrink:0;pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{flex:1;max-height:var(--header-height);line-height:20px;color:var(--sidebar-text-color);margin:var(--main-title-margin,var(--margin-title))}.content{position:relative;width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));margin-left:env(safe-area-inset-left);margin-right:env(safe-area-inset-right);margin-inline-start:env(safe-area-inset-left);margin-inline-end:env(safe-area-inset-right);overflow:auto;-webkit-overflow-scrolling:touch}:host([narrow]) .content.tabs{height:calc(100% - 2 * var(--header-height));height:calc(100% - 2 * var(--header-height) - env(safe-area-inset-bottom))}#fab{position:fixed;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}.pane{border-right:1px solid var(--divider-color);border-inline-end:1px solid var(--divider-color);border-inline-start:initial;box-sizing:border-box;display:flex;flex:0 0 var(--sidepane-width,250px);width:var(--sidepane-width,250px);flex-direction:column;position:relative}.pane .ha-scrollbar{flex:1}`]}}]}}),s.WF)},45179:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(62659),n=(i(29805),i(40924)),o=i(18791),s=i(86625),l=i(82931),r=i(28514),d=(i(54373),i(57780),i(39335),i(25426)),c=i(37382),h=i(8712),u=i(52398),p=i(33371),v=i(7260),m=e([u]);u=(m.then?(await m)():m)[0];(0,a.A)([(0,o.EM)("ha-device-entities-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"deviceName",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entities",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"showHidden",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_extDisabledEntityEntries",value:void 0},{kind:"field",key:"_entityRows",value:()=>[]},{kind:"method",key:"shouldUpdate",value:function(e){return!e.has("hass")||1!==e.size||(this._entityRows.forEach((e=>{e.hass=this.hass})),!1)}},{kind:"method",key:"render",value:function(){if(!this.entities.length)return n.qy` <ha-card outlined .header="${this.header}"> <div class="empty card-content"> ${this.hass.localize("ui.panel.config.devices.entities.none")} </div> </ha-card> `;const e=[],t=[];return this._entityRows=[],this.entities.forEach((i=>{i.disabled_by?this._extDisabledEntityEntries?t.push(this._extDisabledEntityEntries[i.entity_id]||i):t.push(i):e.push(i)})),n.qy` <ha-card outlined .header="${this.header}"> <div id="entities"> <mwc-list> ${e.map((e=>this.hass.states[e.entity_id]?this._renderEntity(e):this._renderEntry(e)))} </mwc-list> </div> ${t.length?this.showHidden?n.qy` <mwc-list> ${t.map((e=>this._renderEntry(e)))} </mwc-list> <button class="show-more" @click="${this._toggleShowHidden}"> ${this.hass.localize("ui.panel.config.devices.entities.show_less")} </button> `:n.qy` <button class="show-more" @click="${this._toggleShowHidden}"> ${this.hass.localize("ui.panel.config.devices.entities.hidden_entities",{count:t.length})} </button> `:""} <div class="card-actions"> <mwc-button @click="${this._addToLovelaceView}"> ${this.hass.localize("ui.panel.config.devices.entities.add_entities_lovelace")} </mwc-button> </div> </ha-card> `}},{kind:"method",key:"_toggleShowHidden",value:function(){if(this.showHidden=!this.showHidden,!this.showHidden||void 0!==this._extDisabledEntityEntries)return;this._extDisabledEntityEntries={};const e=this.entities.filter((e=>e.disabled_by)),t=async()=>{if(0===e.length)return;const i=e.pop().entity_id,a=await(0,d.v)(this.hass,i);this._extDisabledEntityEntries[i]=a,this.requestUpdate("_extDisabledEntityEntries"),t()};t(),t(),t()}},{kind:"method",key:"_renderEntity",value:function(e){const t={entity:e.entity_id},i=(0,u.T)(t);if(this.hass){i.hass=this.hass;const a=this.hass.states[e.entity_id];let n=e.name?(0,r.p)(e.name,this.deviceName.toLowerCase()):e.has_entity_name?e.original_name||this.deviceName:(0,r.p)((0,l.u)(a),this.deviceName.toLowerCase());n||(n=(0,l.u)(a)),e.hidden_by&&(n+=` (${this.hass.localize("ui.panel.config.devices.entities.hidden")})`),t.name=n}return i.entry=e,this._entityRows.push(i),n.qy` <div>${i}</div> `}},{kind:"method",key:"_renderEntry",value:function(e){const t=e.stateName||e.name||e.original_name,i=(0,s.T)((0,c.u7)(this.hass,e));return n.qy` <ha-list-item graphic="icon" class="disabled-entry" .entry="${e}" @click="${this._openEditEntry}"> <ha-icon slot="graphic" .icon="${i}"></ha-icon> <div class="name"> ${t?(0,r.p)(t,this.deviceName.toLowerCase())||t:e.entity_id} </div> </ha-list-item> `}},{kind:"method",key:"_openEditEntry",value:function(e){const t=e.currentTarget.entry;(0,h.p)(this,{entityId:t.entity_id})}},{kind:"method",key:"_addToLovelaceView",value:function(){const e=this.entities.filter((e=>!e.disabled_by)).map((e=>e.entity_id));(0,p.Q)(this,this.hass,(0,v.Bi)(this.hass.states,e,{title:this.deviceName}),(0,v.ZI)(e,{title:this.deviceName}),e)}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{display:block}ha-icon{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.entity-id{color:var(--secondary-text-color)}.buttons{text-align:right;margin:0 0 0 8px}.disabled-entry{color:var(--secondary-text-color)}#entities{margin-top:-24px}#entities>*{margin:8px 16px 8px 8px}#entities>paper-icon-item{margin:0}paper-icon-item{min-height:40px;padding:0 16px;cursor:pointer;--paper-item-icon-width:48px}.name{font-size:14px}.empty{text-align:center}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}`}}]}}),n.WF);t()}catch(e){t(e)}}))},85850:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(18311),l=(i(54373),i(1169)),r=i(14126);(0,a.A)([(0,o.EM)("ha-device-info-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"device",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"method",key:"render",value:function(){return n.qy` <ha-card outlined .header="${this.hass.localize("ui.panel.config.devices.device_info",{type:this.hass.localize(`ui.panel.config.devices.type.${this.device.entry_type||"device"}_heading`)})}"> <div class="card-content"> ${this.device.model?n.qy`<div class="model">${this.device.model}</div>`:""} ${this.device.manufacturer?n.qy` <div class="manuf"> ${this.hass.localize("ui.panel.config.integrations.config_entry.manuf",{manufacturer:this.device.manufacturer})} </div> `:""} ${this.device.via_device_id?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.via")} <span class="hub"><a href="/config/devices/device/${this.device.via_device_id}">${this._computeDeviceName(this.device.via_device_id)}</a></span> </div> `:""} ${this.device.sw_version?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry."+("service"!==this.device.entry_type||this.device.hw_version?"firmware":"version"),{version:this.device.sw_version})} </div> `:""} ${this.device.hw_version?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.hardware",{version:this.device.hw_version})} </div> `:""} ${this.device.serial_number?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.serial_number",{serial_number:this.device.serial_number})} </div> `:""} ${this._getAddresses().map((([e,t])=>n.qy` <div class="extra-info"> ${"mac"===e?"MAC":(0,s.n)(e)}: ${t.toUpperCase()} </div> `))} <slot></slot> </div> <slot name="actions"></slot> </ha-card> `}},{kind:"method",key:"_getAddresses",value:function(){return this.device.connections.filter((e=>"mac"===e[0]||"bluetooth"===e[0]))}},{kind:"method",key:"_computeDeviceName",value:function(e){const t=this.hass.devices[e];return t?(0,l.xn)(t,this.hass):`<${this.hass.localize("ui.panel.config.integrations.config_entry.unknown_via_device")}>`}},{kind:"get",static:!0,key:"styles",value:function(){return[r.RF,n.AH`:host{display:block}ha-card{flex:1 0 100%;min-width:0}.device{width:30%}.extra-info{margin-top:8px;word-wrap:break-word}.manuf,.model{color:var(--secondary-text-color);word-wrap:break-word}`]}}]}}),n.WF)},19596:(e,t,i)=>{var a=i(62659),n=(i(23981),i(40924)),o=i(18791),s=i(45081),l=i(95507),r=(i(54373),i(2526),i(1169));(0,a.A)([(0,o.EM)("ha-device-via-devices-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"deviceId",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_showAll",value:()=>!1},{kind:"field",key:"_viaDevices",value(){return(0,s.A)(((e,t)=>Object.values(t).filter((t=>t.via_device_id===e)).sort(((e,t)=>(0,l.S)((0,r.xn)(e,this.hass),(0,r.xn)(t,this.hass),this.hass.locale.language)))))}},{kind:"method",key:"render",value:function(){const e=this._viaDevices(this.deviceId,this.hass.devices);return 0===e.length?n.s6:n.qy` <ha-card> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.connected_devices.heading")} </h1> ${(this._showAll?e:e.slice(0,10)).map((e=>n.qy` <a href="${`/config/devices/device/${e.id}`}"> <mwc-list-item hasMeta> ${(0,r.xn)(e,this.hass)} <ha-icon-next slot="meta"></ha-icon-next> </mwc-list-item> </a> `))} ${!this._showAll&&e.length>10?n.qy` <button class="show-more" @click="${this._toggleShowAll}"> ${this.hass.localize("ui.panel.config.devices.connected_devices.show_more",{count:e.length-10})} </button> `:""} </ha-card> `}},{kind:"method",key:"_toggleShowAll",value:function(){this._showAll=!this._showAll}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{display:block}.card-header{padding-bottom:0}a{text-decoration:none;color:var(--primary-text-color)}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}`}}]}}),n.WF)},40421:(e,t,i)=>{i.d(t,{V:()=>o});var a=i(77664);const n=()=>i.e(52796).then(i.bind(i,52796)),o=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-device-automation",dialogImport:n,dialogParams:t})}},76278:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(62659),n=i(76504),o=i(80792),s=i(26349),l=(i(87777),i(23981),i(53640),i(90649),i(40924)),r=i(18791),d=i(79278),c=i(45081),h=i(6699),u=i(7383),p=i(47038),v=i(66596),m=i(82931),f=i(95507),g=i(6631),y=i(47186),b=(i(43878),i(12261),i(59151),i(12731),i(2526),i(1683),i(8983)),_=i(60280),k=i(2746),w=i(1169),x=i(31285),$=i(25426),z=i(58587),M=i(83449),C=i(4301),A=i(98876),L=(i(59617),i(52287),i(14126)),q=i(5203),Z=i(27690),F=i(21589),H=(i(76795),i(45179)),E=(i(85850),i(19596),i(40421)),S=i(46095),P=e([F,H]);[F,H]=P.then?(await P)():P;const D="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",R="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",B="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",T="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",I="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",V="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",W="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";(0,a.A)([(0,r.EM)("ha-config-device-page")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"entries",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"manifests",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"deviceId",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"showAdvanced",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_related",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_diagnosticDownloadLinks",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_deleteButtons",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_deviceActions",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_deviceAlerts",value:void 0},{kind:"field",decorators:[(0,r.wk)(),(0,s.Fg)({context:k.ih,subscribe:!0})],key:"_entityReg",value:void 0},{kind:"field",key:"_logbookTime",value:()=>({recent:86400})},{kind:"field",key:"_integrations",value:()=>(0,c.A)(((e,t,i)=>{const a={};for(const e of t)a[e.entry_id]=e;const n={};for(const e of i)n[e.domain]=e;const o=e.config_entries.filter((e=>e in a)).map((e=>a[e]));return(0,_.JW)(o,n)}))},{kind:"field",key:"_entities",value(){return(0,c.A)(((e,t)=>t.filter((t=>t.device_id===e)).map((e=>({...e,stateName:this._computeEntityName(e)}))).sort(((e,t)=>(0,f.x)(e.stateName||`zzz${e.entity_id}`,t.stateName||`zzz${t.entity_id}`,this.hass.locale.language)))))}},{kind:"field",key:"_deviceIdInList",value:()=>(0,c.A)((e=>[e]))},{kind:"field",key:"_entityIds",value:()=>(0,c.A)((e=>e.map((e=>e.entity_id))))},{kind:"field",key:"_entitiesByCategory",value:()=>(0,c.A)((e=>{const t=(0,y.$)(e,(e=>e.entity_category?e.entity_category:"event"===(0,p.m)(e.entity_id)?"event":u.JF.includes((0,p.m)(e.entity_id))?"sensor":"control"));for(const e of["config","control","diagnostic","event","sensor"])e in t||(t[e]=[]);return t}))},{kind:"field",key:"_batteryEntity",value(){return(0,c.A)((e=>(0,$.Er)(this.hass,e)))}},{kind:"field",key:"_batteryChargingEntity",value(){return(0,c.A)((e=>(0,$.DW)(this.hass,e)))}},{kind:"method",key:"willUpdate",value:function(e){(0,n.A)((0,o.A)(a.prototype),"willUpdate",this).call(this,e),(e.has("deviceId")||e.has("devices")||e.has("entries"))&&(this._diagnosticDownloadLinks=void 0,this._deleteButtons=void 0,this._deviceActions=void 0,this._deviceAlerts=void 0),this._diagnosticDownloadLinks&&this._deleteButtons&&this._deviceActions&&this._deviceAlerts||!this.deviceId||!this.entries||(this._diagnosticDownloadLinks=Math.random(),this._deleteButtons=[],this._deviceActions=[],this._deviceAlerts=[],this._getDiagnosticButtons(this._diagnosticDownloadLinks),this._getDeleteActions(),this._getDeviceActions(),this._getDeviceAlerts())}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.A)((0,o.A)(a.prototype),"firstUpdated",this).call(this,e),(0,S.F)()}},{kind:"method",key:"updated",value:function(e){(0,n.A)((0,o.A)(a.prototype),"updated",this).call(this,e),e.has("deviceId")&&this._findRelated()}},{kind:"method",key:"render",value:function(){var e,t,i,a,n;if(!this.hass||!this.deviceId)return l.s6;const o=this.hass.devices[this.deviceId];if(!o)return l.qy` <hass-error-screen .hass="${this.hass}" .error="${this.hass.localize("ui.panel.config.devices.device_not_found")}"></hass-error-screen> `;const s=(0,w.xn)(o,this.hass),r=this._integrations(o,this.entries,this.manifests),c=this._entities(this.deviceId,this._entityReg),u=this._entitiesByCategory(c),p=this._batteryEntity(c),f=this._batteryChargingEntity(c),g=p?this.hass.states[p.entity_id]:void 0,y=g?(0,v.t)(g):void 0,b=f?this.hass.states[f.entity_id]:void 0,_=o.area_id?this.hass.areas[o.area_id]:void 0,k=r.map((e=>{var t;return l.qy`<a slot="actions" href="${`/config/integrations/integration/${e.domain}#config_entry=${e.entry_id}`}"> <ha-list-item graphic="icon" hasMeta> <img slot="graphic" alt="${(0,z.p$)(this.hass.localize,e.domain)}" src="${(0,q.MR)({domain:e.domain,type:"icon",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer"> ${(0,z.p$)(this.hass.localize,e.domain)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a>`})),x=[...this._deviceActions||[]];Array.isArray(this._diagnosticDownloadLinks)&&x.push(...this._diagnosticDownloadLinks),this._deleteButtons&&x.push(...this._deleteButtons),x.sort(((e,t)=>"warning"===e.classes&&"warning"!==t.classes?1:"warning"!==e.classes&&"warning"===t.classes?-1:0));const $=x.shift();o.disabled_by&&k.push(l.qy` <ha-alert alert-type="warning"> ${this.hass.localize("ui.panel.config.devices.enabled_cause",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`),cause:this.hass.localize(`ui.panel.config.devices.disabled_by.${o.disabled_by}`)})} </ha-alert> ${"user"===o.disabled_by?l.qy` <div class="card-actions" slot="actions"> <mwc-button unelevated @click="${this._enableDevice}"> ${this.hass.localize("ui.common.enable")} </mwc-button> </div> `:""} `),this._renderIntegrationInfo(o,r,k);const M=(0,h.x)(this.hass,"automation")?l.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.automation.automations_heading")} <ha-icon-button @click="${this._showAutomationDialog}" .disabled="${o.disabled_by}" .label="${o.disabled_by?this.hass.localize("ui.panel.config.devices.automation.create_disable",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)}):this.hass.localize("ui.panel.config.devices.automation.create",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)})}" .path="${W}"></ha-icon-button> </h1> ${null!==(e=this._related)&&void 0!==e&&null!==(e=e.automation)&&void 0!==e&&e.length?l.qy` <div class="items"> ${this._related.automation.map((e=>{const t=this.hass.states[e];return t?l.qy`<div> <a href="${(0,d.J)(t.attributes.id?`/config/automation/edit/${encodeURIComponent(t.attributes.id)}`:void 0)}"> <ha-list-item hasMeta .automation="${t}" .disabled="${!t.attributes.id}"> ${(0,m.u)(t)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> ${t.attributes.id?"":l.qy` <simple-tooltip animation-delay="0"> ${this.hass.localize("ui.panel.config.devices.cant_edit")} </simple-tooltip> `} </div> `:""}))} </div> `:l.qy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt",{name:this.hass.localize("ui.panel.config.devices.automation.automations"),type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)})} </div> `} </ha-card> `:"",C=(0,h.x)(this.hass,"scene")&&c.length?l.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.scene.scenes_heading")} <ha-icon-button @click="${this._createScene}" .disabled="${o.disabled_by}" .label="${o.disabled_by?this.hass.localize("ui.panel.config.devices.scene.create_disable",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)}):this.hass.localize("ui.panel.config.devices.scene.create",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)})}" .path="${W}"></ha-icon-button> </h1> ${null!==(t=this._related)&&void 0!==t&&null!==(t=t.scene)&&void 0!==t&&t.length?l.qy` <div class="items"> ${this._related.scene.map((e=>{const t=this.hass.states[e];return t?l.qy` <div> <a href="${(0,d.J)(t.attributes.id?`/config/scene/edit/${t.attributes.id}`:void 0)}"> <ha-list-item hasMeta .scene="${t}" .disabled="${!t.attributes.id}"> ${(0,m.u)(t)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> ${t.attributes.id?"":l.qy` <simple-tooltip animation-delay="0"> ${this.hass.localize("ui.panel.config.devices.cant_edit")} </simple-tooltip> `} </div> `:""}))} </div> `:l.qy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt",{name:this.hass.localize("ui.panel.config.devices.scene.scenes"),type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)})} </div> `} </ha-card> `:"",A=(0,h.x)(this.hass,"script")?l.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.script.scripts_heading")} <ha-icon-button @click="${this._showScriptDialog}" .disabled="${o.disabled_by}" .label="${o.disabled_by?this.hass.localize("ui.panel.config.devices.script.create_disable",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)}):this.hass.localize("ui.panel.config.devices.script.create",{type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)})}" .path="${W}"></ha-icon-button> </h1> ${null!==(i=this._related)&&void 0!==i&&null!==(i=i.script)&&void 0!==i&&i.length?l.qy` <div class="items"> ${this._related.script.map((e=>{const t=this.hass.states[e],i=this._entityReg.find((t=>t.entity_id===e));let a=`/config/script/show/${t.entity_id}`;return i&&(a=`/config/script/edit/${i.unique_id}`),t?l.qy` <a href="${a}"> <ha-list-item hasMeta .script="${e}"> ${(0,m.u)(t)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> `:""}))} </div> `:l.qy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt",{name:this.hass.localize("ui.panel.config.devices.script.scripts"),type:this.hass.localize(`ui.panel.config.devices.type.${o.entry_type||"device"}`)})} </div> `} </ha-card> `:"";return l.qy` <hass-subpage .hass="${this.hass}" .narrow="${this.narrow}" .header="${s}"> <ha-icon-button slot="toolbar-icon" .path="${V}" @click="${this._showSettings}" .label="${this.hass.localize("ui.panel.config.devices.edit_settings")}"></ha-icon-button> <div class="container"> <div class="header fullwidth"> ${_?l.qy`<div class="header-name"> <a href="/config/areas/area/${_.area_id}">${this.hass.localize("ui.panel.config.integrations.config_entry.area",{area:_.name||"Unnamed Area"})}</a> </div>`:""} <div class="header-right"> ${!g||"binary_sensor"!==y&&isNaN(g.state)?"":l.qy` <div class="battery"> ${"sensor"===y?this.hass.formatEntityState(g):l.s6} <ha-battery-icon .hass="${this.hass}" .batteryStateObj="${g}" .batteryChargingStateObj="${b}"></ha-battery-icon> </div> `} ${r.length?l.qy` <img alt="${(0,z.p$)(this.hass.localize,r[0].domain)}" src="${(0,q.MR)({domain:r[0].domain,type:"logo",darkOptimized:null===(a=this.hass.themes)||void 0===a?void 0:a.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer" @load="${this._onImageLoad}" @error="${this._onImageError}"> `:""} </div> </div> <div class="column"> ${null!==(n=this._deviceAlerts)&&void 0!==n&&n.length?l.qy` <div> ${this._deviceAlerts.map((e=>l.qy` <ha-alert .alertType="${e.level}"> ${e.text} </ha-alert> `))} </div> `:""} <ha-device-info-card .hass="${this.hass}" .device="${o}"> ${k} ${$||x.length?l.qy` <div class="card-actions" slot="actions"> <div> <a href="${(0,d.J)($.href)}" rel="${(0,d.J)($.target?"noreferrer":void 0)}" target="${(0,d.J)($.target)}"> <mwc-button class="${(0,d.J)($.classes)}" .action="${$.action}" @click="${this._deviceActionClicked}" graphic="icon"> ${$.label} ${$.icon?l.qy` <ha-svg-icon class="${(0,d.J)($.classes)}" .path="${$.icon}" slot="graphic"></ha-svg-icon> `:""} ${$.trailingIcon?l.qy` <ha-svg-icon .path="${$.trailingIcon}" slot="trailingIcon"></ha-svg-icon> `:""} </mwc-button> </a> </div> ${x.length?l.qy` <ha-button-menu> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${B}"></ha-icon-button> ${x.map((e=>{const t=l.qy`<mwc-list-item class="${(0,d.J)(e.classes)}" .action="${e.action}" @click="${this._deviceActionClicked}" graphic="icon" .hasMeta="${Boolean(e.trailingIcon)}"> ${e.label} ${e.icon?l.qy` <ha-svg-icon class="${(0,d.J)(e.classes)}" .path="${e.icon}" slot="graphic"></ha-svg-icon> `:""} ${e.trailingIcon?l.qy` <ha-svg-icon slot="meta" .path="${e.trailingIcon}"></ha-svg-icon> `:""} </mwc-list-item>`;return e.href?l.qy`<a href="${e.href}" target="${(0,d.J)(e.target)}" rel="${(0,d.J)(e.target?"noreferrer":void 0)}">${t} </a>`:t}))} </ha-button-menu> `:""} </div> `:""} </ha-device-info-card> ${this.narrow?"":[M,C,A]} </div> <div class="column"> ${["control","sensor","event","config","diagnostic"].map((e=>u[e].length>0||0===c.length&&"control"===e?l.qy` <ha-device-entities-card .hass="${this.hass}" .header="${this.hass.localize(`ui.panel.config.devices.entities.${e}`)}" .deviceName="${s}" .entities="${u[e]}" .showHidden="${null!==o.disabled_by}"> </ha-device-entities-card> `:""))} <ha-device-via-devices-card .hass="${this.hass}" .deviceId="${this.deviceId}"></ha-device-via-devices-card> </div> <div class="column"> ${this.narrow?[M,C,A]:""} ${(0,h.x)(this.hass,"logbook")?l.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("panel.logbook")} </h1> <ha-logbook .hass="${this.hass}" .time="${this._logbookTime}" .entityIds="${this._entityIds(c)}" .deviceIds="${this._deviceIdInList(this.deviceId)}" virtualize narrow no-icon></ha-logbook> </ha-card> `:""} </div> </div>  </hass-subpage> `}},{kind:"method",key:"_getDiagnosticButtons",value:async function(e){if(!(0,h.x)(this.hass,"diagnostics"))return;const t=this.hass.devices[this.deviceId];if(!t)return;let i=await Promise.all(this._integrations(t,this.entries,this.manifests).map((async e=>{if("loaded"!==e.state)return!1;let t;try{t=await(0,x.g9)(this.hass,e.domain)}catch(e){if("not_found"===e.code)return!1;throw e}return!(!t.handlers.device&&!t.handlers.config_entry)&&{link:t.handlers.device?(0,x.It)(e.entry_id,this.deviceId):(0,x.WV)(e.entry_id),domain:e.domain}})));i=i.filter(Boolean),this._diagnosticDownloadLinks===e&&i.length>0&&(this._diagnosticDownloadLinks=i.map((e=>({href:e.link,icon:T,action:e=>this._signUrl(e),label:i.length>1?this.hass.localize("ui.panel.config.devices.download_diagnostics_integration",{integration:(0,z.p$)(this.hass.localize,e.domain)}):this.hass.localize("ui.panel.config.devices.download_diagnostics")}))))}},{kind:"method",key:"_getDeleteActions",value:function(){const e=this.hass.devices[this.deviceId];if(!e)return;const t=[];this._integrations(e,this.entries,this.manifests).forEach((i=>{"loaded"===i.state&&i.supports_remove_device&&t.push({action:async()=>{await(0,A.showConfirmationDialog)(this,{text:this._integrations(e,this.entries,this.manifests).length>1?this.hass.localize("ui.panel.config.devices.confirm_delete_integration",{integration:(0,z.p$)(this.hass.localize,i.domain)}):this.hass.localize("ui.panel.config.devices.confirm_delete")})&&await(0,w.nO)(this.hass,this.deviceId,i.entry_id)},classes:"warning",icon:R,label:this._integrations(e,this.entries,this.manifests).length>1?this.hass.localize("ui.panel.config.devices.delete_device_integration",{integration:(0,z.p$)(this.hass.localize,i.domain)}):this.hass.localize("ui.panel.config.devices.delete_device")})})),t.length>0&&(this._deleteButtons=t)}},{kind:"method",key:"_getDeviceActions",value:async function(){var e;const t=this.hass.devices[this.deviceId];if(!t)return;const a=[],n=(null===(e=t.configuration_url)||void 0===e?void 0:e.startsWith("homeassistant://"))||!1,o=n?t.configuration_url.replace("homeassistant://","/"):t.configuration_url;o&&a.push({href:o,target:n?void 0:"_blank",icon:D,label:this.hass.localize("ui.panel.config.devices.open_configuration_url"),trailingIcon:I});const s=this._integrations(t,this.entries,this.manifests).map((e=>e.domain));if(s.includes("mqtt")){const e=(await i.e(29046).then(i.bind(i,29046))).getMQTTDeviceActions(this,t);a.push(...e)}if(s.includes("zha")){const e=await i.e(73299).then(i.bind(i,73299)),n=await e.getZHADeviceActions(this,this.hass,t);a.push(...n)}if(s.includes("zwave_js")){const e=await i.e(79873).then(i.bind(i,79873)),n=await e.getZwaveDeviceActions(this,this.hass,t);a.push(...n)}if(s.includes("matter")){const e=await i.e(94555).then(i.bind(i,94555)),n=await e.getMatterDeviceActions(this,this.hass,t);a.push(...n)}this._deviceActions=a}},{kind:"method",key:"_getDeviceAlerts",value:async function(){const e=this.hass.devices[this.deviceId];if(!e)return;const t=[];if(this._integrations(e,this.entries,this.manifests).map((e=>e.domain)).includes("zwave_js")){const a=await i.e(31065).then(i.bind(i,31065)),n=await a.getZwaveDeviceAlerts(this.hass,e);t.push(...n)}t.length&&(this._deviceAlerts=t)}},{kind:"method",key:"_computeEntityName",value:function(e){if(e.name)return e.name;const t=this.hass.states[e.entity_id];return t?(0,m.u)(t):null}},{kind:"method",key:"_onImageLoad",value:function(e){e.target.style.display="inline-block"}},{kind:"method",key:"_onImageError",value:function(e){e.target.style.display="none"}},{kind:"method",key:"_findRelated",value:async function(){this._related=await(0,C.f)(this.hass,"device",this.deviceId)}},{kind:"method",key:"_createScene",value:function(){const e={};this._entities(this.deviceId,this._entityReg).forEach((t=>{e[t.entity_id]=""})),(0,M.Tx)({entities:e})}},{kind:"method",key:"_showScriptDialog",value:function(){(0,E.V)(this,{device:this.hass.devices[this.deviceId],entityReg:this._entityReg,script:!0})}},{kind:"method",key:"_showAutomationDialog",value:function(){(0,E.V)(this,{device:this.hass.devices[this.deviceId],entityReg:this._entityReg,script:!1})}},{kind:"method",key:"_renderIntegrationInfo",value:function(e,t,a){const n=t.map((e=>e.domain));n.includes("zha")&&(i.e(70294).then(i.bind(i,70294)),a.push(l.qy` <ha-device-info-zha .hass="${this.hass}" .device="${e}"></ha-device-info-zha> `)),n.includes("zwave_js")&&(i.e(38034).then(i.bind(i,38034)),a.push(l.qy` <ha-device-info-zwave_js .hass="${this.hass}" .device="${e}"></ha-device-info-zwave_js> `)),n.includes("matter")&&(i.e(34166).then(i.bind(i,34166)),a.push(l.qy` <ha-device-info-matter .hass="${this.hass}" .device="${e}"></ha-device-info-matter> `))}},{kind:"method",key:"_showSettings",value:async function(){const e=this.hass.devices[this.deviceId];(0,S._)(this,{device:e,updateEntry:async t=>{const i=e.name_by_user||e.name,a=t.name_by_user;if("user"===t.disabled_by&&"user"!==e.disabled_by){for(const i of e.config_entries)if(!Object.values(this.hass.devices).some((t=>t.id!==e.id&&t.config_entries.includes(i)))){const e=this.entries.find((e=>e.entry_id===i));if(e&&!e.disabled_by&&await(0,A.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.devices.confirm_disable_config_entry",{entry_name:e.title}),confirmText:this.hass.localize("ui.common.yes"),dismissText:this.hass.localize("ui.common.no")})){let e;try{e=await(0,_.XQ)(this.hass,i)}catch(e){return void(0,A.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.integrations.config_entry.disable_error"),text:e.message})}e.require_restart&&(0,A.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.integrations.config_entry.disable_restart_confirm")}),delete t.disabled_by}}}else null!==t.disabled_by&&"user"!==t.disabled_by&&delete t.disabled_by;try{await(0,w.FB)(this.hass,this.deviceId,t)}catch(e){return void(0,A.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.devices.update_device_error"),text:e.message})}if(!i||!a||i===a)return;const n=this._entities(this.deviceId,this._entityReg),o=this.showAdvanced&&await(0,A.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.devices.confirm_rename_entity_ids"),text:this.hass.localize("ui.panel.config.devices.confirm_rename_entity_ids_warning"),confirmText:this.hass.localize("ui.common.rename"),dismissText:this.hass.localize("ui.common.no"),warning:!0}),s=n.map((e=>{const t=e.name||e.stateName;let n,s,l,r=!1;if(e.has_entity_name&&!e.name?l=!1:!e.has_entity_name||e.name!==i&&e.name!==a?t&&t.includes(i)?(l=!0,s=t.replace(i,a)):l=!1:(l=!0,s=null),o){const t=(0,g.Y)(i);e.entity_id.includes(t)&&(r=!0,n=e.entity_id.replace(t,(0,g.Y)(a)))}if(void 0!==s||void 0!==n)return(0,$.G_)(this.hass,e.entity_id,{name:l?s:void 0,new_entity_id:r?n:void 0})}));await Promise.all(s)}})}},{kind:"method",key:"_enableDevice",value:async function(){await(0,w.FB)(this.hass,this.deviceId,{disabled_by:null})}},{kind:"method",key:"_signUrl",value:async function(e){const t=e.currentTarget.closest("a"),i=await(0,b.e0)(this.hass,t.getAttribute("href"));(0,Z.R)(i.path)}},{kind:"method",key:"_deviceActionClicked",value:function(e){e.currentTarget.action&&(e.preventDefault(),e.currentTarget.action(e))}},{kind:"get",static:!0,key:"styles",value:function(){return[L.RF,l.AH`.container{display:flex;flex-wrap:wrap;margin:auto;max-width:1000px;margin-top:32px;margin-bottom:32px}.card-header{display:flex;align-items:center;justify-content:space-between;padding-bottom:12px}.card-header ha-icon-button{margin-right:-8px;margin-inline-end:-8px;margin-inline-start:initial;color:var(--primary-color);height:auto;direction:var(--direction)}.device-info{padding:16px}h1{margin:0;font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.header{display:flex;justify-content:space-between}.header-name{display:flex;align-items:center;padding-left:8px;padding-inline-start:8px;direction:var(--direction)}.column,.fullwidth{padding:8px;box-sizing:border-box}.column{width:33%;flex-grow:1}.fullwidth{width:100%;flex-grow:1}.header-right{align-self:center}.header-right img{height:30px}.header-right{display:flex}.header-right:first-child{width:100%;justify-content:flex-end}.header-right>:not(:first-child){margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;direction:var(--direction)}.battery{align-self:center;align-items:center;display:flex;white-space:nowrap}.column>:not(:first-child){margin-top:16px}:host([narrow]) .column{width:100%}:host([narrow]) .container{margin-top:0}a{text-decoration:none;color:var(--primary-color)}ha-card a{color:var(--primary-text-color)}ha-svg-icon[slot=trailingIcon]{display:block;width:18px;height:18px}ha-svg-icon[slot=meta]{width:18px;height:18px}.items{padding-bottom:16px}ha-logbook{height:400px}:host([narrow]) ha-logbook{height:235px}.card-actions{display:flex;justify-content:space-between;align-items:center}`]}}]}}),l.WF);t()}catch(e){t(e)}}))},33550:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(62659),n=i(76504),o=i(80792),s=i(26349),l=(i(87777),i(40924)),r=i(18791),d=i(45081),c=i(16895),h=i(66596),u=i(89248),p=i(28825),v=(i(99518),i(43878),i(12261),i(59151),i(24630),i(32154),i(81555),i(1613),i(26205),i(84101),i(56264),i(12731),i(23658),i(23069),i(60280)),m=i(2746),f=i(1169),g=i(25426),y=i(51477),b=(i(72085),i(94027)),_=i(14126),k=i(5203),w=i(12928),x=(i(38042),i(26826)),$=i(72590),z=i(3549),M=i(69204),C=e([M]);M=(C.then?(await C)():C)[0];const A="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",L="M7,10L12,15L17,10H7Z",q="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z";(0,a.A)([(0,r.EM)("ha-config-devices-dashboard")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"entries",value:void 0},{kind:"field",decorators:[(0,r.wk)(),(0,s.Fg)({context:m.ih,subscribe:!0})],key:"entities",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"manifests",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_searchParms",value:()=>new URLSearchParams(window.location.search)},{kind:"field",decorators:[(0,r.wk)()],key:"_selected",value:()=>[]},{kind:"field",decorators:[(0,r.wk)()],key:"_filter",value(){var e;return(null===(e=history.state)||void 0===e?void 0:e.filter)||""}},{kind:"field",decorators:[(0,r.wk)()],key:"_filters",value:()=>({})},{kind:"field",decorators:[(0,r.wk)()],key:"_expandedFilter",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_labels",value:void 0},{kind:"field",key:"_ignoreLocationChange",value:()=>!1},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)((0,o.A)(i.prototype),"connectedCallback",this).call(this),window.addEventListener("location-changed",this._locationChanged),window.addEventListener("popstate",this._popState)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.A)((0,o.A)(i.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("location-changed",this._locationChanged),window.removeEventListener("popstate",this._popState)}},{kind:"field",key:"_locationChanged",value(){return()=>{this._ignoreLocationChange?this._ignoreLocationChange=!1:window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search),this._setFiltersFromUrl())}}},{kind:"field",key:"_popState",value(){return()=>{window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search),this._setFiltersFromUrl())}}},{kind:"field",key:"_states",value:()=>(0,d.A)((e=>[{value:"disabled",label:e("ui.panel.config.devices.data_table.disabled_by")}]))},{kind:"method",key:"firstUpdated",value:function(){this._filters={"ha-filter-states":{value:[],items:void 0}},this._setFiltersFromUrl()}},{kind:"method",key:"_setFiltersFromUrl",value:function(){var e,t;this._searchParms.has("domain")&&(this._filters={...this._filters,"ha-filter-states":{value:[...(null===(e=this._filters["ha-filter-states"])||void 0===e?void 0:e.value)||[],"disabled"],items:void 0},"ha-filter-integrations":{value:[this._searchParms.get("domain")],items:void 0}});this._searchParms.has("config_entry")&&(this._filters={...this._filters,"ha-filter-states":{value:[...(null===(t=this._filters["ha-filter-states"])||void 0===t?void 0:t.value)||[],"disabled"],items:void 0},config_entry:{value:[this._searchParms.get("config_entry")],items:void 0}});this._searchParms.has("label")&&this._filterLabel()}},{kind:"method",key:"_filterLabel",value:function(){const e=this._searchParms.get("label");e&&(this._filters={...this._filters,"ha-filter-labels":{value:[e],items:void 0}})}},{kind:"method",key:"_clearFilter",value:function(){this._filters={}}},{kind:"field",key:"_devicesAndFilterDomains",value(){return(0,d.A)(((e,t,i,a,n,o,s,l)=>{var r;let d=Object.values(e).map((e=>({...e,label_entries:[]})));const c={};for(const e of i)e.device_id&&(e.device_id in c||(c[e.device_id]=[]),c[e.device_id].push(e));const h={};for(const e of t)h[e.entry_id]=e;const u={};for(const e of n)u[e.domain]=e;let p;const m=new Set;Object.entries(o).forEach((([e,i])=>{var a,n,o;if("config_entry"===e&&null!==(a=i.value)&&void 0!==a&&a.length){d=d.filter((e=>e.config_entries.some((e=>{var t;return null===(t=i.value)||void 0===t?void 0:t.includes(e)}))));const e=t.filter((e=>{var t;return e.entry_id&&(null===(t=i.value)||void 0===t?void 0:t.includes(e.entry_id))}));e.forEach((e=>{m.add(e.domain)})),1===e.length&&(p=e[0])}else if("ha-filter-integrations"===e&&null!==(n=i.value)&&void 0!==n&&n.length){const e=t.filter((e=>i.value.includes(e.domain))).map((e=>e.entry_id));d=d.filter((t=>t.config_entries.some((t=>e.includes(t))))),i.value.forEach((e=>m.add(e)))}else"ha-filter-labels"===e&&null!==(o=i.value)&&void 0!==o&&o.length?d=d.filter((e=>e.labels.some((e=>i.value.includes(e))))):i.items&&(d=d.filter((e=>i.items.has(e.id))))}));const g=null===(r=o["ha-filter-states"])||void 0===r?void 0:r.value;(null==g?void 0:g.length)&&g.includes("disabled")||(d=d.filter((e=>!e.disabled_by)));return{devicesOutput:d.map((e=>{var t;const i=(0,v.JW)(e.config_entries.filter((e=>e in h)).map((e=>h[e])),u),n=(l&&(null==e?void 0:e.labels)||[]).map((e=>l.find((t=>t.label_id===e))));return{...e,name:(0,f.xn)(e,this.hass,c[e.id]),model:e.model||`<${s("ui.panel.config.devices.data_table.unknown")}>`,manufacturer:e.manufacturer||`<${s("ui.panel.config.devices.data_table.unknown")}>`,area:e.area_id&&a[e.area_id]?a[e.area_id].name:"—",integration:i.length?i.map((e=>s(`component.${e.domain}.title`)||e.domain)).join(", "):this.hass.localize("ui.panel.config.devices.data_table.no_integration"),domains:i.map((e=>e.domain)),battery_entity:[this._batteryEntity(e.id,c),this._batteryChargingEntity(e.id,c)],battery_level:null===(t=this.hass.states[this._batteryEntity(e.id,c)||""])||void 0===t?void 0:t.state,label_entries:n}})),filteredConfigEntry:p,filteredDomains:m}}))}},{kind:"field",key:"_columns",value(){return(0,d.A)(((e,t)=>{const i={icon:{title:"",type:"icon",template:e=>{var t;return e.domains.length?l.qy`<img alt="" crossorigin="anonymous" referrerpolicy="no-referrer" src="${(0,k.MR)({domain:e.domains[0],type:"icon",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode})}">`:""}}};return i.name=t?{title:e("ui.panel.config.devices.data_table.device"),main:!0,sortable:!0,filterable:!0,direction:"asc",grows:!0,template:e=>l.qy` <div style="font-size:14px">${e.name}</div> <div class="secondary">${e.area} | ${e.integration}</div> ${e.label_entries.length?l.qy` <ha-data-table-labels .labels="${e.label_entries}"></ha-data-table-labels> `:l.s6} `}:{title:e("ui.panel.config.devices.data_table.device"),main:!0,sortable:!0,filterable:!0,direction:"asc",grows:!0,template:e=>l.qy` <div style="font-size:14px">${e.name}</div> ${e.label_entries.length?l.qy` <ha-data-table-labels .labels="${e.label_entries}"></ha-data-table-labels> `:l.s6} `},i.manufacturer={title:e("ui.panel.config.devices.data_table.manufacturer"),sortable:!0,hidden:t,filterable:!0,groupable:!0,width:"15%"},i.model={title:e("ui.panel.config.devices.data_table.model"),sortable:!0,hidden:t,filterable:!0,width:"15%"},i.area={title:e("ui.panel.config.devices.data_table.area"),sortable:!0,hidden:t,filterable:!0,groupable:!0,width:"15%"},i.integration={title:e("ui.panel.config.devices.data_table.integration"),sortable:!0,hidden:t,filterable:!0,groupable:!0,width:"15%"},i.battery_entity={title:e("ui.panel.config.devices.data_table.battery"),sortable:!0,filterable:!0,type:"numeric",width:t?"105px":"15%",maxWidth:"105px",valueColumn:"battery_level",template:e=>{const t=e.battery_entity,i=t&&t[0]?this.hass.states[t[0]]:void 0,a=i?(0,h.t)(i):void 0,n=t&&t[1]?this.hass.states[t[1]]:void 0;return!i||"binary_sensor"!==a&&isNaN(i.state)?l.qy`—`:l.qy` ${"sensor"===a?this.hass.formatEntityState(i):l.s6} <ha-battery-icon .hass="${this.hass}" .batteryStateObj="${i}" .batteryChargingStateObj="${n}"></ha-battery-icon> `}},i.disabled_by={title:"",label:e("ui.panel.config.devices.data_table.disabled_by"),hidden:!0,template:e=>e.disabled_by?this.hass.localize("ui.panel.config.devices.disabled"):""},i.labels={title:"",hidden:!0,filterable:!0,template:e=>e.label_entries.map((e=>e.name)).join(" ")},i}))}},{kind:"method",key:"hassSubscribe",value:function(){return[(0,y.o5)(this.hass.connection,(e=>{this._labels=e}))]}},{kind:"method",key:"render",value:function(){var e,t,i,a,n,o,s;const{devicesOutput:r}=this._devicesAndFilterDomains(this.hass.devices,this.entries,this.entities,this.hass.areas,this.manifests,this._filters,this.hass.localize,this._labels),d=l.qy`${null===(e=this._labels)||void 0===e?void 0:e.map((e=>{const t=e.color?(0,c.M)(e.color):void 0,i=this._selected.every((t=>{var i;return null===(i=this.hass.devices[t])||void 0===i?void 0:i.labels.includes(e.label_id)})),a=!i&&this._selected.some((t=>{var i;return null===(i=this.hass.devices[t])||void 0===i?void 0:i.labels.includes(e.label_id)}));return l.qy`<ha-menu-item .value="${e.label_id}" .action="${i?"remove":"add"}" @click="${this._handleBulkLabel}" keep-open> <ha-checkbox slot="start" .checked="${i}" .indeterminate="${a}" reducedTouchTarget></ha-checkbox> <ha-label style="${t?`--color: ${t}`:""}"> ${e.icon?l.qy`<ha-icon slot="icon" .icon="${e.icon}"></ha-icon>`:l.s6} ${e.name} </ha-label> </ha-menu-item>`}))} <md-divider role="separator" tabindex="-1"></md-divider> <ha-menu-item @click="${this._bulkCreateLabel}"> <div slot="headline"> ${this.hass.localize("ui.panel.config.labels.add_label")} </div></ha-menu-item>`;return l.qy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .backPath="${this._searchParms.has("historyBack")?void 0:"/config"}" .tabs="${w.configSections.devices}" .route="${this.route}" .searchLabel="${this.hass.localize("ui.panel.config.devices.picker.search",{number:r.length})}" .columns="${this._columns(this.hass.localize,this.narrow)}" .data="${r}" selectable .selected="${this._selected.length}" @selection-changed="${this._handleSelectionChanged}" .filter="${this._filter}" hasFilters .filters="${Object.values(this._filters).filter((e=>Array.isArray(e.value)?e.value.length:e.value&&Object.values(e.value).some((e=>Array.isArray(e)?e.length:e)))).length}" @clear-filter="${this._clearFilter}" @search-changed="${this._handleSearchChange}" @row-click="${this._handleRowClicked}" clickable hasFab class="${this.narrow?"narrow":""}"> <ha-integration-overflow-menu .hass="${this.hass}" slot="toolbar-icon"></ha-integration-overflow-menu> <ha-fab slot="fab" .label="${this.hass.localize("ui.panel.config.devices.add_device")}" extended @click="${this._addDevice}"> <ha-svg-icon slot="icon" .path="${q}"></ha-svg-icon> </ha-fab> ${null!==(t=this._filters.config_entry)&&void 0!==t&&null!==(t=t.value)&&void 0!==t&&t.length?l.qy`<ha-alert slot="filter-pane"> Filtering by config entry ${(null===(i=this.entries)||void 0===i||null===(i=i.find((e=>e.entry_id===this._filters.config_entry.value[0])))||void 0===i?void 0:i.title)||this._filters.config_entry.value[0]} </ha-alert>`:l.s6} <ha-filter-floor-areas .hass="${this.hass}" type="device" .value="${null===(a=this._filters["ha-filter-floor-areas"])||void 0===a?void 0:a.value}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-floor-areas"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-floor-areas> <ha-filter-integrations .hass="${this.hass}" .value="${null===(n=this._filters["ha-filter-integrations"])||void 0===n?void 0:n.value}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-integrations"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-integrations> <ha-filter-states .hass="${this.hass}" .value="${null===(o=this._filters["ha-filter-states"])||void 0===o?void 0:o.value}" .states="${this._states(this.hass.localize)}" .label="${this.hass.localize("ui.panel.config.devices.picker.state")}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-states"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-states> <ha-filter-labels .hass="${this.hass}" .value="${null===(s=this._filters["ha-filter-labels"])||void 0===s?void 0:s.value}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-labels"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-labels> ${this.narrow?l.qy` <ha-button-menu-new has-overflow slot="selection-bar"><ha-assist-chip .label="${this.hass.localize("ui.panel.config.automation.picker.bulk_action")}" slot="trigger"> <ha-svg-icon slot="trailing-icon" .path="${L}"></ha-svg-icon> </ha-assist-chip> <ha-sub-menu> <ha-menu-item slot="item"> <div slot="headline"> ${this.hass.localize("ui.panel.config.automation.picker.bulk_actions.add_label")} </div> <ha-svg-icon slot="end" .path="${A}"></ha-svg-icon> </ha-menu-item> <ha-menu slot="menu">${d}</ha-menu> </ha-sub-menu> </ha-button-menu-new>`:l.qy`<ha-button-menu-new slot="selection-bar"> <ha-assist-chip slot="trigger" .label="${this.hass.localize("ui.panel.config.automation.picker.bulk_actions.add_label")}"> <ha-svg-icon slot="trailing-icon" .path="${L}"></ha-svg-icon> </ha-assist-chip> ${d} </ha-button-menu-new>`} </hass-tabs-subpage-data-table> `}},{kind:"method",key:"_filterExpanded",value:function(e){e.detail.expanded?this._expandedFilter=e.target.localName:this._expandedFilter===e.target.localName&&(this._expandedFilter=void 0)}},{kind:"method",key:"_filterChanged",value:function(e){const t=e.target.localName;this._filters={...this._filters,[t]:e.detail}}},{kind:"method",key:"_batteryEntity",value:function(e,t){const i=(0,g.Er)(this.hass,t[e]||[]);return i?i.entity_id:void 0}},{kind:"method",key:"_batteryChargingEntity",value:function(e,t){const i=(0,g.DW)(this.hass,t[e]||[]);return i?i.entity_id:void 0}},{kind:"method",key:"_handleRowClicked",value:function(e){const t=e.detail.id;this._ignoreLocationChange=!0,(0,p.o)(`/config/devices/device/${t}`)}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value,history.replaceState({filter:this._filter},"")}},{kind:"method",key:"_addDevice",value:function(){const{filteredConfigEntry:e,filteredDomains:t}=this._devicesAndFilterDomains(this.hass.devices,this.entries,this.entities,this.hass.areas,this.manifests,this._filters,this.hass.localize,this._labels);1===t.size&&u.x.includes([...t][0])?(0,u.P)(this,this.hass,[...t][0],{config_entry:null==e?void 0:e.entry_id}):(0,x.X)(this,{domain:this._searchParms.get("domain")||void 0})}},{kind:"method",key:"_handleSelectionChanged",value:function(e){this._selected=e.detail.value}},{kind:"method",key:"_handleBulkLabel",value:async function(e){const t=e.currentTarget.value,i=e.currentTarget.action;this._bulkLabel(t,i)}},{kind:"method",key:"_bulkLabel",value:async function(e,t){const i=[];this._selected.forEach((a=>{i.push((0,f.FB)(this.hass,a,{labels:"add"===t?this.hass.devices[a].labels.concat(e):this.hass.devices[a].labels.filter((t=>t!==e))}))}));const a=await Promise.allSettled(i);if((0,z.$)(a)){const e=(0,z.N)(a);(0,M.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.common.multiselect.failed",{number:e.length}),text:l.qy`<pre>
${e.map((e=>e.reason.message||e.reason.code||e.reason)).join("\r\n")}</pre>`})}}},{kind:"method",key:"_bulkCreateLabel",value:function(){(0,$.f)(this,{createEntry:async e=>{const t=await(0,y._9)(this.hass,e);return this._bulkLabel(t.label_id,"add"),t}})}},{kind:"get",static:!0,key:"styles",value:function(){return[l.AH`hass-tabs-subpage-data-table{--data-table-row-height:60px}hass-tabs-subpage-data-table.narrow{--data-table-row-height:72px}ha-button-menu{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.clear{color:var(--primary-color);padding-left:8px;padding-inline-start:8px;text-transform:uppercase;direction:var(--direction)}ha-assist-chip{--ha-assist-chip-container-shape:10px}ha-button-menu-new ha-assist-chip{--md-assist-chip-trailing-space:8px}ha-label{--ha-label-background-color:var(--color, var(--grey-color));--ha-label-background-opacity:0.5}`,_.RF]}}]}}),(0,b.E)(l.WF));t()}catch(e){t(e)}}))},13023:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.r(t);var n=i(62659),o=i(76504),s=i(80792),l=i(18791),r=i(60280),d=i(58587),c=i(70881),h=i(76278),u=i(33550),p=e([h,u]);[h,u]=p.then?(await p)():p;(0,n.A)([(0,l.EM)("ha-config-devices")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"showAdvanced",value:()=>!1},{kind:"field",key:"routerOptions",value:()=>({defaultPage:"dashboard",routes:{dashboard:{tag:"ha-config-devices-dashboard",cache:!0},device:{tag:"ha-config-device-page"}}})},{kind:"field",decorators:[(0,l.wk)()],key:"_configEntries",value:()=>[]},{kind:"field",decorators:[(0,l.wk)()],key:"_manifests",value:()=>[]},{kind:"method",key:"firstUpdated",value:function(e){(0,o.A)((0,s.A)(i.prototype),"firstUpdated",this).call(this,e),this._loadData()}},{kind:"method",key:"updatePageEl",value:function(e){e.hass=this.hass,"device"===this._currentPage&&(e.deviceId=this.routeTail.path.substr(1)),e.entries=this._configEntries,e.manifests=this._manifests,e.narrow=this.narrow,e.isWide=this.isWide,e.showAdvanced=this.showAdvanced,e.route=this.routeTail}},{kind:"method",key:"_loadData",value:async function(){this._configEntries=await(0,r.VN)(this.hass),this._manifests=await(0,d.fK)(this.hass)}}]}}),c.a);a()}catch(e){a(e)}}))},76795:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791),s=i(69760);(0,a.A)([(0,o.EM)("ha-config-section")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"vertical",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"full-width"})],key:"fullWidth",value:()=>!1},{kind:"method",key:"render",value:function(){return n.qy` <div class="content ${(0,s.H)({narrow:!this.isWide,"full-width":this.fullWidth})}"> <div class="header"><slot name="header"></slot></div> <div class="together layout ${(0,s.H)({narrow:!this.isWide,vertical:this.vertical||!this.isWide,horizontal:!this.vertical&&this.isWide})}"> <div class="intro"><slot name="introduction"></slot></div> <div class="panel flex-auto"><slot></slot></div> </div> </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{display:block}.content{padding:28px 20px 0;max-width:1040px;margin:0 auto}.layout{display:flex}.horizontal{flex-direction:row}.vertical{flex-direction:column}.flex-auto{flex:1 1 auto}.header{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.together{margin-top:32px}.intro{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height);width:100%;opacity:var(--dark-primary-opacity);font-size:14px;padding-bottom:20px}.horizontal .intro{max-width:400px;margin-right:40px;margin-inline-end:40px;margin-inline-start:initial}.panel{margin-top:-24px}.panel ::slotted(*){margin-top:24px;display:block}.narrow.content{max-width:640px}.narrow .together{margin-top:20px}.narrow .intro{padding-bottom:20px;margin-right:0;margin-inline-end:0;margin-inline-start:initial;max-width:500px}.full-width{padding:0}.full-width .layout{flex-direction:column}`}}]}}),n.WF)},17876:(e,t,i)=>{i.d(t,{L:()=>n,z:()=>o});var a=i(1751);const n=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],o=(0,a.g)(n)},38042:(e,t,i)=>{var a=i(62659),n=i(40924),o=i(18791);i(59151),i(29842),i(12731);(0,a.A)([(0,o.EM)("ha-integration-overflow-menu")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"method",key:"render",value:function(){return n.qy` <ha-button-menu activatable> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"></ha-icon-button> <ha-clickable-list-item href="/config/application_credentials"> ${this.hass.localize("ui.panel.config.application_credentials.caption")} </ha-clickable-list-item> </ha-button-menu> `}}]}}),n.WF)},56285:(e,t,i)=>{i.d(t,{g:()=>o});var a=i(77664);const n=()=>Promise.all([i.e(28591),i.e(16018),i.e(45764),i.e(64461),i.e(8670),i.e(51783),i.e(64446)]).then(i.bind(i,64446)),o=e=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-matter-add-device",dialogImport:n,dialogParams:{}})}},40223:(e,t,i)=>{i.d(t,{X:()=>o});var a=i(77664);const n=()=>Promise.all([i.e(27311),i.e(26255),i.e(29805),i.e(22658),i.e(28591),i.e(16018),i.e(34667),i.e(27350),i.e(88436),i.e(48038),i.e(21254)]).then(i.bind(i,21254)),o=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-zwave_js-add-node",dialogImport:n,dialogParams:t})}},26826:(e,t,i)=>{i.d(t,{X:()=>n,n:()=>o});var a=i(77664);const n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:()=>Promise.all([i.e(22658),i.e(62223),i.e(48156)]).then(i.bind(i,48156)),dialogParams:t})},o=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:()=>i.e(2198).then(i.bind(i,2198)),dialogParams:t})}},7260:(e,t,i)=>{i.d(t,{Bi:()=>f,ZI:()=>m,Yp:()=>g});var a=i(7383),n=i(47038),o=i(66596),s=i(82931);var l=i(28514),r=i(95507),d=i(86464),c=i(58587),h=i(35978),u=i(17876);const p=new Set(["automation","configurator","conversation","device_tracker","geo_location","persistent_notification","script","sun","zone","event","tts","stt","todo"]),v=new Set(["mobile_app"]),m=(e,t)=>({type:"grid",cards:e.map((e=>({type:"tile",entity:e,show_entity_picture:["person","camera","image"].includes((0,n.m)(e))||void 0}))),...t}),f=(e,t,i,o=!0)=>{const d=[],c=[],h=i.title?i.title.toLowerCase():void 0,u=[];for(const i of t){const t=e[i],a=(0,n.m)(i);if("alarm_control_panel"===a){const e={type:"alarm-panel",entity:i};d.push(e)}else if("camera"===a){const e={type:"picture-entity",entity:i};d.push(e)}else if("image"===a){const e={type:"picture",image_entity:i};d.push(e)}else if("climate"===a){var p,v,m;const t={type:"thermostat",entity:i,features:(null!==(p=null===(v=e[i])||void 0===v||null===(v=v.attributes)||void 0===v||null===(v=v.hvac_modes)||void 0===v?void 0:v.length)&&void 0!==p?p:0)>1?[{type:"climate-hvac-modes",hvac_modes:null===(m=e[i])||void 0===m||null===(m=m.attributes)||void 0===m?void 0:m.hvac_modes}]:void 0};d.push(t)}else if("humidifier"===a){const e={type:"humidifier",entity:i,features:[{type:"humidifier-toggle"}]};d.push(e)}else if("media_player"===a){const e={type:"media-control",entity:i};d.push(e)}else if("plant"===a){const e={type:"plant-status",entity:i};d.push(e)}else if("weather"===a){const e={type:"weather-forecast",entity:i,show_forecast:!1};d.push(e)}else if(!o||"scene"!==a&&"script"!==a){let e;const a=h&&t&&(e=(0,l.p)((0,s.u)(t),h))?{entity:i,name:e}:i;c.push(a)}else{const e={entity:i,show_icon:!0,show_name:!0};let a;h&&t&&(a=(0,l.p)((0,s.u)(t),h))&&(e.name=a),u.push(e)}}if(c.sort(((t,i)=>{const o="string"==typeof t?t:t.entity,l="string"==typeof i?i:i.entity,d=a.JF.includes((0,n.m)(o))?"sensor":"control";return d!==(a.JF.includes((0,n.m)(l))?"sensor":"control")?"sensor"===d?1:-1:(0,r.x)("string"==typeof t?e[t]?(0,s.u)(e[t]):"":t.name||"","string"==typeof i?e[i]?(0,s.u)(e[i]):"":i.name||"")})),0===c.length&&u.length>0)return f(e,t,i,!1);if(c.length>0||u.length>0){const e={type:"entities",entities:c,...i};u.length>0&&(e.footer={type:"buttons",entities:u}),d.unshift(e)}return d.length<2?d:[{type:"grid",square:!1,columns:1,cards:d}]},g=(e,t,i,a,l,m,g,y,b)=>{const _=((e,t)=>{const i={},a=new Set(Object.values(t).filter((e=>e.entity_category||e.platform&&v.has(e.platform)||e.hidden)).map((e=>e.entity_id)));for(const t of Object.keys(e)){const n=e[t];p.has((0,o.t)(n))||a.has(n.entity_id)||(i[t]=e[t])}return i})(a,i),k={};for(const e of Object.keys(_)){const t=_[e];t.attributes.order&&(k[e]=t.attributes.order)}const w=((e,t,i,a)=>{const n={...a},o={},s={};for(const a of Object.values(i)){var l;const i=a.area_id||a.device_id&&(null===(l=t[a.device_id])||void 0===l?void 0:l.area_id);i&&i in e&&a.entity_id in n?(i in o||(o[i]=[]),o[i].push(n[a.entity_id]),delete n[a.entity_id]):a.device_id&&a.device_id in t&&a.entity_id in n&&(a.device_id in s||(s[a.device_id]=[]),s[a.device_id].push(n[a.entity_id]),delete n[a.entity_id])}for(const[e,t]of Object.entries(s))1===t.length&&(n[t[0].entity_id]=t[0],delete s[e]);return{areasWithEntities:o,devicesWithEntities:s,otherEntities:n}})(e,t,i,_);if(null!=g&&g.hidden)for(const e of g.hidden)delete w.areasWithEntities[e];y&&(w.devicesWithEntities={},w.otherEntities={});const x=(e=>{const t=[],i={};return Object.keys(e).forEach((a=>{const o=e[a];"group"===(0,n.m)(a)?t.push(o):i[a]=o})),t.forEach((e=>e.attributes.entity_id.forEach((e=>{delete i[e]})))),{groups:t,ungrouped:i}})(w.otherEntities);x.groups.sort(((e,t)=>k[e.entity_id]-k[t.entity_id]));const $=[];for(const e of x.groups)$.push(...f(a,e.attributes.entity_id,{title:(0,s.u)(e),show_header_toggle:"hidden"!==e.attributes.control}));const z=((e,t,i,a,n)=>{const l={};for(const e of Object.keys(n)){const t=n[e],i=(0,o.t)(t);i in l||(l[i]=[]),l[i].push(t.entity_id)}const d=[];if("person"in l){const e=[];if(1===l.person.length)d.push({type:"entities",entities:l.person});else{let t,i="";for(const a of l.person){const o=n[a];let s=o.attributes.entity_picture;if(!s){if(void 0===t){const e=getComputedStyle(document.body);t=encodeURIComponent(e.getPropertyValue("--light-primary-color").trim()),i=encodeURIComponent((e.getPropertyValue("--text-light-primary-color")||e.getPropertyValue("--primary-text-color")).trim())}s=`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='50' height='50' style='background-color:${t}'%3E%3Cg%3E%3Ctext font-family='roboto' x='50%25' y='50%25' text-anchor='middle' stroke='${i}' font-size='1.3em' dy='.3em'%3E${(0,h._2)(o.attributes.friendly_name||"")}%3C/text%3E%3C/g%3E%3C/svg%3E`}e.push({type:"picture-entity",entity:a,aspect_ratio:"1",show_name:!1,image:s})}d.push({type:"grid",square:!0,columns:3,cards:e})}delete l.person}const p=[];for(const e of u.L)e in l&&(p.push(...l[e]),delete l[e]);const v={};for(const t of Object.keys(l))v[t]=(0,c.p$)(e,t);p.length&&(l._helpers=p,v._helpers=e("ui.panel.lovelace.strategy.original-states.helpers")),Object.keys(l).sort(((e,t)=>(0,r.x)(v[e],v[t]))).forEach((e=>{d.push(...f(n,l[e].sort(((e,t)=>(0,r.x)((0,s.u)(n[e]),(0,s.u)(n[t])))),{title:v[e]}))}));const m={path:t,title:i,cards:d};return a&&(m.icon=a),m})(l,"default_view","Home",undefined,x.ungrouped),M=[],C=Object.keys(w.areasWithEntities).sort((0,d.dj)(e,null==g?void 0:g.order));for(const t of C){const i=w.areasWithEntities[t],n=e[t];M.push(...f(a,i.map((e=>e.entity_id)),{title:n.name}))}const A=[],L=Object.entries(w.devicesWithEntities).sort(((e,i)=>{const a=t[e[0]],n=t[i[0]];return(0,r.x)(a.name_by_user||a.name||"",n.name_by_user||n.name||"")}));for(const[e,i]of L){const n=t[e];A.push(...f(a,i.map((e=>e.entity_id)),{title:n.name_by_user||n.name||l("ui.panel.config.devices.unnamed_device",{type:l(`ui.panel.config.devices.type.${n.entry_type||"device"}`)})}))}let q;if(m&&!b){const e=m.energy_sources.find((e=>"grid"===e.type));e&&e.flow_from.length>0&&(q={title:l("ui.panel.lovelace.cards.energy.energy_distribution.title_today"),type:"energy-distribution",link_dashboard:!0})}return z.cards.unshift(...M,...$,...q?[q]:[]),z.cards.push(...A),z}},52409:(e,t,i)=>{i.d(t,{Y:()=>s});i(70274);var a=i(73765);const n=new Set(["error","state-label"]),o={"entity-filter":()=>i.e(29600).then(i.bind(i,29600))},s=e=>(0,a.Ue)("badge",e,n,o,void 0,"state-label")},50308:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{MJ:()=>g,dY:()=>b,te:()=>y});var n=i(15310),o=i(97644),s=i(79695),l=i(80816),r=(i(55211),i(83158)),d=i(54190),c=(i(86946),i(4396),i(92161)),h=i(45794),u=i(34552),p=i(73765),v=e([n,o,s,l,r,d,c,h,u]);[n,o,s,l,r,d,c,h,u]=v.then?(await v)():v;const m=new Set(["entity","entities","button","entity-button","glance","grid","section","light","sensor","thermostat","weather-forecast","tile"]),f={"alarm-panel":()=>Promise.all([i.e(27311),i.e(780)]).then(i.bind(i,780)),area:()=>Promise.all([i.e(95339),i.e(20758)]).then(i.bind(i,86181)),calendar:()=>Promise.resolve().then(i.bind(i,97644)),conditional:()=>i.e(29886).then(i.bind(i,29886)),"empty-state":()=>i.e(9417).then(i.bind(i,9417)),"energy-compare":()=>Promise.all([i.e(65006),i.e(31337)]).then(i.bind(i,31337)),"energy-carbon-consumed-gauge":()=>Promise.all([i.e(65006),i.e(8674),i.e(49840)]).then(i.bind(i,49840)),"energy-date-selection":()=>Promise.all([i.e(27311),i.e(49774),i.e(65006),i.e(29918),i.e(77023),i.e(20534),i.e(84868)]).then(i.bind(i,23929)),"energy-devices-graph":()=>Promise.all([i.e(65006),i.e(93857),i.e(59122)]).then(i.bind(i,59122)),"energy-devices-detail-graph":()=>Promise.all([i.e(65006),i.e(48769),i.e(77023),i.e(31770)]).then(i.bind(i,31770)),"energy-distribution":()=>Promise.all([i.e(65006),i.e(48498)]).then(i.bind(i,48498)),"energy-gas-graph":()=>Promise.all([i.e(65006),i.e(48769),i.e(77023),i.e(99368)]).then(i.bind(i,99368)),"energy-water-graph":()=>Promise.all([i.e(65006),i.e(48769),i.e(77023),i.e(4902)]).then(i.bind(i,4902)),"energy-grid-neutrality-gauge":()=>Promise.all([i.e(65006),i.e(86293),i.e(36112)]).then(i.bind(i,36112)),"energy-solar-consumed-gauge":()=>Promise.all([i.e(65006),i.e(53436),i.e(89924)]).then(i.bind(i,89924)),"energy-self-sufficiency-gauge":()=>Promise.all([i.e(65006),i.e(31055),i.e(22387)]).then(i.bind(i,22387)),"energy-solar-graph":()=>Promise.all([i.e(65006),i.e(48769),i.e(77023),i.e(59716)]).then(i.bind(i,59716)),"energy-sources-table":()=>Promise.all([i.e(65006),i.e(94822),i.e(45441)]).then(i.bind(i,45441)),"energy-usage-graph":()=>Promise.all([i.e(65006),i.e(48769),i.e(77023),i.e(26222)]).then(i.bind(i,26222)),"entity-filter":()=>i.e(66802).then(i.bind(i,66802)),error:()=>Promise.all([i.e(47420),i.e(86796)]).then(i.bind(i,86796)),gauge:()=>i.e(15579).then(i.bind(i,15579)),"history-graph":()=>Promise.all([i.e(93857),i.e(89974),i.e(47526)]).then(i.bind(i,24349)),"horizontal-stack":()=>i.e(79433).then(i.bind(i,79433)),humidifier:()=>i.e(5182).then(i.bind(i,5182)),iframe:()=>i.e(24086).then(i.bind(i,24086)),logbook:()=>Promise.all([i.e(21589),i.e(44768)]).then(i.bind(i,57567)),map:()=>Promise.all([i.e(76474),i.e(15740)]).then(i.bind(i,24900)),markdown:()=>i.e(76757).then(i.bind(i,76757)),"media-control":()=>Promise.all([i.e(53856),i.e(83107)]).then(i.bind(i,83107)),"picture-elements":()=>Promise.all([i.e(95339),i.e(98328),i.e(35654)]).then(i.bind(i,80034)),"picture-entity":()=>Promise.all([i.e(95339),i.e(11151)]).then(i.bind(i,65896)),"picture-glance":()=>Promise.all([i.e(95339),i.e(46986)]).then(i.bind(i,70101)),picture:()=>i.e(65496).then(i.bind(i,65496)),"plant-status":()=>i.e(62512).then(i.bind(i,62512)),"recovery-mode":()=>Promise.all([i.e(50988),i.e(42311),i.e(31113)]).then(i.bind(i,31113)),"todo-list":()=>Promise.all([i.e(27311),i.e(50988),i.e(49774),i.e(87891)]).then(i.bind(i,87891)),"shopping-list":()=>Promise.all([i.e(27311),i.e(50988),i.e(49774),i.e(87891),i.e(94415)]).then(i.bind(i,94415)),starting:()=>i.e(73730).then(i.bind(i,73730)),"statistics-graph":()=>i.e(24212).then(i.bind(i,24212)),statistic:()=>i.e(58284).then(i.bind(i,58284)),"vertical-stack":()=>i.e(32523).then(i.bind(i,32523))},g=e=>(0,p.Vd)("card",e,m,f,void 0,void 0),y=e=>(0,p.Ue)("card",e,m,f,void 0,void 0),b=e=>(0,p.gh)(e,"card",m,f);a()}catch(e){a(e)}}))},73765:(e,t,i)=>{i.d(t,{Ni:()=>o,Ue:()=>c,Vd:()=>h,gh:()=>u,x_:()=>s});var a=i(77664),n=i(32990);const o=e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.all([i.e(47420),i.e(86796)]).then(i.bind(i,86796)),customElements.whenDefined("hui-error-card").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t},s=(e,t)=>({type:"error",error:e,origConfig:t}),l=(e,t)=>{const i=document.createElement(e);return i.setConfig(t),i},r=(e,t)=>o(s(e,t)),d=e=>(0,n.c8)(e)?(0,n.Iu)(e):void 0,c=(e,t,i,a,n,o)=>{try{return h(e,t,i,a,n,o)}catch(i){return console.error(e,t.type,i),r(i.message,t)}},h=(e,t,i,n,o,s)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||s||o&&"entity"in t))throw new Error("No card type configured");const c=t.type?d(t.type):void 0;if(c)return((e,t)=>{if(customElements.get(e))return l(e,t);const i=r(`Custom element doesn't exist: ${e}.`,t);if(!e.includes("-"))return i;i.style.display="None";const n=window.setTimeout((()=>{i.style.display=""}),2e3);return customElements.whenDefined(e).then((()=>{clearTimeout(n),(0,a.r)(i,"ll-rebuild")})),i})(c,t);let h;if(o&&!t.type&&t.entity){h=`${o[t.entity.split(".",1)[0]]||o._domain_not_found}-entity`}else h=t.type||s;if(void 0===h)throw new Error("No type specified");const u=`hui-${h}-${e}`;if(n&&h in n)return n[h](),((e,t)=>{if(customElements.get(e))return l(e,t);const i=document.createElement(e);return customElements.whenDefined(e).then((()=>{try{customElements.upgrade(i),i.setConfig(t)}catch(e){(0,a.r)(i,"ll-rebuild")}})),i})(u,t);if(i&&i.has(h))return l(u,t);throw new Error(`Unknown type encountered: ${h}`)},u=async(e,t,i,a)=>{const n=d(e);if(n){const e=customElements.get(n);if(e)return e;if(!n.includes("-"))throw new Error(`Custom element not found: ${n}`);return new Promise(((e,t)=>{setTimeout((()=>t(new Error(`Custom element not found: ${n}`))),2e3),customElements.whenDefined(n).then((()=>e(customElements.get(n))))}))}const o=`hui-${e}-${t}`,s=customElements.get(o);if(i&&i.has(e))return s;if(a&&e in a)return s||a[e]().then((()=>customElements.get(o)));throw new Error(`Unknown type: ${e}`)}},69061:(e,t,i)=>{i.d(t,{l:()=>s,x:()=>o});var a=i(73765);const n={picture:()=>i.e(14095).then(i.bind(i,14095)),buttons:()=>Promise.all([i.e(94499),i.e(82716)]).then(i.bind(i,82716)),graph:()=>i.e(22677).then(i.bind(i,22677))},o=e=>(0,a.Ue)("header-footer",e,void 0,n,void 0,void 0),s=e=>(0,a.gh)(e,"header-footer",void 0,n)},93804:(e,t,i)=>{i.d(t,{d:()=>o});i(70),i(7807),i(34599),i(8496),i(33577),i(27739),i(85500);var a=i(73765);const n=new Set(["conditional","icon","image","service-button","state-badge","state-icon","state-label"]),o=e=>(0,a.Ue)("element",e,n)},52398:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{T:()=>g,t:()=>y});var n=i(95354),o=i(53600),s=i(56822),l=i(61247),r=i(35308),d=i(43152),c=i(35486),h=i(9340),u=(i(69192),i(81282),i(73765)),p=e([n,o,s,l,r,d,c,h]);[n,o,s,l,r,d,c,h]=p.then?(await p)():p;const v=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),m={"button-entity":()=>i.e(49974).then(i.bind(i,49974)),"climate-entity":()=>i.e(3135).then(i.bind(i,3135)),"cover-entity":()=>i.e(70111).then(i.bind(i,70111)),"date-entity":()=>Promise.all([i.e(27311),i.e(24058)]).then(i.bind(i,24058)),"datetime-entity":()=>Promise.all([i.e(27311),i.e(50988),i.e(86050),i.e(90731),i.e(1481)]).then(i.bind(i,1481)),"event-entity":()=>Promise.resolve().then(i.bind(i,95354)),"group-entity":()=>i.e(19915).then(i.bind(i,19915)),"input-button-entity":()=>i.e(55475).then(i.bind(i,55475)),"humidifier-entity":()=>i.e(95910).then(i.bind(i,95910)),"input-datetime-entity":()=>Promise.all([i.e(27311),i.e(50988),i.e(58876)]).then(i.bind(i,58876)),"input-number-entity":()=>Promise.all([i.e(27311),i.e(9516)]).then(i.bind(i,9516)),"input-select-entity":()=>Promise.all([i.e(50988),i.e(35255)]).then(i.bind(i,35255)),"input-text-entity":()=>Promise.all([i.e(27311),i.e(16670)]).then(i.bind(i,16670)),"lock-entity":()=>i.e(899).then(i.bind(i,899)),"number-entity":()=>Promise.all([i.e(27311),i.e(51337)]).then(i.bind(i,51337)),"select-entity":()=>Promise.all([i.e(50988),i.e(14062)]).then(i.bind(i,14062)),"text-entity":()=>Promise.all([i.e(27311),i.e(33135)]).then(i.bind(i,33135)),"time-entity":()=>Promise.all([i.e(27311),i.e(50988),i.e(29511),i.e(32989)]).then(i.bind(i,32989)),"timer-entity":()=>i.e(1109).then(i.bind(i,1109)),"update-entity":()=>i.e(42829).then(i.bind(i,42829)),"valve-entity":()=>i.e(17168).then(i.bind(i,17168)),conditional:()=>i.e(12940).then(i.bind(i,12940)),"weather-entity":()=>i.e(39774).then(i.bind(i,39774)),divider:()=>i.e(16401).then(i.bind(i,16401)),section:()=>i.e(33643).then(i.bind(i,33643)),weblink:()=>i.e(87374).then(i.bind(i,87374)),cast:()=>i.e(45459).then(i.bind(i,45459)),buttons:()=>Promise.all([i.e(94499),i.e(81005)]).then(i.bind(i,81005)),attribute:()=>Promise.resolve().then(i.bind(i,9340)),text:()=>i.e(80907).then(i.bind(i,80907))},f={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_datetime:"input-datetime",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",update:"update",vacuum:"toggle",valve:"valve",water_heater:"climate",weather:"weather"},g=e=>(0,u.Ue)("row",e,v,m,f,void 0),y=e=>(0,u.gh)(e,"row",v,m);a()}catch(e){a(e)}}))},33371:(e,t,i)=>{i.d(t,{Q:()=>r});var a=i(79861),n=i(53001),o=i(98876),s=i(21457),l=i(52008);const r=async(e,t,i,r,d)=>{var c,h;t.loadFragmentTranslation("lovelace");const u=await(0,n.SJ)(t),p=u.filter((e=>"storage"===e.mode)),v=null===(c=t.panels.lovelace)||void 0===c||null===(c=c.config)||void 0===c?void 0:c.mode;if("storage"!==v&&!p.length)return void(0,s.Q)(e,{cardConfig:i,entities:d,yaml:!0});let m,f=null;if("storage"===v)try{m=await(0,a.Dz)(t.connection,null,!1)}catch(e){}if(!m&&p.length)for(const e of p)try{m=await(0,a.Dz)(t.connection,e.url_path,!1),f=e.url_path;break}catch(e){}m?p.length||null!==(h=m.views)&&void 0!==h&&h.length?p.length||1!==m.views.length?(0,l.X)(e,{lovelaceConfig:m,urlPath:f,allowDashboardChange:!0,actionLabel:t.localize("ui.common.next"),dashboards:u,viewSelectedCallback:(n,o,l)=>{(0,s.Q)(e,{cardConfig:i,sectionConfig:r,lovelaceConfig:o,saveConfig:async e=>{try{await(0,a.ql)(t,n,e)}catch(e){alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"))}},path:[l],entities:d})}}):(0,s.Q)(e,{cardConfig:i,sectionConfig:r,lovelaceConfig:m,saveConfig:async e=>{try{await(0,a.ql)(t,null,e)}catch(e){alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"))}},path:[0],entities:d}):(0,o.showAlertDialog)(e,{text:"You don't have any Lovelace views, first create a view in Lovelace."}):u.length>p.length?(0,s.Q)(e,{cardConfig:i,sectionConfig:r,entities:d,yaml:!0}):(0,o.showAlertDialog)(e,{text:"You don't seem to be in control of any dashboard, please take control first."})}},21457:(e,t,i)=>{i.d(t,{Q:()=>o});var a=i(77664);const n=()=>Promise.all([i.e(47420),i.e(3488)]).then(i.bind(i,3488)),o=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-suggest-card",dialogImport:n,dialogParams:t})}},52008:(e,t,i)=>{i.d(t,{X:()=>n});var a=i(77664);const n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:()=>Promise.all([i.e(22658),i.e(50988),i.e(88436),i.e(64351)]).then(i.bind(i,64351)),dialogParams:t})}},27690:(e,t,i)=>{i.d(t,{R:()=>a});const a=(e,t="")=>{const i=document.createElement("a");i.target="_blank",i.href=e,i.download=t,document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click")),document.body.removeChild(i)}}};
//# sourceMappingURL=60196.RJ9pMYDOGNI.js.map