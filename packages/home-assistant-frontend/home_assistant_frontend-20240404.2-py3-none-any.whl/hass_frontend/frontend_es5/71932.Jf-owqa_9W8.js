"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[71932],{30454:function(n,t,e){e.d(t,{$W:function(){return d},Dp:function(){return h},EC:function(){return r},S9:function(){return v},XF:function(){return u},b1:function(){return f},bV:function(){return s},lB:function(){return a},lg:function(){return c},mX:function(){return g},oj:function(){return l},rY:function(){return m},vH:function(){return p}});e(43859);var i,o=e(28825),r="single",s=10,u=function(n){if("condition"in n&&Array.isArray(n.condition))return{condition:"and",conditions:n.condition};for(var t=0,e=["and","or","not"];t<e.length;t++){var i=e[t];if(i in n)return{condition:i,conditions:n[i]}}return n},a=function(n,t){n.callService("automation","trigger",{entity_id:t,skip_condition:!0})},c=function(n,t){return n.callApi("DELETE","config/automation/config/".concat(t))},l=function(n,t){return n.callApi("GET","config/automation/config/".concat(t))},d=function(n,t){return n.callWS({type:"automation/config",entity_id:t})},f=function(n,t,e){return n.callApi("POST","config/automation/config/".concat(t),e)},g=function(n){i=n,(0,o.o)("/config/automation/edit/new")},p=function(n){g(Object.assign(Object.assign({},n),{},{id:void 0,alias:void 0}))},m=function(){var n=i;return i=void 0,n},h=function(n,t,e,i){return n.connection.subscribeMessage(t,{type:"subscribe_trigger",trigger:e,variables:i})},v=function(n,t,e){return n.callWS({type:"test_condition",condition:t,variables:e})}},71932:function(n,t,e){e.r(t),e.d(t,{attachExternalToApp:function(){return s}});var i=e(77664),o=e(51150),r=e(30454),s=function(n){window.addEventListener("haptic",(function(t){return n.hass.auth.external.fireMessage({type:"haptic",payload:{hapticType:t.detail}})})),n.hass.auth.external.addCommandHandler((function(t){return u(n,t)}))},u=function(n,t){var e=n.hass.auth.external;if("restart"===t.command)n.hass.connection.reconnect(!0),e.fireMessage({id:t.id,type:"result",success:!0,result:null});else if("notifications/show"===t.command)(0,i.r)(n,"hass-show-notifications"),e.fireMessage({id:t.id,type:"result",success:!0,result:null});else if("sidebar/toggle"===t.command){var s;if(null!==(s=o.G.history.state)&&void 0!==s&&s.open)return e.fireMessage({id:t.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.r)(n,"hass-toggle-menu"),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}else if("sidebar/show"===t.command){var u;if(null!==(u=o.G.history.state)&&void 0!==u&&u.open)return e.fireMessage({id:t.id,type:"result",success:!1,error:{code:"not_allowed",message:"dialog open"}}),!0;(0,i.r)(n,"hass-toggle-menu",{open:!0}),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}else{if("automation/editor/show"!==t.command)return!1;var a;(0,r.mX)(null===(a=t.payload)||void 0===a?void 0:a.config),e.fireMessage({id:t.id,type:"result",success:!0,result:null})}return!0}}}]);
//# sourceMappingURL=71932.Jf-owqa_9W8.js.map