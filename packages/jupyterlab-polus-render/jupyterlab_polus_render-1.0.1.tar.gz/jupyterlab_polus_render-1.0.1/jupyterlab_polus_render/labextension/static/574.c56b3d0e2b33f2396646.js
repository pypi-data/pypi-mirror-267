"use strict";(self.webpackChunkjupyterlab_polus_render=self.webpackChunkjupyterlab_polus_render||[]).push([[574],{3574:(t,r,i)=>{function s(t,r){if(!t)throw new Error("math.gl assertion ".concat(r))}i.r(r),i.d(r,{Euler:()=>vt,Matrix3:()=>Q,Matrix4:()=>ht,Pose:()=>Ct,Quaternion:()=>Rt,SphericalCoordinates:()=>xt,Vector2:()=>Y,Vector3:()=>j,Vector4:()=>z,_Euler:()=>vt,_MathUtils:()=>It,_Pose:()=>Ct,_SphericalCoordinates:()=>xt,acos:()=>y,asin:()=>p,assert:()=>s,atan:()=>d,clamp:()=>k,clone:()=>u,config:()=>n,configure:()=>a,cos:()=>O,degrees:()=>E,equals:()=>S,exactEquals:()=>b,formatValue:()=>o,isArray:()=>c,lerp:()=>L,radians:()=>g,sin:()=>M,tan:()=>m,toDegrees:()=>f,toRadians:()=>l,withEpsilon:()=>R});const e=1/Math.PI*180,h=1/180*Math.PI,n={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function a(t){for(const r in t)s(r in n),n[r]=t[r];return n}function o(t,{precision:r=n.precision}={}){return t=function(t){return Math.round(t/n.EPSILON)*n.EPSILON}(t),"".concat(parseFloat(t.toPrecision(r)))}function c(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function u(t){return"clone"in t?t.clone():t.slice()}function l(t){return g(t)}function f(t){return E(t)}function g(t,r){return w(t,(t=>t*h),r)}function E(t,r){return w(t,(t=>t*e),r)}function M(t,r){return w(t,(t=>Math.sin(t)),r)}function O(t,r){return w(t,(t=>Math.cos(t)),r)}function m(t,r){return w(t,(t=>Math.tan(t)),r)}function p(t,r){return w(t,(t=>Math.asin(t)),r)}function y(t,r){return w(t,(t=>Math.acos(t)),r)}function d(t,r){return w(t,(t=>Math.atan(t)),r)}function k(t,r,i){return w(t,(t=>Math.max(r,Math.min(i,t))))}function L(t,r,i){return c(t)?t.map(((t,s)=>L(t,r[s],i))):i*r+(1-i)*t}function S(t,r,i){const s=n.EPSILON;i&&(n.EPSILON=i);try{if(t===r)return!0;if(c(t)&&c(r)){if(t.length!==r.length)return!1;for(let i=0;i<t.length;++i)if(!S(t[i],r[i]))return!1;return!0}return t&&t.equals?t.equals(r):r&&r.equals?r.equals(t):"number"==typeof t&&"number"==typeof r&&Math.abs(t-r)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(r))}finally{n.EPSILON=s}}function b(t,r){if(t===r)return!0;if(t&&"object"==typeof t&&r&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(t.exactEquals)return t.exactEquals(r)}if(c(t)&&c(r)){if(t.length!==r.length)return!1;for(let i=0;i<t.length;++i)if(!b(t[i],r[i]))return!1;return!0}return!1}function R(t,r){const i=n.EPSILON;let s;n.EPSILON=t;try{s=r()}finally{n.EPSILON=i}return s}function w(t,r,i){if(c(t)){const s=t;i=i||function(t){return t.clone?t.clone():new Array(t.length)}(s);for(let e=0;e<i.length&&e<s.length;++e)i[e]=r(t[e],e,i);return i}return r(t)}class N extends(function(t){function r(){var r=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(r,Object.getPrototypeOf(this)),r}return r.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t,r}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(t,r=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=t[i+r];return this.check()}toArray(t=[],r=0){for(let i=0;i<this.ELEMENTS;++i)t[r+i]=this[i];return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:c(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(n)}formatString(t){let r="";for(let i=0;i<this.ELEMENTS;++i)r+=(i>0?", ":"")+o(this[i],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(r,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(!S(this[r],t[r]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(this[r]!==t[r])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,r,i){if(void 0===i)return this.lerp(this,t,r);for(let s=0;s<this.ELEMENTS;++s){const e=t[s];this[s]=e+i*(r[s]-e)}return this.check()}min(t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(t[r],this[r]);return this.check()}max(t){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.max(t[r],this[r]);return this.check()}clamp(t,r){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],t[i]),r[i]);return this.check()}add(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]+=r[t];return this.check()}subtract(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]-=r[t];return this.check()}scale(t){if("number"==typeof t)for(let r=0;r<this.ELEMENTS;++r)this[r]*=t;else for(let r=0;r<this.ELEMENTS&&r<t.length;++r)this[r]*=t[r];return this.check()}multiplyByScalar(t){for(let r=0;r<this.ELEMENTS;++r)this[r]*=t;return this.check()}check(){if(n.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let r=0;r<this.ELEMENTS;++r)t=t&&Number.isFinite(this[r]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let r=0;r<this.ELEMENTS;++r)this[r]=t;return this.check()}addScalar(t){for(let r=0;r<this.ELEMENTS;++r)this[r]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let r=0;r<this.ELEMENTS;++r)this[r]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,r){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],t),r);return this.check()}get elements(){return this}}function x(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function A(t,r,i=""){if(n.debug&&!function(t,r){if(t.length!==r)return!1;for(let r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}(t,r))throw new Error("math.gl: ".concat(i," some fields set to invalid numbers'"));return t}class Z extends N{get x(){return this[0]}set x(t){this[0]=x(t)}get y(){return this[1]}set y(t){this[1]=x(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let r=0;r<this.ELEMENTS;++r)t+=this[r]*this[r];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let r=0;for(let i=0;i<this.ELEMENTS;++i){const s=this[i]-t[i];r+=s*s}return x(r)}dot(t){let r=0;for(let i=0;i<this.ELEMENTS;++i)r+=this[i]*t[i];return x(r)}normalize(){const t=this.magnitude();if(0!==t)for(let r=0;r<this.ELEMENTS;++r)this[r]/=t;return this.check()}multiply(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]*=r[t];return this.check()}divide(...t){for(const r of t)for(let t=0;t<this.ELEMENTS;++t)this[t]/=r[t];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return s(t>=0&&t<this.ELEMENTS,"index is out of range"),x(this[t])}setComponent(t,r){return s(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=r,this.check()}addVectors(t,r){return this.copy(t).add(r)}subVectors(t,r){return this.copy(t).subtract(r)}multiplyVectors(t,r){return this.copy(t).multiply(r)}addScaledVector(t,r){return this.add(new this.constructor(t).multiplyScalar(r))}}var P=i(842);function v(t,r,i){const s=r[0],e=r[1],h=i[3]*s+i[7]*e||1;return t[0]=(i[0]*s+i[4]*e)/h,t[1]=(i[1]*s+i[5]*e)/h,t}function C(t,r,i){const s=r[0],e=r[1],h=r[2],n=i[3]*s+i[7]*e+i[11]*h||1;return t[0]=(i[0]*s+i[4]*e+i[8]*h)/n,t[1]=(i[1]*s+i[5]*e+i[9]*h)/n,t[2]=(i[2]*s+i[6]*e+i[10]*h)/n,t}function I(t,r,i){const s=r[0],e=r[1],h=r[2];return t[0]=i[0]*s+i[3]*e+i[6]*h,t[1]=i[1]*s+i[4]*e+i[7]*h,t[2]=i[2]*s+i[5]*e+i[8]*h,t[3]=r[3],t}class Y extends Z{constructor(t=0,r=0){super(2),c(t)&&1===arguments.length?this.copy(t):(n.debug&&(x(t),x(r)),this[0]=t,this[1]=r)}set(t,r){return this[0]=t,this[1]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this.check()}fromObject(t){return n.debug&&(x(t.x),x(t.y)),this[0]=t.x,this[1]=t.y,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return P.Z0(this,this,t),this.check()}transformAsVector(t){return v(this,this,t),this.check()}transformByMatrix3(t){return P.ei(this,this,t),this.check()}transformByMatrix2x3(t){return P.l0(this,this,t),this.check()}transformByMatrix2(t){return P.ZF(this,this,t),this.check()}}var T=i(329);const X=[0,0,0];let W,q;class j extends Z{static get ZERO(){return W||(W=new j(0,0,0),Object.freeze(W)),W}constructor(t=0,r=0,i=0){super(-0,-0,-0),1===arguments.length&&c(t)?this.copy(t):(n.debug&&(x(t),x(r),x(i)),this[0]=t,this[1]=r,this[2]=i)}set(t,r,i){return this[0]=t,this[1]=r,this[2]=i,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return n.debug&&(x(t.x),x(t.y),x(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=x(t)}angle(t){return T.g7(this,t)}cross(t){return T.$A(this,this,t),this.check()}rotateX({radians:t,origin:r=X}){return T.eL(this,this,r,t),this.check()}rotateY({radians:t,origin:r=X}){return T.Z8(this,this,r,t),this.check()}rotateZ({radians:t,origin:r=X}){return T.x6(this,this,r,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return T.Z0(this,this,t),this.check()}transformAsVector(t){return C(this,this,t),this.check()}transformByMatrix3(t){return T.ei(this,this,t),this.check()}transformByMatrix2(t){return function(t,r,i){const s=r[0],e=r[1];t[0]=i[0]*s+i[2]*e,t[1]=i[1]*s+i[3]*e,t[2]=r[2]}(this,this,t),this.check()}transformByQuaternion(t){return T.gL(this,this,t),this.check()}}class z extends Z{static get ZERO(){return q||(q=new z(0,0,0,0),Object.freeze(q)),q}constructor(t=0,r=0,i=0,s=0){super(-0,-0,-0,-0),c(t)&&1===arguments.length?this.copy(t):(n.debug&&(x(t),x(r),x(i),x(s)),this[0]=t,this[1]=r,this[2]=i,this[3]=s)}set(t,r,i,s){return this[0]=t,this[1]=r,this[2]=i,this[3]=s,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}fromObject(t){return n.debug&&(x(t.x),x(t.y),x(t.z),x(t.w)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t.w=this[3],t}get ELEMENTS(){return 4}get z(){return this[2]}set z(t){this[2]=x(t)}get w(){return this[3]}set w(t){this[3]=x(t)}transform(t){return T.Z0(this,this,t),this.check()}transformByMatrix3(t){return I(this,this,t),this.check()}transformByMatrix2(t){return function(t,r,i){const s=r[0],e=r[1];t[0]=i[0]*s+i[2]*e,t[1]=i[1]*s+i[3]*e,t[2]=r[2],t[3]=r[3]}(this,this,t),this.check()}transformByQuaternion(t){return T.gL(this,this,t),this.check()}applyMatrix4(t){return t.transform(this,this),this}}class V extends N{toString(){let t="[";if(n.printRowMajor){t+="row-major:";for(let r=0;r<this.RANK;++r)for(let i=0;i<this.RANK;++i)t+=" ".concat(this[i*this.RANK+r])}else{t+="column-major:";for(let r=0;r<this.ELEMENTS;++r)t+=" ".concat(this[r])}return t+="]",t}getElementIndex(t,r){return r*this.RANK+t}getElement(t,r){return this[r*this.RANK+t]}setElement(t,r,i){return this[r*this.RANK+t]=x(i),this}getColumn(t,r=new Array(this.RANK).fill(-0)){const i=t*this.RANK;for(let t=0;t<this.RANK;++t)r[t]=this[i+t];return r}setColumn(t,r){const i=t*this.RANK;for(let t=0;t<this.RANK;++t)this[i+t]=r[t];return this}}var _,F=i(7823);function B(t,r,i){var s=r[0],e=r[1],h=r[2],n=r[3],a=r[4],o=r[5],c=r[6],u=r[7],l=r[8],f=i[0],g=i[1],E=i[2],M=i[3],O=i[4],m=i[5],p=i[6],y=i[7],d=i[8];return t[0]=f*s+g*n+E*c,t[1]=f*e+g*a+E*u,t[2]=f*h+g*o+E*l,t[3]=M*s+O*n+m*c,t[4]=M*e+O*a+m*u,t[5]=M*h+O*o+m*l,t[6]=p*s+y*n+d*c,t[7]=p*e+y*a+d*u,t[8]=p*h+y*o+d*l,t}function D(t,r,i){var s=i[0],e=i[1];return t[0]=s*r[0],t[1]=s*r[1],t[2]=s*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}!function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"}(_||(_={}));const K=Object.freeze([1,0,0,0,1,0,0,0,1]);class Q extends V{static get IDENTITY(){return U||(U=new Q,Object.freeze(U)),U}static get ZERO(){return $||($=new Q([0,0,0,0,0,0,0,0,0]),Object.freeze($)),$}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return _}constructor(t,...r){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):r.length>0?this.copy([t,...r]):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}identity(){return this.copy(K)}fromObject(t){return this.check()}fromQuaternion(t){return function(t,r){var i=r[0],s=r[1],e=r[2],h=r[3],n=i+i,a=s+s,o=e+e,c=i*n,u=s*n,l=s*a,f=e*n,g=e*a,E=e*o,M=h*n,O=h*a,m=h*o;t[0]=1-l-E,t[3]=u-m,t[6]=f+O,t[1]=u+m,t[4]=1-c-E,t[7]=g-M,t[2]=f-O,t[5]=g+M,t[8]=1-c-l}(this,t),this.check()}set(t,r,i,s,e,h,n,a,o){return this[0]=t,this[1]=r,this[2]=i,this[3]=s,this[4]=e,this[5]=h,this[6]=n,this[7]=a,this[8]=o,this.check()}setRowMajor(t,r,i,s,e,h,n,a,o){return this[0]=t,this[1]=s,this[2]=n,this[3]=r,this[4]=e,this[5]=a,this[6]=i,this[7]=h,this[8]=o,this.check()}determinant(){return r=(t=this)[0],i=t[1],s=t[2],e=t[3],h=t[4],n=t[5],a=t[6],o=t[7],r*((c=t[8])*h-n*o)+i*(-c*e+n*a)+s*(o*e-h*a);var t,r,i,s,e,h,n,a,o,c}transpose(){return function(t,r){if(t===r){var i=r[1],s=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=i,t[5]=r[7],t[6]=s,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8]}(this,this),this.check()}invert(){var t,r,i,s,e,h,n,a,o,c,u,l,f,g,E;return t=this,i=(r=this)[0],s=r[1],e=r[2],h=r[3],n=r[4],a=r[5],o=r[6],c=r[7],(E=i*(l=(u=r[8])*n-a*c)+s*(f=-u*h+a*o)+e*(g=c*h-n*o))&&(E=1/E,t[0]=l*E,t[1]=(-u*s+e*c)*E,t[2]=(a*s-e*n)*E,t[3]=f*E,t[4]=(u*i-e*o)*E,t[5]=(-a*i+e*h)*E,t[6]=g*E,t[7]=(-c*i+s*o)*E,t[8]=(n*i-s*h)*E),this.check()}multiplyLeft(t){return B(this,t,this),this.check()}multiplyRight(t){return B(this,this,t),this.check()}rotate(t){var r,i,s,e,h,n,a,o,c,u,l,f,g,E;return r=this,s=t,e=(i=this)[0],h=i[1],n=i[2],a=i[3],o=i[4],c=i[5],u=i[6],l=i[7],f=i[8],g=Math.sin(s),E=Math.cos(s),r[0]=E*e+g*a,r[1]=E*h+g*o,r[2]=E*n+g*c,r[3]=E*a-g*e,r[4]=E*o-g*h,r[5]=E*c-g*n,r[6]=u,r[7]=l,r[8]=f,this.check()}scale(t){return Array.isArray(t)?D(this,this,t):D(this,this,[t,t]),this.check()}translate(t){var r,i,s,e,h,n,a,o,c,u,l,f,g,E;return r=this,s=t,e=(i=this)[0],h=i[1],n=i[2],a=i[3],o=i[4],c=i[5],u=i[6],l=i[7],f=i[8],g=s[0],E=s[1],r[0]=e,r[1]=h,r[2]=n,r[3]=a,r[4]=o,r[5]=c,r[6]=g*e+E*a+u,r[7]=g*h+E*o+l,r[8]=g*n+E*c+f,this.check()}transform(t,r){let i;switch(t.length){case 2:i=P.ei(r||[-0,-0],t,this);break;case 3:i=T.ei(r||[-0,-0,-0],t,this);break;case 4:i=I(r||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return A(i,t.length),i}transformVector(t,r){return this.transform(t,r)}transformVector2(t,r){return this.transform(t,r)}transformVector3(t,r){return this.transform(t,r)}}let $,U;var G,H=i(7684),J=i(4796);!function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"}(G||(G={}));const tt=45*Math.PI/180,rt=1,it=.1,st=500,et=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class ht extends V{static get IDENTITY(){return at||(at=new ht,Object.freeze(at)),at}static get ZERO(){return nt||(nt=new ht([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(nt)),nt}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return G}constructor(t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(t)?this.copy(t):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this.check()}set(t,r,i,s,e,h,n,a,o,c,u,l,f,g,E,M){return this[0]=t,this[1]=r,this[2]=i,this[3]=s,this[4]=e,this[5]=h,this[6]=n,this[7]=a,this[8]=o,this[9]=c,this[10]=u,this[11]=l,this[12]=f,this[13]=g,this[14]=E,this[15]=M,this.check()}setRowMajor(t,r,i,s,e,h,n,a,o,c,u,l,f,g,E,M){return this[0]=t,this[1]=e,this[2]=o,this[3]=f,this[4]=r,this[5]=h,this[6]=c,this[7]=g,this[8]=i,this[9]=n,this[10]=u,this[11]=E,this[12]=s,this[13]=a,this[14]=l,this[15]=M,this.check()}toRowMajor(t){return t[0]=this[0],t[1]=this[4],t[2]=this[8],t[3]=this[12],t[4]=this[1],t[5]=this[5],t[6]=this[9],t[7]=this[13],t[8]=this[2],t[9]=this[6],t[10]=this[10],t[11]=this[14],t[12]=this[3],t[13]=this[7],t[14]=this[11],t[15]=this[15],t}identity(){return this.copy(et)}fromObject(t){return this.check()}fromQuaternion(t){return H.I0(this,t),this.check()}frustum(t){const{left:r,right:i,bottom:s,top:e,near:h=it,far:n=st}=t;return n===1/0?function(t,r,i,s,e,h){const n=2*h/(i-r),a=2*h/(e-s),o=(i+r)/(i-r),c=(e+s)/(e-s),u=-2*h;t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=o,t[9]=c,t[10]=-1,t[11]=-1,t[12]=0,t[13]=0,t[14]=u,t[15]=0}(this,r,i,s,e,h):H.$h(this,r,i,s,e,h,n),this.check()}lookAt(t){const{eye:r,center:i=[0,0,0],up:s=[0,1,0]}=t;return H.t5(this,r,i,s),this.check()}ortho(t){const{left:r,right:i,bottom:s,top:e,near:h=it,far:n=st}=t;return H.v3(this,r,i,s,e,h,n),this.check()}orthographic(t){const{fovy:r=tt,aspect:i=rt,focalDistance:s=1,near:e=it,far:h=st}=t;ot(r);const n=r/2,a=s*Math.tan(n),o=a*i;return this.ortho({left:-o,right:o,bottom:-a,top:a,near:e,far:h})}perspective(t){const{fovy:r=45*Math.PI/180,aspect:i=1,near:s=.1,far:e=500}=t;return ot(r),H.fN(this,r,i,s,e),this.check()}determinant(){return H.a4(this)}getScale(t=[-0,-0,-0]){return t[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),t[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),t[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),t}getTranslation(t=[-0,-0,-0]){return t[0]=this[12],t[1]=this[13],t[2]=this[14],t}getRotation(t,r){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const i=this.getScale(r),s=1/i[0],e=1/i[1],h=1/i[2];return t[0]=this[0]*s,t[1]=this[1]*e,t[2]=this[2]*h,t[3]=0,t[4]=this[4]*s,t[5]=this[5]*e,t[6]=this[6]*h,t[7]=0,t[8]=this[8]*s,t[9]=this[9]*e,t[10]=this[10]*h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}getRotationMatrix3(t,r){t=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const i=this.getScale(r),s=1/i[0],e=1/i[1],h=1/i[2];return t[0]=this[0]*s,t[1]=this[1]*e,t[2]=this[2]*h,t[3]=this[4]*s,t[4]=this[5]*e,t[5]=this[6]*h,t[6]=this[8]*s,t[7]=this[9]*e,t[8]=this[10]*h,t}transpose(){return H.mg(this,this),this.check()}invert(){return H.B8(this,this),this.check()}multiplyLeft(t){return H.lw(this,t,this),this.check()}multiplyRight(t){return H.lw(this,this,t),this.check()}rotateX(t){return H.eL(this,this,t),this.check()}rotateY(t){return H.Z8(this,this,t),this.check()}rotateZ(t){return H.Qr(this,this,t),this.check()}rotateXYZ(t){return this.rotateX(t[0]).rotateY(t[1]).rotateZ(t[2])}rotateAxis(t,r){return H.e$(this,this,t,r),this.check()}scale(t){return H.hs(this,this,Array.isArray(t)?t:[t,t,t]),this.check()}translate(t){return H.Tl(this,this,t),this.check()}transform(t,r){return 4===t.length?(A(r=J.Z0(r||[-0,-0,-0,-0],t,this),4),r):this.transformAsPoint(t,r)}transformAsPoint(t,r){const{length:i}=t;let s;switch(i){case 2:s=P.Z0(r||[-0,-0],t,this);break;case 3:s=T.Z0(r||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return A(s,t.length),s}transformAsVector(t,r){let i;switch(t.length){case 2:i=v(r||[-0,-0],t,this);break;case 3:i=C(r||[-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return A(i,t.length),i}transformPoint(t,r){return this.transformAsPoint(t,r)}transformVector(t,r){return this.transformAsPoint(t,r)}transformDirection(t,r){return this.transformAsVector(t,r)}makeRotationX(t){return this.identity().rotateX(t)}makeTranslation(t,r,i){return this.identity().translate([t,r,i])}}let nt,at;function ot(t){if(t>2*Math.PI)throw Error("expected radians")}function ct(){var t=new F.tb(4);return F.tb!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function ut(t,r,i){i*=.5;var s=Math.sin(i);return t[0]=s*r[0],t[1]=s*r[1],t[2]=s*r[2],t[3]=Math.cos(i),t}function lt(t,r,i){var s=r[0],e=r[1],h=r[2],n=r[3],a=i[0],o=i[1],c=i[2],u=i[3];return t[0]=s*u+n*a+e*c-h*o,t[1]=e*u+n*o+h*a-s*c,t[2]=h*u+n*c+s*o-e*a,t[3]=n*u-s*a-e*o-h*c,t}J.o8,J.fA,J.C,J.hZ;var ft,gt,Et,Mt,Ot=J.WQ,mt=J.hs,pt=J.Om,yt=J.Cc,dt=J.Bw,kt=J.m3,Lt=J.S8,St=(J.t2,J.aI,ft=T.vt(),gt=T.fA(1,0,0),Et=T.fA(0,1,0),function(t,r,i){var s=T.Om(r,i);return s<-.999999?(T.$A(ft,gt,r),T.Il(ft)<1e-6&&T.$A(ft,Et,r),T.S8(ft,ft),ut(t,ft,Math.PI),t):s>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(T.$A(ft,r,i),t[0]=ft[0],t[1]=ft[1],t[2]=ft[2],t[3]=1+s,Lt(t,t))});ct(),ct(),Mt=new F.tb(9),F.tb!=Float32Array&&(Mt[1]=0,Mt[2]=0,Mt[3]=0,Mt[5]=0,Mt[6]=0,Mt[7]=0),Mt[0]=1,Mt[4]=1,Mt[8]=1;const bt=[0,0,0,1];class Rt extends N{constructor(t=0,r=0,i=0,s=1){super(-0,-0,-0,-0),Array.isArray(t)&&1===arguments.length?this.copy(t):this.set(t,r,i,s)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,r,i,s){return this[0]=t,this[1]=r,this[2]=i,this[3]=s,this.check()}fromObject(t){return this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this.check()}fromMatrix3(t){return function(t,r){var i,s=r[0]+r[4]+r[8];if(s>0)i=Math.sqrt(s+1),t[3]=.5*i,i=.5/i,t[0]=(r[5]-r[7])*i,t[1]=(r[6]-r[2])*i,t[2]=(r[1]-r[3])*i;else{var e=0;r[4]>r[0]&&(e=1),r[8]>r[3*e+e]&&(e=2);var h=(e+1)%3,n=(e+2)%3;i=Math.sqrt(r[3*e+e]-r[3*h+h]-r[3*n+n]+1),t[e]=.5*i,i=.5/i,t[3]=(r[3*h+n]-r[3*n+h])*i,t[h]=(r[3*h+e]+r[3*e+h])*i,t[n]=(r[3*n+e]+r[3*e+n])*i}}(this,t),this.check()}fromAxisRotation(t,r){return ut(this,t,r),this.check()}identity(){return function(t){t[0]=0,t[1]=0,t[2]=0,t[3]=1}(this),this.check()}setAxisAngle(t,r){return this.fromAxisRotation(t,r)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=x(t)}get y(){return this[1]}set y(t){this[1]=x(t)}get z(){return this[2]}set z(t){this[2]=x(t)}get w(){return this[3]}set w(t){this[3]=x(t)}len(){return dt(this)}lengthSquared(){return kt(this)}dot(t){return pt(this,t)}rotationTo(t,r){return St(this,t,r),this.check()}add(t){return Ot(this,this,t),this.check()}calculateW(){return function(t,r){var i=r[0],s=r[1],e=r[2];t[0]=i,t[1]=s,t[2]=e,t[3]=Math.sqrt(Math.abs(1-i*i-s*s-e*e))}(this,this),this.check()}conjugate(){return function(t,r){t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3]}(this,this),this.check()}invert(){return function(t,r){var i=r[0],s=r[1],e=r[2],h=r[3],n=i*i+s*s+e*e+h*h,a=n?1/n:0;t[0]=-i*a,t[1]=-s*a,t[2]=-e*a,t[3]=h*a}(this,this),this.check()}lerp(t,r,i){return void 0===i?this.lerp(this,t,r):(yt(this,t,r,i),this.check())}multiplyRight(t){return lt(this,this,t),this.check()}multiplyLeft(t){return lt(this,t,this),this.check()}normalize(){const t=this.len(),r=t>0?1/t:0;return this[0]=this[0]*r,this[1]=this[1]*r,this[2]=this[2]*r,this[3]=this[3]*r,0===t&&(this[3]=1),this.check()}rotateX(t){return function(t,r,i){i*=.5;var s=r[0],e=r[1],h=r[2],n=r[3],a=Math.sin(i),o=Math.cos(i);t[0]=s*o+n*a,t[1]=e*o+h*a,t[2]=h*o-e*a,t[3]=n*o-s*a}(this,this,t),this.check()}rotateY(t){return function(t,r,i){i*=.5;var s=r[0],e=r[1],h=r[2],n=r[3],a=Math.sin(i),o=Math.cos(i);t[0]=s*o-h*a,t[1]=e*o+n*a,t[2]=h*o+s*a,t[3]=n*o-e*a}(this,this,t),this.check()}rotateZ(t){return function(t,r,i){i*=.5;var s=r[0],e=r[1],h=r[2],n=r[3],a=Math.sin(i),o=Math.cos(i);t[0]=s*o+e*a,t[1]=e*o-s*a,t[2]=h*o+n*a,t[3]=n*o-h*a}(this,this,t),this.check()}scale(t){return mt(this,this,t),this.check()}slerp(t,r,i){let s,e,h;switch(arguments.length){case 1:({start:s=bt,target:e,ratio:h}=t);break;case 2:s=this,e=t,h=r;break;default:s=t,e=r,h=i}return function(t,r,i,s){var e,h,n,a,o,c=r[0],u=r[1],l=r[2],f=r[3],g=i[0],E=i[1],M=i[2],O=i[3];(h=c*g+u*E+l*M+f*O)<0&&(h=-h,g=-g,E=-E,M=-M,O=-O),1-h>F.p8?(e=Math.acos(h),n=Math.sin(e),a=Math.sin((1-s)*e)/n,o=Math.sin(s*e)/n):(a=1-s,o=s),t[0]=a*c+o*g,t[1]=a*u+o*E,t[2]=a*l+o*M,t[3]=a*f+o*O}(this,s,e,h),this.check()}transformVector4(t,r=new z){return J.gL(r,t,this),A(r,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,r){return this.setAxisAngle(t,r)}premultiply(t){return this.multiplyLeft(t)}multiply(t){return this.multiplyRight(t)}}var wt=i(662);const Nt=1e-6;class xt{constructor({phi:t=0,theta:r=0,radius:i=1,bearing:s,pitch:e,altitude:h,radiusScale:n=6371e3}={}){(0,wt.A)(this,"phi",void 0),(0,wt.A)(this,"theta",void 0),(0,wt.A)(this,"radius",void 0),(0,wt.A)(this,"radiusScale",void 0),this.phi=t,this.theta=r,this.radius=i||h||1,this.radiusScale=n||1,void 0!==s&&(this.bearing=s),void 0!==e&&(this.pitch=e),this.check()}toString(){return this.formatString(n)}formatString({printTypes:t=!1}){const r=o;return"".concat(t?"Spherical":"","[rho:").concat(r(this.radius),",theta:").concat(r(this.theta),",phi:").concat(r(this.phi),"]")}equals(t){return S(this.radius,t.radius)&&S(this.theta,t.theta)&&S(this.phi,t.phi)}exactEquals(t){return this.radius===t.radius&&this.theta===t.theta&&this.phi===t.phi}get bearing(){return 180-E(this.phi)}set bearing(t){this.phi=Math.PI-g(t)}get pitch(){return E(this.theta)}set pitch(t){this.theta=g(t)}get longitude(){return E(this.phi)}get latitude(){return E(this.theta)}get lng(){return E(this.phi)}get lat(){return E(this.theta)}get z(){return(this.radius-1)*this.radiusScale}set(t,r,i){return this.radius=t,this.phi=r,this.theta=i,this.check()}clone(){return(new xt).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this.check()}fromLngLatZ([t,r,i]){return this.radius=1+i/this.radiusScale,this.phi=g(r),this.theta=g(t),this.check()}fromVector3(t){return this.radius=T.Bw(t),this.radius>0&&(this.theta=Math.atan2(t[0],t[1]),this.phi=Math.acos(k(t[2]/this.radius,-1,1))),this.check()}toVector3(){return new j(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}makeSafe(){return this.phi=Math.max(Nt,Math.min(Math.PI-Nt,this.phi)),this}check(){if(!(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0))throw new Error("SphericalCoordinates: some fields set to invalid numbers");return this}}const At="Unknown Euler angle order",Zt=.99999;var Pt;!function(t){t[t.ZYX=0]="ZYX",t[t.YXZ=1]="YXZ",t[t.XZY=2]="XZY",t[t.ZXY=3]="ZXY",t[t.YZX=4]="YZX",t[t.XYZ=5]="XYZ"}(Pt||(Pt={}));class vt extends N{static get ZYX(){return Pt.ZYX}static get YXZ(){return Pt.YXZ}static get XZY(){return Pt.XZY}static get ZXY(){return Pt.ZXY}static get YZX(){return Pt.YZX}static get XYZ(){return Pt.XYZ}static get RollPitchYaw(){return Pt.ZYX}static get DefaultOrder(){return Pt.ZYX}static get RotationOrders(){return Pt}static rotationOrder(t){return Pt[t]}get ELEMENTS(){return 4}constructor(t=0,r=0,i=0,s=vt.DefaultOrder){super(-0,-0,-0,-0),arguments.length>0&&Array.isArray(arguments[0])?this.fromVector3(...arguments):this.set(t,r,i,s)}fromQuaternion(t){const[r,i,s,e]=t,h=i*i,n=-2*(h+s*s)+1,a=2*(r*i+e*s);let o=-2*(r*s-e*i);const c=2*(i*s+e*r),u=-2*(r*r+h)+1;o=o>1?1:o,o=o<-1?-1:o;const l=Math.atan2(c,u),f=Math.asin(o),g=Math.atan2(a,n);return this.set(l,f,g,vt.RollPitchYaw)}fromObject(t){throw new Error("not implemented")}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=Number.isFinite(t[3])||this.order,this.check()}set(t=0,r=0,i=0,s){return this[0]=t,this[1]=r,this[2]=i,this[3]=Number.isFinite(s)?s:this[3],this.check()}validate(){return(t=this[3])>=0&&t<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var t}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}toArray4(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t}toVector3(t=[-0,-0,-0]){return t[0]=this[0],t[1]=this[1],t[2]=this[2],t}get x(){return this[0]}set x(t){this[0]=x(t)}get y(){return this[1]}set y(t){this[1]=x(t)}get z(){return this[2]}set z(t){this[2]=x(t)}get alpha(){return this[0]}set alpha(t){this[0]=x(t)}get beta(){return this[1]}set beta(t){this[1]=x(t)}get gamma(){return this[2]}set gamma(t){this[2]=x(t)}get phi(){return this[0]}set phi(t){this[0]=x(t)}get theta(){return this[1]}set theta(t){this[1]=x(t)}get psi(){return this[2]}set psi(t){this[2]=x(t)}get roll(){return this[0]}set roll(t){this[0]=x(t)}get pitch(){return this[1]}set pitch(t){this[1]=x(t)}get yaw(){return this[2]}set yaw(t){this[2]=x(t)}get order(){return this[3]}set order(t){this[3]=function(t){if(t<0&&t>=6)throw new Error(At);return t}(t)}fromVector3(t,r){return this.set(t[0],t[1],t[2],Number.isFinite(r)?r:this[3])}fromArray(t,r=0){return this[0]=t[0+r],this[1]=t[1+r],this[2]=t[2+r],void 0!==t[3]&&(this[3]=t[3]),this.check()}fromRollPitchYaw(t,r,i){return this.set(t,r,i,Pt.ZYX)}fromRotationMatrix(t,r=vt.DefaultOrder){return this._fromRotationMatrix(t,r),this.check()}getRotationMatrix(t){return this._getRotationMatrix(t)}getQuaternion(){const t=new Rt;switch(this[4]){case Pt.XYZ:return t.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case Pt.YXZ:return t.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case Pt.ZXY:return t.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case Pt.ZYX:return t.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case Pt.YZX:return t.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case Pt.XZY:return t.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(At)}}_fromRotationMatrix(t,r=vt.DefaultOrder){const i=t[0],s=t[4],e=t[8],h=t[1],n=t[5],a=t[9],o=t[2],c=t[6],u=t[10];switch(r=r||this[3]){case vt.XYZ:this[1]=Math.asin(k(e,-1,1)),Math.abs(e)<Zt?(this[0]=Math.atan2(-a,u),this[2]=Math.atan2(-s,i)):(this[0]=Math.atan2(c,n),this[2]=0);break;case vt.YXZ:this[0]=Math.asin(-k(a,-1,1)),Math.abs(a)<Zt?(this[1]=Math.atan2(e,u),this[2]=Math.atan2(h,n)):(this[1]=Math.atan2(-o,i),this[2]=0);break;case vt.ZXY:this[0]=Math.asin(k(c,-1,1)),Math.abs(c)<Zt?(this[1]=Math.atan2(-o,u),this[2]=Math.atan2(-s,n)):(this[1]=0,this[2]=Math.atan2(h,i));break;case vt.ZYX:this[1]=Math.asin(-k(o,-1,1)),Math.abs(o)<Zt?(this[0]=Math.atan2(c,u),this[2]=Math.atan2(h,i)):(this[0]=0,this[2]=Math.atan2(-s,n));break;case vt.YZX:this[2]=Math.asin(k(h,-1,1)),Math.abs(h)<Zt?(this[0]=Math.atan2(-a,n),this[1]=Math.atan2(-o,i)):(this[0]=0,this[1]=Math.atan2(e,u));break;case vt.XZY:this[2]=Math.asin(-k(s,-1,1)),Math.abs(s)<Zt?(this[0]=Math.atan2(c,n),this[1]=Math.atan2(e,i)):(this[0]=Math.atan2(-a,u),this[1]=0);break;default:throw new Error(At)}return this[3]=r,this}_getRotationMatrix(t){const r=t||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],i=this.x,s=this.y,e=this.z,h=Math.cos(i),n=Math.cos(s),a=Math.cos(e),o=Math.sin(i),c=Math.sin(s),u=Math.sin(e);switch(this[3]){case vt.XYZ:{const t=h*a,i=h*u,s=o*a,e=o*u;r[0]=n*a,r[4]=-n*u,r[8]=c,r[1]=i+s*c,r[5]=t-e*c,r[9]=-o*n,r[2]=e-t*c,r[6]=s+i*c,r[10]=h*n;break}case vt.YXZ:{const t=n*a,i=n*u,s=c*a,e=c*u;r[0]=t+e*o,r[4]=s*o-i,r[8]=h*c,r[1]=h*u,r[5]=h*a,r[9]=-o,r[2]=i*o-s,r[6]=e+t*o,r[10]=h*n;break}case vt.ZXY:{const t=n*a,i=n*u,s=c*a,e=c*u;r[0]=t-e*o,r[4]=-h*u,r[8]=s+i*o,r[1]=i+s*o,r[5]=h*a,r[9]=e-t*o,r[2]=-h*c,r[6]=o,r[10]=h*n;break}case vt.ZYX:{const t=h*a,i=h*u,s=o*a,e=o*u;r[0]=n*a,r[4]=s*c-i,r[8]=t*c+e,r[1]=n*u,r[5]=e*c+t,r[9]=i*c-s,r[2]=-c,r[6]=o*n,r[10]=h*n;break}case vt.YZX:{const t=h*n,i=h*c,s=o*n,e=o*c;r[0]=n*a,r[4]=e-t*u,r[8]=s*u+i,r[1]=u,r[5]=h*a,r[9]=-o*a,r[2]=-c*a,r[6]=i*u+s,r[10]=t-e*u;break}case vt.XZY:{const t=h*n,i=h*c,s=o*n,e=o*c;r[0]=n*a,r[4]=-u,r[8]=c*a,r[1]=t*u+e,r[5]=h*a,r[9]=i*u-s,r[2]=s*u-i,r[6]=o*a,r[10]=e*u+t;break}default:throw new Error(At)}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}toQuaternion(){const t=Math.cos(.5*this.yaw),r=Math.sin(.5*this.yaw),i=Math.cos(.5*this.roll),s=Math.sin(.5*this.roll),e=Math.cos(.5*this.pitch),h=Math.sin(.5*this.pitch);return new Rt(t*s*e-r*i*h,t*i*h+r*s*e,r*i*e-t*s*h,t*i*e+r*s*h)}}class Ct{constructor({x:t=0,y:r=0,z:i=0,roll:s=0,pitch:e=0,yaw:h=0,position:n,orientation:a}={}){(0,wt.A)(this,"position",void 0),(0,wt.A)(this,"orientation",void 0),Array.isArray(n)&&3===n.length?this.position=new j(n):this.position=new j(t,r,i),Array.isArray(a)&&4===a.length?this.orientation=new vt(a,a[3]):this.orientation=new vt(s,e,h,vt.RollPitchYaw)}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}get z(){return this.position.z}set z(t){this.position.z=t}get roll(){return this.orientation.roll}set roll(t){this.orientation.roll=t}get pitch(){return this.orientation.pitch}set pitch(t){this.orientation.pitch=t}get yaw(){return this.orientation.yaw}set yaw(t){this.orientation.yaw=t}getPosition(){return this.position}getOrientation(){return this.orientation}equals(t){return!!t&&this.position.equals(t.position)&&this.orientation.equals(t.orientation)}exactEquals(t){return!!t&&this.position.exactEquals(t.position)&&this.orientation.exactEquals(t.orientation)}getTransformationMatrix(){const t=Math.sin(this.roll),r=Math.sin(this.pitch),i=Math.sin(this.yaw),s=Math.cos(this.roll),e=Math.cos(this.pitch),h=Math.cos(this.yaw);return(new ht).setRowMajor(h*e,-i*s+h*r*t,i*t+h*r*s,this.x,i*e,h*s+i*r*t,-h*t+i*r*s,this.y,-r,e*t,e*s,this.z,0,0,0,1)}getTransformationMatrixFromPose(t){return(new ht).multiplyRight(this.getTransformationMatrix()).multiplyRight(t.getTransformationMatrix().invert())}getTransformationMatrixToPose(t){return(new ht).multiplyRight(t.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert())}}const It={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:2*Math.PI}}}]);