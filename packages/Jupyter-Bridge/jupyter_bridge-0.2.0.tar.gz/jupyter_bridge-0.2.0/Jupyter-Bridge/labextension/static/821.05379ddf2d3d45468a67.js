"use strict";(self.webpackChunkJupyter_Bridge=self.webpackChunkJupyter_Bridge||[]).push([[821],{821:(e,t,n)=>{n.r(t),n.d(t,{CustomOutputArea:()=>_,default:()=>F});var o=n(345),l=n(638),a=n(372),c=n(71),r=n(302),s=n(723),i=n(72),d=n.n(i),p=n(825),u=n.n(p),m=n(659),g=n.n(m),C=n(56),h=n.n(C),x=n(540),b=n.n(x),f=n(113),y=n.n(f),k=n(646),j={};j.styleTagTransform=y(),j.setAttributes=h(),j.insert=g().bind(null,"head"),j.domAPI=u(),j.insertStyleElement=b(),d()(k.A,j),k.A&&k.A.locals&&k.A.locals,n(898);const N="ct-cellFooterBtn",E="hide-cell-code",v="show-cell-code",w="run-selected-codecell",A="clear-output-cell";class I extends a.NotebookPanel.ContentFactory{constructor(e,t){super(t),this.commands=e}createCellFooter(){return new O(this.commands)}}class O extends l.ReactWidget{constructor(e){super(),this.codeVisible=!1,this.explVisible=!1,this.RUN_ICON="fa-solid fa-circle-play",this.CLEAR_ICON="fa-solid fa-circle-xmark",this.HIDE_ICON="fa-solid fa-eye-slash",this.SHOW_ICON="fa-solid fa-eye",this.EXPL_ICON="fa-solid fa-book",this.addClass("jp-CellFooter"),this.commands=e,this.node.addEventListener("click",(e=>{e.preventDefault()}))}render(){const e=this.codeVisible?this.HIDE_ICON:this.SHOW_ICON;return o.createElement("div",{className:"ct-cellFooterContainer"},o.createElement("button",{className:N,title:"Toggle Explanation",onClick:()=>{console.log("clicked explain"),this.explVisible=!this.explVisible,this.commands.execute("")}},o.createElement("i",{className:this.EXPL_ICON})),o.createElement("button",{className:`${N} .ct-toggleBtn`,title:"Click to hide or show code",onClick:()=>{console.log("Clicked toggle cell visibility"),this.codeVisible=!this.codeVisible,this.codeVisible?this.commands.execute(v):this.commands.execute(E),this.update()}},o.createElement("i",{className:e})),o.createElement("button",{className:N,title:"Click to run this cell",onClick:()=>{console.log("Clicked run cell"),this.commands.execute(w)}},o.createElement("i",{className:this.RUN_ICON})),o.createElement("button",{className:N,title:"Click to clear cell output",onClick:()=>{console.log("Clicked clear output"),this.commands.execute(A)}},o.createElement("i",{className:this.CLEAR_ICON})))}}class _ extends r.OutputArea{constructor(e){super({rendermime:new s.RenderMimeRegistry,contentFactory:r.OutputArea.defaultContentFactory,model:new r.OutputAreaModel({trusted:!0})}),this.addClass("custom-output-area")}}const F=[{id:"jupyterlab-cell_toolbar",autoStart:!0,activate:function(e,t){return console.log("JupyterLab extension is activated!"),Promise.all([e.restored]).then((([n])=>{const{commands:o,shell:l}=e;function c(e){const n=t.currentWidget;return!1!==e.activate&&n&&l.activateById(n.id),n}function r(){return null!==t.currentWidget&&t.currentWidget===e.shell.currentWidget}o.addCommand("",{label:"Toggle Explanatory Cell",execute:()=>{const e=t.currentWidget;if(!e)return;const n=e.content.widgets,o=n.findIndex((t=>e.content.isSelectedOrActive(t)));if(o>0){const e=n[o-1];"markdown"===e.model.type&&!0===e.model.getMetadata("explanatory")&&e.toggleClass("hidden")}},isEnabled:r}),o.addCommand(E,{label:"Hide Cell",execute:e=>{const t=c(e);if(t){const{content:e}=t;a.NotebookActions.hideCode(e)}},isEnabled:r}),o.addCommand(v,{label:"Show Cell",execute:e=>{const t=c(e);if(t){const{content:e}=t;a.NotebookActions.showCode(e)}},isEnabled:r}),o.addCommand(w,{label:"Run Cell",execute:e=>{const t=c(e);if(t){const{context:e,content:n}=t;a.NotebookActions.run(n,e.sessionContext)}},isEnabled:r}),o.addCommand(A,{label:"Clear Output",execute:e=>{const t=c(e);if(t){const{content:e}=t;a.NotebookActions.clearOutputs(e)}},isEnabled:r})})),t.widgetAdded.connect(((e,t)=>{var n;null!==t.content.model&&(null===(n=t.content.model)||void 0===n||n.cells.changed.connect(((e,t)=>{"add"!==t.type&&"set"!==t.type||t.newValues.forEach((e=>{if("markdown"===e.type){let t=e.toJSON().source;const n=t.split("\n")[0].trim();n.includes("#explanatory")?(e.setMetadata("explanatory",!0),t=t.replace("#explanatory","").trim(),console.log("Remove explanatory marker and cellText value: "+t),e.toJSON().source=t):n.includes("#notexplanatory")&&(e.deleteMetadata("explanatory"),t=t.replace("#notexplanatory","").trim(),e.toJSON().source=t)}}))})))})),t.widgetAdded.connect(((e,t)=>{console.log("Notebook widget added"),t.context.ready.then((()=>{console.log("Notebook context is ready"),function(e){const{content:t}=e;t.widgets.forEach((e=>{"code"===e.model.type&&a.NotebookActions.hideAllCode(t)}))}(t),function(e){let t=0;e.content.widgets.forEach(((e,t)=>{"code"===e.model.type&&(e.addClass("ct-code-cell"),e.model.setMetadata("has_explanation",!1))}));let n=!1;e.content.widgets.forEach(((e,o)=>{if("markdown"===e.model.type){const t=!0===e.model.getMetadata("explanatory");t&&(e.addClass("ct-explanatory-cell"),e.addClass("hidden")),n=t}else"code"===e.model.type?(t++,n?(console.log("Entering code cell {codeCellCounter} after an explanatory cell"),e.model.setMetadata("has_explanation",!0),n=!1):console.log(`Entering code cell ${t} with no preceding explanatory cell`),n=!1):(console.log("None code, non markdown"),n=!1)})),console.log("Completed setting has_explanation flags.")}(t),console.log("Logging cell metadata after setup..."),t.content.widgets.forEach(((e,t)=>{console.log(`Cell ${t} (${e.model.type}) metadata:`,e.model.metadata)}))}))})),Promise.resolve()},requires:[a.INotebookTracker]},{id:"jupyterlab-cell_toolbar:factory",provides:a.NotebookPanel.IContentFactory,requires:[c.IEditorServices],autoStart:!0,activate:(e,t)=>{console.log("JupyterLab extension jupyterlab-cell_toolbar","overrides default nootbook content factory");const{commands:n}=e,o=t.factoryService.newInlineEditor;return new I(n,{editorFactory:o})}}]},646:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(601),l=n.n(o),a=n(314),c=n.n(a)()(l());c.push([e.id,".jp-Cell .ct-cellFooterContainer {\n    display: flex;\n    flex-direction: row; /* Ensure horizontal alignment */\n    justify-content: flex-start; /* Move button to the left */\n    align-items: center; /* Vertically center the button */\n   }\n  \n   .jp-Cell .ct-cellFooterBtn {\n     color: #fff;\n     opacity: 0.7;\n     font-size: 0.65rem;\n     font-weight: 500;\n     text-transform: uppercase;\n     border: none;\n     padding: 4px 8px;\n     margin: 0.2rem 0;\n     text-shadow: 0px 0px 5px rgba(0, 0, 0, 0.15);\n     outline: none;\n     cursor: pointer;\n     user-select: none;  \n     margin-left: 0px;\n     margin-right: 4px;\n   }\n  \n   .jp-Placeholder-content .jp-PlaceholderText,\n   .jp-Placeholder-content .jp-MoreHorizIcon {\n     display: none;\n   }\n  \n   /* Disable default cell collapsing behavior */\n  .jp-InputCollapser,\n  .jp-OutputCollapser,\n  .jp-Placeholder {\n   cursor: auto !important;\n   pointer-events: none !important;\n  }\n  \n   /* Add styles for toggle button */\n   .jp-Cell .ct-toggleBtn{\n     background: #f0f0f0;\n   }\n  \n   .jp-Cell .ct-toggleBtn:hover{\n     background-color: #ccc;\n   }\n  \n   .jp-Cell .ct-toggleBtn:active{\n     background-color: #999;\n   }\n   \n   .ct-cellFooterBtn:active {\n     background-color: var(--md-blue-600);\n     text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.4);\n   }\n   \n   .jp-Cell .ct-cellFooterBtn:hover {\n     background-color: var(--md-blue-500);\n     opacity: 1;\n     text-shadow: 0px 0px 7px rgba(0, 0, 0, 0.3);\n     box-shadow: var(--jp-elevation-z2);\n   }\n   \n   .jp-Cell .ct-cellFooterBtn {\n     background: var(--md-blue-400);\n   }\n   \n   .jp-CodeCell {\n     display: flex !important;\n     flex-direction: column;\n   }\n   \n   .jp-CodeCell .jp-CellFooter {\n     height: auto;\n     order: 2;\n   }\n   \n   .jp-Cell .jp-Cell-inputWrapper {\n     margin-top: 5px;\n   }\n   \n   .jp-CodeCell .jp-Cell-outputWrapper {\n     order: 4;\n   }\n   \n   .ct-explanatory-cell {\n     \n     width: 50%;\n     float: left;\n   }\n   \n   .ct-code-cell {\n    \n   }\n  \n   .hidden {\n     display: none;\n   }\n  \n   .lm-Widget.jp-Collapser.jp-InputCollapser.jp-Cell-inputCollapser, .lm-Widget.jp-Collapser.jp-OutputCollapser.jp-Cell-outputCollapser {\n    display: none !important;\n   }\n  \n   .lm-Widget.jp-InputPrompt.jp-InputArea-prompt{\n  \n   }",""]);const r=c}}]);